/*! For license information please see main.0f680a34.js.LICENSE.txt */
(()=>{var e={3137:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(3988),n(7766),n(7020),n(7755),function(){var e=s,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],a=[],o=[],l=[],c=[],u=[],h=[],d=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,s=0;for(t=0;t<256;t++){var p=s^s<<1^s<<2^s<<3^s<<4;p=p>>>8^255&p^99,r[n]=p,i[p]=n;var m=e[n],g=e[m],v=e[g],y=257*e[p]^16843008*p;a[n]=y<<24|y>>>8,o[n]=y<<16|y>>>16,l[n]=y<<8|y>>>24,c[n]=y,y=16843009*v^65537*g^257*m^16843008*n,u[p]=y<<24|y>>>8,h[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,f[p]=y,n?(n=m^e[e[e[v^m]]],s^=e[e[s]]):n=s=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),s=this._keySchedule=[],a=0;a<i;a++)a<n?s[a]=t[a]:(c=s[a-1],a%n?n>6&&a%n==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=p[a/n|0]<<24),s[a]=s[a-n]^c);for(var o=this._invKeySchedule=[],l=0;l<i;l++){if(a=i-l,l%4)var c=s[a];else c=s[a-4];o[l]=l<4||a<=4?c:u[r[c>>>24]]^h[r[c>>>16&255]]^d[r[c>>>8&255]]^f[r[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,o,l,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,h,d,f,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,s,a,o){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],f=4,p=1;p<l;p++){var m=r[c>>>24]^i[u>>>16&255]^s[h>>>8&255]^a[255&d]^n[f++],g=r[u>>>24]^i[h>>>16&255]^s[d>>>8&255]^a[255&c]^n[f++],v=r[h>>>24]^i[d>>>16&255]^s[c>>>8&255]^a[255&u]^n[f++],y=r[d>>>24]^i[c>>>16&255]^s[u>>>8&255]^a[255&h]^n[f++];c=m,u=g,h=v,d=y}m=(o[c>>>24]<<24|o[u>>>16&255]<<16|o[h>>>8&255]<<8|o[255&d])^n[f++],g=(o[u>>>24]<<24|o[h>>>16&255]<<16|o[d>>>8&255]<<8|o[255&c])^n[f++],v=(o[h>>>24]<<24|o[d>>>16&255]<<16|o[c>>>8&255]<<8|o[255&u])^n[f++],y=(o[d>>>24]<<24|o[c>>>16&255]<<16|o[u>>>8&255]<<8|o[255&h])^n[f++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=y},keySize:8});e.AES=t._createHelper(m)}(),s.AES)}()},6722:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(3988),n(7766),n(7020),n(7755),function(){var e=s,t=e.lib.BlockCipher,n=e.algo;const r=16,i=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var o={pbox:[],sbox:[]};function l(e,t){let n=t>>24&255,r=t>>16&255,i=t>>8&255,s=255&t,a=e.sbox[0][n]+e.sbox[1][r];return a^=e.sbox[2][i],a+=e.sbox[3][s],a}function c(e,t,n){let i,s=t,a=n;for(let o=0;o<r;++o)s^=e.pbox[o],a=l(e,s)^a,i=s,s=a,a=i;return i=s,s=a,a=i,a^=e.pbox[r],s^=e.pbox[r+1],{left:s,right:a}}function u(e,t,n){let i,s=t,a=n;for(let o=r+1;o>1;--o)s^=e.pbox[o],a=l(e,s)^a,i=s,s=a,a=i;return i=s,s=a,a=i,a^=e.pbox[1],s^=e.pbox[0],{left:s,right:a}}function h(e,t,n){for(let r=0;r<4;r++){e.sbox[r]=[];for(let t=0;t<256;t++)e.sbox[r][t]=a[r][t]}let s=0;for(let a=0;a<r+2;a++)e.pbox[a]=i[a]^t[s],s++,s>=n&&(s=0);let o=0,l=0,u=0;for(let i=0;i<r+2;i+=2)u=c(e,o,l),o=u.left,l=u.right,e.pbox[i]=o,e.pbox[i+1]=l;for(let r=0;r<4;r++)for(let t=0;t<256;t+=2)u=c(e,o,l),o=u.left,l=u.right,e.sbox[r][t]=o,e.sbox[r][t+1]=l;return!0}var d=n.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;h(o,t,n)}},encryptBlock:function(e,t){var n=c(o,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=u(o,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(d)}(),s.Blowfish)}()},7755:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7020),void(s.lib.Cipher||function(e){var t=s,n=t.lib,r=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,o=t.enc,l=(o.Utf8,o.Base64),c=t.algo.EvpKDF,u=n.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:v}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),h=(n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),d=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=h.CBC=function(){var t=d.extend();function n(t,n,r){var i,s=this._iv;s?(i=s,this._iv=e):i=this._prevBlock;for(var a=0;a<r;a++)t[n+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,s=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=s}}),t}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,s=r<<24|r<<16|r<<8|r,a=[],o=0;o<r;o+=4)a.push(s);var l=i.create(a,r);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:f,padding:p}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},v=n.SerializableCipher=r.extend({cfg:r.extend({format:g}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),s=i.finalize(t),a=i.cfg;return m.create({ciphertext:s,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,n,r,s){if(r||(r=i.random(8)),s)a=c.create({keySize:t+n,hasher:s}).compute(e,r);else var a=c.create({keySize:t+n}).compute(e,r);var o=i.create(a.words.slice(t),4*n);return a.sigBytes=4*t,m.create({key:a,iv:o,salt:r})}},w=n.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:y}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=i.iv;var s=v.encrypt.call(this,e,t,i.key,r);return s.mixIn(i),s},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=i.iv,v.decrypt.call(this,e,t,i.key,r)}})}()))}()},4703:function(e,t,n){e.exports=function(){var e=e||function(e,t){var r;if("undefined"!==typeof window&&window.crypto&&(r=window.crypto),"undefined"!==typeof self&&self.crypto&&(r=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!==typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!==typeof n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(477)}catch(g){}var i=function(){if(r){if("function"===typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"===typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},o=a.lib={},l=o.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=o.WordArray=l.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var s=0;s<i;s++){var a=n[s>>>2]>>>24-s%4*8&255;t[r+s>>>2]|=a<<24-(r+s)%4*8}else for(var o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),u=a.enc={},h=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},f=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,s=r.sigBytes,a=this.blockSize,o=s/(4*a),l=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*a,u=e.min(4*l,s);if(l){for(var h=0;h<l;h+=a)this._doProcessBlock(i,h);n=i.splice(0,l),r.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(o.Hasher=p.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math);return e}()},3988:function(e,t,n){!function(t,r){var i;e.exports=(i=n(4703),function(){var e=i,t=e.lib.WordArray;function n(e,n,r){for(var i=[],s=0,a=0;a<n;a++)if(a%4){var o=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[s>>>2]|=o<<24-s%4*8,s++}return t.create(i,s)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],s=0;s<n;s+=3)for(var a=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,o=0;o<4&&s+.75*o<n;o++)i.push(r.charAt(a>>>6*(3-o)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<r.length;s++)i[r.charCodeAt(s)]=s}var a=r.charAt(64);if(a){var o=e.indexOf(a);-1!==o&&(t=o)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},9367:function(e,t,n){!function(t,r){var i;e.exports=(i=n(4703),function(){var e=i,t=e.lib.WordArray;function n(e,n,r){for(var i=[],s=0,a=0;a<n;a++)if(a%4){var o=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[s>>>2]|=o<<24-s%4*8,s++}return t.create(i,s)}e.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var s=[],a=0;a<r;a+=3)for(var o=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,l=0;l<4&&a+.75*l<r;l++)s.push(i.charAt(o>>>6*(3-l)&63));var c=i.charAt(64);if(c)for(;s.length%4;)s.push(c);return s.join("")},parse:function(e,t){void 0===t&&(t=!0);var r=e.length,i=t?this._safe_map:this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var a=0;a<i.length;a++)s[i.charCodeAt(a)]=a}var o=i.charAt(64);if(o){var l=e.indexOf(o);-1!==l&&(r=l)}return n(e,r,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),i.enc.Base64url)}()},7353:function(e,t,n){!function(t,r){var i;e.exports=(i=n(4703),function(){var e=i,t=e.lib.WordArray,n=e.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var s=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s+=2){var a=r(t[s>>>2]>>>16-s%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var n=e.length,i=[],s=0;s<n;s++)i[s>>>1]|=r(e.charCodeAt(s)<<16-s%2*16);return t.create(i,2*n)}}}(),i.enc.Utf16)}()},7020:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(2689),n(9787),function(){var e=s,t=e.lib,n=t.Base,r=t.WordArray,i=e.algo,a=i.MD5,o=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,s=i.hasher.create(),a=r.create(),o=a.words,l=i.keySize,c=i.iterations;o.length<l;){n&&s.update(n),n=s.update(e).finalize(t),s.reset();for(var u=1;u<c;u++)n=s.finalize(n),s.reset();a.concat(n)}return a.sigBytes=4*l,a}});e.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)}}(),s.EvpKDF)}()},1115:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7755),function(e){var t=s,n=t.lib.CipherParams,r=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(r)},parse:function(e){var t=r.parse(e);return n.create({ciphertext:t})}}}(),s.format.Hex)}()},9787:function(e,t,n){!function(t,r){var i;e.exports=(i=n(4703),void function(){var e=i,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var s=this._oKey=t.clone(),a=this._iKey=t.clone(),o=s.words,l=a.words,c=0;c<r;c++)o[c]^=1549556828,l[c]^=909522486;s.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},9210:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(4654),n(6810),n(7353),n(3988),n(9367),n(7766),n(2689),n(7427),n(4798),n(4290),n(6883),n(7055),n(6290),n(9787),n(5425),n(7020),n(7755),n(167),n(1045),n(7118),n(9907),n(2768),n(7279),n(4239),n(6008),n(9321),n(8406),n(1115),n(3137),n(4774),n(5003),n(676),n(4278),n(6722),s)}()},6810:function(e,t,n){!function(t,r){var i;e.exports=(i=n(4703),function(){if("function"==typeof ArrayBuffer){var e=i.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),i.lib.WordArray)}()},7766:function(e,t,n){!function(t,r){var i;e.exports=(i=n(4703),function(e){var t=i,n=t.lib,r=n.WordArray,s=n.Hasher,a=t.algo,o=[];!function(){for(var t=0;t<64;t++)o[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=a.MD5=s.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s=this._hash.words,a=e[t+0],l=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],y=e[t+7],w=e[t+8],b=e[t+9],_=e[t+10],x=e[t+11],E=e[t+12],S=e[t+13],k=e[t+14],C=e[t+15],T=s[0],N=s[1],I=s[2],j=s[3];T=c(T,N,I,j,a,7,o[0]),j=c(j,T,N,I,l,12,o[1]),I=c(I,j,T,N,f,17,o[2]),N=c(N,I,j,T,p,22,o[3]),T=c(T,N,I,j,m,7,o[4]),j=c(j,T,N,I,g,12,o[5]),I=c(I,j,T,N,v,17,o[6]),N=c(N,I,j,T,y,22,o[7]),T=c(T,N,I,j,w,7,o[8]),j=c(j,T,N,I,b,12,o[9]),I=c(I,j,T,N,_,17,o[10]),N=c(N,I,j,T,x,22,o[11]),T=c(T,N,I,j,E,7,o[12]),j=c(j,T,N,I,S,12,o[13]),I=c(I,j,T,N,k,17,o[14]),T=u(T,N=c(N,I,j,T,C,22,o[15]),I,j,l,5,o[16]),j=u(j,T,N,I,v,9,o[17]),I=u(I,j,T,N,x,14,o[18]),N=u(N,I,j,T,a,20,o[19]),T=u(T,N,I,j,g,5,o[20]),j=u(j,T,N,I,_,9,o[21]),I=u(I,j,T,N,C,14,o[22]),N=u(N,I,j,T,m,20,o[23]),T=u(T,N,I,j,b,5,o[24]),j=u(j,T,N,I,k,9,o[25]),I=u(I,j,T,N,p,14,o[26]),N=u(N,I,j,T,w,20,o[27]),T=u(T,N,I,j,S,5,o[28]),j=u(j,T,N,I,f,9,o[29]),I=u(I,j,T,N,y,14,o[30]),T=h(T,N=u(N,I,j,T,E,20,o[31]),I,j,g,4,o[32]),j=h(j,T,N,I,w,11,o[33]),I=h(I,j,T,N,x,16,o[34]),N=h(N,I,j,T,k,23,o[35]),T=h(T,N,I,j,l,4,o[36]),j=h(j,T,N,I,m,11,o[37]),I=h(I,j,T,N,y,16,o[38]),N=h(N,I,j,T,_,23,o[39]),T=h(T,N,I,j,S,4,o[40]),j=h(j,T,N,I,a,11,o[41]),I=h(I,j,T,N,p,16,o[42]),N=h(N,I,j,T,v,23,o[43]),T=h(T,N,I,j,b,4,o[44]),j=h(j,T,N,I,E,11,o[45]),I=h(I,j,T,N,C,16,o[46]),T=d(T,N=h(N,I,j,T,f,23,o[47]),I,j,a,6,o[48]),j=d(j,T,N,I,y,10,o[49]),I=d(I,j,T,N,k,15,o[50]),N=d(N,I,j,T,g,21,o[51]),T=d(T,N,I,j,E,6,o[52]),j=d(j,T,N,I,p,10,o[53]),I=d(I,j,T,N,_,15,o[54]),N=d(N,I,j,T,l,21,o[55]),T=d(T,N,I,j,w,6,o[56]),j=d(j,T,N,I,C,10,o[57]),I=d(I,j,T,N,v,15,o[58]),N=d(N,I,j,T,S,21,o[59]),T=d(T,N,I,j,m,6,o[60]),j=d(j,T,N,I,x,10,o[61]),I=d(I,j,T,N,f,15,o[62]),N=d(N,I,j,T,b,21,o[63]),s[0]=s[0]+T|0,s[1]=s[1]+N|0,s[2]=s[2]+I|0,s[3]=s[3]+j|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var s=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var o=this._hash,l=o.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return o},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,s,a){var o=e+(t&n|~t&r)+i+a;return(o<<s|o>>>32-s)+t}function u(e,t,n,r,i,s,a){var o=e+(t&r|n&~r)+i+a;return(o<<s|o>>>32-s)+t}function h(e,t,n,r,i,s,a){var o=e+(t^n^r)+i+a;return(o<<s|o>>>32-s)+t}function d(e,t,n,r,i,s,a){var o=e+(n^(t|~r))+i+a;return(o<<s|o>>>32-s)+t}t.MD5=s._createHelper(l),t.HmacMD5=s._createHmacHelper(l)}(Math),i.MD5)}()},167:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7755),s.mode.CFB=function(){var e=s.lib.BlockCipherMode.extend();function t(e,t,n,r){var i,s=this._iv;s?(i=s.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,s=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=s}}),e}(),s.mode.CFB)}()},7118:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7755),s.mode.CTRGladman=function(){var e=s.lib.BlockCipherMode.extend();function t(e){if(255===(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var r=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,s=this._iv,a=this._counter;s&&(a=this._counter=s.slice(0),this._iv=void 0),n(a);var o=a.slice(0);r.encryptBlock(o,0);for(var l=0;l<i;l++)e[t+l]^=o[l]}});return e.Decryptor=r,e}(),s.mode.CTRGladman)}()},1045:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7755),s.mode.CTR=function(){var e=s.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0);var a=s.slice(0);n.encryptBlock(a,0),s[r-1]=s[r-1]+1|0;for(var o=0;o<r;o++)e[t+o]^=a[o]}});return e.Decryptor=t,e}(),s.mode.CTR)}()},2768:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7755),s.mode.ECB=function(){var e=s.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),s.mode.ECB)}()},9907:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7755),s.mode.OFB=function(){var e=s.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,s=this._keystream;i&&(s=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(s,0);for(var a=0;a<r;a++)e[t+a]^=s[a]}});return e.Decryptor=t,e}(),s.mode.OFB)}()},7279:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7755),s.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,s=n+i-1;e.clamp(),e.words[s>>>2]|=i<<24-s%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},s.pad.Ansix923)}()},4239:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7755),s.pad.Iso10126={pad:function(e,t){var n=4*t,r=n-e.sigBytes%n;e.concat(s.lib.WordArray.random(r-1)).concat(s.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},s.pad.Iso10126)}()},6008:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7755),s.pad.Iso97971={pad:function(e,t){e.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(e,t)},unpad:function(e){s.pad.ZeroPadding.unpad(e),e.sigBytes--}},s.pad.Iso97971)}()},8406:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7755),s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding)}()},9321:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7755),s.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},s.pad.ZeroPadding)}()},5425:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7427),n(9787),function(){var e=s,t=e.lib,n=t.Base,r=t.WordArray,i=e.algo,a=i.SHA256,o=i.HMAC,l=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=o.create(n.hasher,e),s=r.create(),a=r.create([1]),l=s.words,c=a.words,u=n.keySize,h=n.iterations;l.length<u;){var d=i.update(t).finalize(a);i.reset();for(var f=d.words,p=f.length,m=d,g=1;g<h;g++){m=i.finalize(m),i.reset();for(var v=m.words,y=0;y<p;y++)f[y]^=v[y]}s.concat(d),c[0]++}return s.sigBytes=4*u,s}});e.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)}}(),s.PBKDF2)}()},4278:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(3988),n(7766),n(7020),n(7755),function(){var e=s,t=e.lib.StreamCipher,n=e.algo,r=[],i=[],a=[],o=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var s=t.words,a=s[0],o=s[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(r[0]^=c,r[1]^=h,r[2]^=u,r[3]^=d,r[4]^=c,r[5]^=h,r[6]^=u,r[7]^=d,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],s=65535&r,o=r>>>16,l=((s*s>>>17)+s*o>>>15)+o*o,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=l^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(o)}(),s.RabbitLegacy)}()},676:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(3988),n(7766),n(7020),n(7755),function(){var e=s,t=e.lib.StreamCipher,n=e.algo,r=[],i=[],a=[],o=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var s=t.words,a=s[0],o=s[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(i[0]^=c,i[1]^=h,i[2]^=u,i[3]^=d,i[4]^=c,i[5]^=h,i[6]^=u,i[7]^=d,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],s=65535&r,o=r>>>16,l=((s*s>>>17)+s*o>>>15)+o*o,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=l^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(o)}(),s.Rabbit)}()},5003:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(3988),n(7766),n(7020),n(7755),function(){var e=s,t=e.lib.StreamCipher,n=e.algo,r=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var s=0;i<256;i++){var a=i%n,o=t[a>>>2]>>>24-a%4*8&255;s=(s+r[i]+o)%256;var l=r[i];r[i]=r[s],r[s]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var s=e[t];e[t]=e[n],e[n]=s,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(r);var a=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(a)}(),s.RC4)}()},6290:function(e,t,n){!function(t,r){var i;e.exports=(i=n(4703),function(e){var t=i,n=t.lib,r=n.WordArray,s=n.Hasher,a=t.algo,o=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=r.create([0,1518500249,1859775393,2400959708,2840853838]),d=r.create([1352829926,1548603684,1836072691,2053994217,0]),f=a.RIPEMD160=s.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s,a,f,b,_,x,E,S,k,C,T,N=this._hash.words,I=h.words,j=d.words,A=o.words,O=l.words,D=c.words,R=u.words;for(x=s=N[0],E=a=N[1],S=f=N[2],k=b=N[3],C=_=N[4],n=0;n<80;n+=1)T=s+e[t+A[n]]|0,T+=n<16?p(a,f,b)+I[0]:n<32?m(a,f,b)+I[1]:n<48?g(a,f,b)+I[2]:n<64?v(a,f,b)+I[3]:y(a,f,b)+I[4],T=(T=w(T|=0,D[n]))+_|0,s=_,_=b,b=w(f,10),f=a,a=T,T=x+e[t+O[n]]|0,T+=n<16?y(E,S,k)+j[0]:n<32?v(E,S,k)+j[1]:n<48?g(E,S,k)+j[2]:n<64?m(E,S,k)+j[3]:p(E,S,k)+j[4],T=(T=w(T|=0,R[n]))+C|0,x=C,C=k,k=w(S,10),S=E,E=T;T=N[1]+f+k|0,N[1]=N[2]+b+C|0,N[2]=N[3]+_+x|0,N[3]=N[4]+s+E|0,N[4]=N[0]+a+S|0,N[0]=T},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,s=i.words,a=0;a<5;a++){var o=s[a];s[a]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return i},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function v(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function w(e,t){return e<<t|e>>>32-t}t.RIPEMD160=s._createHelper(f),t.HmacRIPEMD160=s._createHmacHelper(f)}(Math),i.RIPEMD160)}()},2689:function(e,t,n){!function(t,r){var i;e.exports=(i=n(4703),function(){var e=i,t=e.lib,n=t.WordArray,r=t.Hasher,s=e.algo,a=[],o=s.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],l=n[4],c=0;c<80;c++){if(c<16)a[c]=0|e[t+c];else{var u=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=u<<1|u>>>31}var h=(r<<5|r>>>27)+l+a[c];h+=c<20?1518500249+(i&s|~i&o):c<40?1859775393+(i^s^o):c<60?(i&s|i&o|s&o)-1894007588:(i^s^o)-899497514,l=o,o=s,s=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(o),e.HmacSHA1=r._createHmacHelper(o)}(),i.SHA1)}()},4798:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(7427),function(){var e=s,t=e.lib.WordArray,n=e.algo,r=n.SHA256,i=n.SHA224=r.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=r._createHelper(i),e.HmacSHA224=r._createHmacHelper(i)}(),s.SHA224)}()},7427:function(e,t,n){!function(t,r){var i;e.exports=(i=n(4703),function(e){var t=i,n=t.lib,r=n.WordArray,s=n.Hasher,a=t.algo,o=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(o[i]=n(e.pow(r,.5))),l[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],u=a.SHA256=s.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],u=n[5],h=n[6],d=n[7],f=0;f<64;f++){if(f<16)c[f]=0|e[t+f];else{var p=c[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=c[f-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[f]=m+c[f-7]+v+c[f-16]}var y=r&i^r&s^i&s,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=d+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&u^~o&h)+l[f]+c[f];d=h,h=u,u=o,o=a+b|0,a=s,s=i,i=r,r=b+(w+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+o|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=s._createHelper(u),t.HmacSHA256=s._createHmacHelper(u)}(Math),i.SHA256)}()},7055:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(4654),function(e){var t=s,n=t.lib,r=n.WordArray,i=n.Hasher,a=t.x64.Word,o=t.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,s=0;s<24;s++){for(var o=0,h=0,d=0;d<7;d++){if(1&i){var f=(1<<d)-1;f<32?h^=1<<f:o^=1<<f-32}128&i?i=i<<1^113:i<<=1}u[s]=a.create(o,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=a.create()}();var d=o.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var s=e[t+2*i],a=e[t+2*i+1];s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(N=n[i]).high^=a,N.low^=s}for(var o=0;o<24;o++){for(var d=0;d<5;d++){for(var f=0,p=0,m=0;m<5;m++)f^=(N=n[d+5*m]).high,p^=N.low;var g=h[d];g.high=f,g.low=p}for(d=0;d<5;d++){var v=h[(d+4)%5],y=h[(d+1)%5],w=y.high,b=y.low;for(f=v.high^(w<<1|b>>>31),p=v.low^(b<<1|w>>>31),m=0;m<5;m++)(N=n[d+5*m]).high^=f,N.low^=p}for(var _=1;_<25;_++){var x=(N=n[_]).high,E=N.low,S=l[_];S<32?(f=x<<S|E>>>32-S,p=E<<S|x>>>32-S):(f=E<<S-32|x>>>64-S,p=x<<S-32|E>>>64-S);var k=h[c[_]];k.high=f,k.low=p}var C=h[0],T=n[0];for(C.high=T.high,C.low=T.low,d=0;d<5;d++)for(m=0;m<5;m++){var N=n[_=d+5*m],I=h[_],j=h[(d+1)%5+5*m],A=h[(d+2)%5+5*m];N.high=I.high^~j.high&A.high,N.low=I.low^~j.low&A.low}N=n[0];var O=u[o];N.high^=O.high,N.low^=O.low}},_doFinalize:function(){var t=this._data,n=t.words,i=(this._nDataBytes,8*t.sigBytes),s=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(e.ceil((i+1)/s)*s>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,o=this.cfg.outputLength/8,l=o/8,c=[],u=0;u<l;u++){var h=a[u],d=h.high,f=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),c.push(f),c.push(d)}return new r.init(c,o)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=i._createHelper(d),t.HmacSHA3=i._createHmacHelper(d)}(Math),s.SHA3)}()},6883:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(4654),n(4290),function(){var e=s,t=e.x64,n=t.Word,r=t.WordArray,i=e.algo,a=i.SHA512,o=i.SHA384=a.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=a._createHelper(o),e.HmacSHA384=a._createHmacHelper(o)}(),s.SHA384)}()},4290:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(4654),function(){var e=s,t=e.lib.Hasher,n=e.x64,r=n.Word,i=n.WordArray,a=e.algo;function o(){return r.create.apply(r,arguments)}var l=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=o()}();var u=a.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],u=n[5],h=n[6],d=n[7],f=r.high,p=r.low,m=i.high,g=i.low,v=s.high,y=s.low,w=a.high,b=a.low,_=o.high,x=o.low,E=u.high,S=u.low,k=h.high,C=h.low,T=d.high,N=d.low,I=f,j=p,A=m,O=g,D=v,R=y,P=w,L=b,M=_,U=x,F=E,B=S,z=k,V=C,q=T,H=N,W=0;W<80;W++){var K,G,Q=c[W];if(W<16)G=Q.high=0|e[t+2*W],K=Q.low=0|e[t+2*W+1];else{var Y=c[W-15],X=Y.high,$=Y.low,J=(X>>>1|$<<31)^(X>>>8|$<<24)^X>>>7,Z=($>>>1|X<<31)^($>>>8|X<<24)^($>>>7|X<<25),ee=c[W-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),se=c[W-7],ae=se.high,oe=se.low,le=c[W-16],ce=le.high,ue=le.low;G=(G=(G=J+ae+((K=Z+oe)>>>0<Z>>>0?1:0))+re+((K+=ie)>>>0<ie>>>0?1:0))+ce+((K+=ue)>>>0<ue>>>0?1:0),Q.high=G,Q.low=K}var he,de=M&F^~M&z,fe=U&B^~U&V,pe=I&A^I&D^A&D,me=j&O^j&R^O&R,ge=(I>>>28|j<<4)^(I<<30|j>>>2)^(I<<25|j>>>7),ve=(j>>>28|I<<4)^(j<<30|I>>>2)^(j<<25|I>>>7),ye=(M>>>14|U<<18)^(M>>>18|U<<14)^(M<<23|U>>>9),we=(U>>>14|M<<18)^(U>>>18|M<<14)^(U<<23|M>>>9),be=l[W],_e=be.high,xe=be.low,Ee=q+ye+((he=H+we)>>>0<H>>>0?1:0),Se=ve+me;q=z,H=V,z=F,V=B,F=M,B=U,M=P+(Ee=(Ee=(Ee=Ee+de+((he+=fe)>>>0<fe>>>0?1:0))+_e+((he+=xe)>>>0<xe>>>0?1:0))+G+((he+=K)>>>0<K>>>0?1:0))+((U=L+he|0)>>>0<L>>>0?1:0)|0,P=D,L=R,D=A,R=O,A=I,O=j,I=Ee+(ge+pe+(Se>>>0<ve>>>0?1:0))+((j=he+Se|0)>>>0<he>>>0?1:0)|0}p=r.low=p+j,r.high=f+I+(p>>>0<j>>>0?1:0),g=i.low=g+O,i.high=m+A+(g>>>0<O>>>0?1:0),y=s.low=y+R,s.high=v+D+(y>>>0<R>>>0?1:0),b=a.low=b+L,a.high=w+P+(b>>>0<L>>>0?1:0),x=o.low=x+U,o.high=_+M+(x>>>0<U>>>0?1:0),S=u.low=S+B,u.high=E+F+(S>>>0<B>>>0?1:0),C=h.low=C+V,h.high=k+z+(C>>>0<V>>>0?1:0),N=d.low=N+H,d.high=T+q+(N>>>0<H>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),s.SHA512)}()},4774:function(e,t,n){!function(t,r,i){var s;e.exports=(s=n(4703),n(3988),n(7766),n(7020),n(7755),function(){var e=s,t=e.lib,n=t.WordArray,r=t.BlockCipher,i=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=i.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],s=0;s<16;s++){var c=i[s]=[],u=l[s];for(n=0;n<24;n++)c[n/6|0]|=t[(o[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(o[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(n=0;n<16;n++)h[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],s=this._lBlock,a=this._rBlock,o=0,l=0;l<8;l++)o|=c[l][((a^i[l])&u[l])>>>0];this._lBlock=a,this._rBlock=s^o}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function f(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=r._createHelper(h);var p=i.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=h.createEncryptor(n.create(t)),this._des2=h.createEncryptor(n.create(r)),this._des3=h.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=r._createHelper(p)}(),s.TripleDES)}()},4654:function(e,t,n){!function(t,r){var i;e.exports=(i=n(4703),function(e){var t=i,n=t.lib,r=n.Base,s=n.WordArray,a=t.x64={};a.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=r.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return s.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),i)}()},1712:(e,t,n)=>{var r="__lodash_hash_undefined__",i="[object Function]",s="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=o||l||Function("return this")();var u=Array.prototype,h=Function.prototype,d=Object.prototype,f=c["__core-js_shared__"],p=function(){var e=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),m=h.toString,g=d.hasOwnProperty,v=d.toString,y=RegExp("^"+m.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=u.splice,b=N(c,"Map"),_=N(Object,"create");function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function k(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function C(e){if(!j(e)||(t=e,p&&p in t))return!1;var t,n=function(e){var t=j(e)?v.call(e):"";return t==i||t==s}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?y:a;return n.test(function(e){if(null!=e){try{return m.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function T(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function N(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return C(n)?n:void 0}function I(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a),a};return n.cache=new(I.Cache||S),n}function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}x.prototype.clear=function(){this.__data__=_?_(null):{}},x.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},x.prototype.get=function(e){var t=this.__data__;if(_){var n=t[e];return n===r?void 0:n}return g.call(t,e)?t[e]:void 0},x.prototype.has=function(e){var t=this.__data__;return _?void 0!==t[e]:g.call(t,e)},x.prototype.set=function(e,t){return this.__data__[e]=_&&void 0===t?r:t,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(e){var t=this.__data__,n=k(t,e);return!(n<0)&&(n==t.length-1?t.pop():w.call(t,n,1),!0)},E.prototype.get=function(e){var t=this.__data__,n=k(t,e);return n<0?void 0:t[n][1]},E.prototype.has=function(e){return k(this.__data__,e)>-1},E.prototype.set=function(e,t){var n=this.__data__,r=k(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},S.prototype.clear=function(){this.__data__={hash:new x,map:new(b||E),string:new x}},S.prototype.delete=function(e){return T(this,e).delete(e)},S.prototype.get=function(e){return T(this,e).get(e)},S.prototype.has=function(e){return T(this,e).has(e)},S.prototype.set=function(e,t){return T(this,e).set(e,t),this},I.Cache=S,e.exports=I},3488:(e,t,n)=>{"use strict";var r=n(3959);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},1942:(e,t,n)=>{e.exports=n(3488)()},3959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8345:(e,t,n)=>{"use strict";var r=n(9950),i=n(5340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case k:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function ke(e){if(e=wi(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),xe(e.stateNode,e.type,t))}}function Ce(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ne(e,t){return e(t)}function Ie(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return Ne(e,t,n)}finally{je=!1,(null!==Ee||null!==Se)&&(Ie(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){De=!1}function Pe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Ue=!1,Fe=null,Be={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,Pe.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,Et,St,kt,Ct=!1,Tt=[],Nt=null,It=null,jt=null,At=new Map,Ot=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Nt&&Ut(Nt)&&(Nt=null),null!==It&&Ut(It)&&(It=null),null!==jt&&Ut(jt)&&(jt=null),At.forEach(Ft),Ot.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==It&&zt(It,e),null!==jt&&zt(jt,e),At.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return It=Lt(It,e,t,n,r,i),!0;case"mouseover":return jt=Lt(jt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Lt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(M({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return Sn}var Cn=M({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(Cn),Nn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),jn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(An),Dn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Pn,Mn=u&&(!Rn||Pn&&8<Pn&&11>=Pn),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,_e(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Sr={};function kr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=kr("animationend"),Tr=kr("animationiteration"),Nr=kr("animationstart"),Ir=kr("transitionend"),jr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){jr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Rr=Ar[Dr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Cr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Nr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=s,i=_e(n),a=[];e:{var o=jr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Cr:case Tr:case Nr:l=vn;break;case Ir:l=jn;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==h&&Qr(a,h,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(Hn(o))if($n)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Vn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Vn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),Zt=Jt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ur(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Oe(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Oe(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function ki(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ci(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ni=Si(Ti),Ii=Si(!1),ji=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){ki(Ii),ki(Ni)}function Ri(e,t,n){if(Ni.current!==Ti)throw Error(s(168));Ci(Ni,t),Ci(Ii,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,ji=Ni.current,Ci(Ni,e),Ci(Ii,Ii.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Pi(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,ki(Ii),ki(Ni),Ci(Ni,e)):ki(Ii),Ci(Ii,n)}var Ui=null,Fi=!1,Bi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Vi),i}finally{wt=t,Bi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Si(null),ys=null,ws=null,bs=null;function _s(){bs=ws=ys=null}function xs(e){var t=vs.current;ki(vs),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ys=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Cs=null;function Ts(e){null===Cs?Cs=[e]:Cs.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,Is(e,r)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var js=!1;function As(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Is(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,Is(e,n)}function Ps(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;js=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:js=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=h}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Fs=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(rc(t,e,i,r),Ps(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,i))&&(rc(t,e,i,r),Ps(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Rs(e,i,r))&&(rc(t,e,r,n),Ps(t,e,r))}};function Vs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(i=Oi(t)?ji:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fs,As(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ks(s):(s=Oi(t)?ji:Ni.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Fs&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:h(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return h(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,o,l,c){var u=P(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),o=a(w,o,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ks(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Lc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Pc(a.type,a.key,a.props,null,r.mode,l)).ref=Ks(r,s,a),l.return=r,r=l)}return o(r);case x:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case O:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(P(a))return g(r,s,a,l);Gs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Uc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Xs=Ys(!0),$s=Ys(!1),Js={},Zs=Si(Js),ea=Si(Js),ta=Si(Js);function na(e){if(e===Js)throw Error(s(174));return e}function ra(e,t){switch(Ci(ta,t),Ci(ea,e),Ci(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Zs),Ci(Zs,t)}function ia(){ki(Zs),ki(ea),ki(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=le(t,e.type);t!==n&&(Ci(ea,e),Ci(Zs,n))}function aa(e){ea.current===e&&(ki(Zs),ki(ea))}var oa=Si(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var ha=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,va=!1,ya=!1,wa=0,ba=0;function _a(){throw Error(s(321))}function xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ya){a=0;do{if(ya=!1,wa=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=lo,e=n(r,i)}while(ya)}if(ha.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,va=!1,t)throw Error(s(300));return e}function Sa(){var e=0!==wa;return wa=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function Ca(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ta(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ca(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((fa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,pa.lanes|=h,Ml|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ia(e){var t=Ca(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ja(){}function Aa(e,t){var n=pa,r=Ca(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,qa(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ua(9,Da.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(s(349));0!==(30&fa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&La(e)}function Ra(e,t,n){return n((function(){Pa(t)&&La(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function La(e){var t=Is(e,1);null!==t&&rc(t,e,1,-1)}function Ma(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return Ca().memoizedState}function Ba(e,t,n,r){var i=ka();pa.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Ca();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&xa(r,a.deps))return void(i.memoizedState=Ua(t,n,s,r))}pa.flags|=e,i.memoizedState=Ua(1|t,n,s,r)}function Va(e,t){return Ba(8390656,8,e,t)}function qa(e,t){return za(2048,8,e,t)}function Ha(e,t){return za(4,2,e,t)}function Wa(e,t){return za(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ka.bind(null,t,e),n)}function Qa(){}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ja(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{wt=n,da.transition=r}}function Za(){return Ca().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ns(e,t,n,r))){rc(n,e,r,tc()),io(n,t,r)}}function to(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ts(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ns(e,t,i,r))&&(rc(n,e,r,i=tc()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ya=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var so={readContext:ks,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ao={readContext:ks,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:Ma,useDebugValue:Qa,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Ja.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=ka();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===jl)throw Error(s(349));0!==(30&fa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=jl.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:ks,useCallback:Ya,useContext:ks,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Xa,useReducer:Na,useRef:Fa,useState:function(){return Na(Ta)},useDebugValue:Qa,useDeferredValue:function(e){return $a(Ca(),ma.memoizedState,e)},useTransition:function(){return[Na(Ta)[0],Ca().memoizedState]},useMutableSource:ja,useSyncExternalStore:Aa,useId:Za,unstable_isNewReconciler:!1},lo={readContext:ks,useCallback:Ya,useContext:ks,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Xa,useReducer:Ia,useRef:Fa,useState:function(){return Ia(Ta)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ca();return null===ma?t.memoizedState=e:$a(t,ma.memoizedState,e)},useTransition:function(){return[Ia(Ta)[0],Ca().memoizedState]},useMutableSource:ja,useSyncExternalStore:Aa,useId:Za,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Kl=r),ho(0,t)},n}function mo(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Rs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wo=b.ReactCurrentOwner,bo=!1;function _o(e,t,n,r){t.child=null===e?$s(t,null,n,r):Xs(t,e.child,n,r)}function xo(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=Ea(e,t,n,r,s,i),n=Sa(),null===e||bo?(is&&n&&es(t),t.flags|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Eo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return To(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Rl,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Rl,Dl),Dl|=r;return _o(e,t,i,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=Oi(n)?ji:Ni.current;return s=Ai(t,s),Ss(t,i),n=Ea(e,t,n,r,s,i),r=Sa(),null===e||bo?(is&&r&&es(t),t.flags|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function No(e,t,n,r,i){if(Oi(n)){var s=!0;Li(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Ho(e,t),qs(t,n,r),Ws(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ks(c):c=Ai(t,c=Oi(n)?ji:Ni.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&Hs(t,a,r,c),js=!1;var d=t.memoizedState;a.state=d,Ms(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ii.current||js?("function"===typeof u&&(Bs(t,n,u,r),l=t.memoizedState),(o=js||Vs(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Os(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ks(l):l=Ai(t,l=Oi(n)?ji:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&Hs(t,a,r,l),js=!1,d=t.memoizedState,a.state=d,Ms(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ii.current||js?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(c=js||Vs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,s,i)}function Io(e,t,n,r,i,s){Co(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Wo(e,t,s);r=t.stateNode,wo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,o,s)):_o(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function jo(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ra(e,t.containerInfo)}function Ao(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_o(e,t,n,r),t.child}var Oo,Do,Ro,Po,Lo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Lo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xs(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=jl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Is(e,i),rc(r,e,i,-1))}return gc(),Bo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&ps(r),Xs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Vo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Oi(t.type)&&Di(),Go(t),null;case 3:return r=t.stateNode,ia(),ki(Ii),ki(Ni),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Do(e,t),Go(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=na(Zs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Po(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Go(t),null;case 13:if(ki(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Pl&&(Pl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return ia(),Do(e,t),null===e&&Vr(t.stateNode.containerInfo),Go(t),null;case 10:return xs(t.type._context),Go(t),null;case 19:if(ki(oa),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>ql&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Go(t),null}else 2*$e()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=oa.current,Ci(oa,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),ki(Ii),ki(Ni),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(ki(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(oa),null;case 4:return ia(),null;case 10:return xs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Po=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,$o=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:$o||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$o&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,fl(e,t,n),$o=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(a,o,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=$e())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($o=(u=$o)||h,gl(t,e),$o=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Zo=p):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Xo;var c=$o;if(Xo=a,($o=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Zo=l):El(i);for(;null!==s;)Zo=s,bl(s,t,n),s=s.sibling;Zo=i,Xo=o,$o=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):_l(e)}}function _l(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Us(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(s(163))}$o||512&t.flags&&sl(t)}catch(f){kc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function xl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function El(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Sl,kl=Math.ceil,Cl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Nl=b.ReactCurrentBatchConfig,Il=0,jl=null,Al=null,Ol=0,Dl=0,Rl=Si(0),Pl=0,Ll=null,Ml=0,Ul=0,Fl=0,Bl=null,zl=null,Vl=0,ql=1/0,Hl=null,Wl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,Xl=0,$l=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Il)?$e():-1!==Zl?Zl:Zl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Il)&&e===jl||(e===jl&&(0===(2&Il)&&(Ul|=n),4===Pl&&lc(e,Ol)),ic(e,r),1===n&&0===Il&&0===(1&t.mode)&&(ql=$e()+500,Fi&&Vi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===jl?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),ai((function(){0===(6&Il)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===jl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Il;Il|=2;var a=mc();for(jl===e&&Ol===t||(Hl=null,ql=$e()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}_s(),Cl.current=a,Il=i,null!==Al?t=0:(jl=null,Ol=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,$e()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,zl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Vl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zl,Hl),t);break}xc(e,zl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zl,Hl),r);break}xc(e,zl,Hl);break;default:throw Error(s(329))}}}return ic(e,$e()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Il))throw Error(s(327));Ec();var t=dt(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,Hl),ic(e,$e()),null}function uc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(ql=$e()+500,Fi&&Vi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Il)&&Ec();var t=Il;Il|=1;var n=Nl.transition,r=wt;try{if(Nl.transition=null,wt=1,e)return e()}finally{wt=r,Nl.transition=n,0===(6&(Il=t))&&Vi()}}function dc(){Dl=Rl.current,ki(Rl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:ia(),ki(Ii),ki(Ni),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:ki(oa);break;case 10:xs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,Al=e=Rc(e.current,null),Ol=Dl=t,Pl=0,Ll=null,Fl=Ul=Ml=0,zl=Bl=null,null!==Cs){for(t=0;t<Cs.length;t++)if(null!==(r=(n=Cs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Cs=null}return e}function pc(e,t){for(;;){var n=Al;try{if(_s(),ha.current=so,va){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ga=ma=pa=null,ya=!1,wa=0,Tl.current=null,null===n||null===n.return){Pl=1,Ll=t,Al=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,l,0,t),ps(co(c,l));break e}}a=c=co(c,l),4!==Pl&&(Pl=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,po(0,c,t));break e;case 1:l=c;var y=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=so,null===e?so:e}function gc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===jl||0===(268435455&Ml)&&0===(268435455&Ul)||lc(jl,Ol)}function vc(e,t){var n=Il;Il|=2;var r=mc();for(jl===e&&Ol===t||(Hl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(_s(),Il=n,Cl.current=r,null!==Al)throw Error(s(261));return jl=null,Ol=0,Pl}function yc(){for(;null!==Al;)bc(Al)}function wc(){for(;null!==Al&&!Ye();)bc(Al)}function bc(e){var t=Sl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?_c(e):Al=t,Tl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Dl)))return void(Al=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Pl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Pl&&(Pl=5)}function xc(e,t,n){var r=wt,i=Nl.transition;try{Nl.transition=null,wt=1,function(e,t,n,r){do{Ec()}while(null!==Yl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===jl&&(Al=jl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,jc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var o=wt;wt=1;var l=Il;Il|=4,Tl.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Xe(),Il=l,wt=o,Nl.transition=a}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Xl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Jl?$l++:($l=0,Jl=e):$l=0,Vi()}(e,t,n,r)}finally{Nl.transition=i,wt=r}return null}function Ec(){if(null!==Yl){var e=bt(Xl),t=Nl.transition,n=wt;try{if(Nl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(al(h),h===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var w=e.current;for(Zo=w;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=w;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){kc(l,l.return,x)}if(l===o){Zo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Zo=_;break e}Zo=l.return}}if(Il=i,Vi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{wt=n,Nl.transition=t}}return!1}function Sc(e,t,n){e=Rs(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Rs(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Ol&n)===n&&(4===Pl||3===Pl&&(130023424&Ol)===Ol&&500>$e()-Vl?fc(e,0):Fl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Is(e,t))&&(vt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function jc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Dc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Lc(n.children,i,a,t);case S:o=8,i|=8;break;case k:return(e=Oc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case I:return(e=Oc(13,n,t,i)).elementType=I,e.lanes=a,e;case j:return(e=Oc(19,n,t,i)).elementType=j,e.lanes=a,e;case D:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case T:o=9;break e;case N:o=11;break e;case A:o=14;break e;case O:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},As(s),e}function Vc(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Pi(e,n,t)}return t}function qc(e,t,n,r,i,s,a,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=Ds(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Rs(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Rs(i,t,a))&&(rc(e,i,a,s),Ps(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:jo(t),fs();break;case 5:sa(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(Ci(oa,1&oa.current),null!==(e=Wo(e,t,n))?e.sibling:null);Ci(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Ai(t,Ni.current);Ss(t,n),i=Ea(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,As(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Ws(t,r,e,n),t=Io(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),_o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(r),e=gs(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=No(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(jo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Os(e,t),Ms(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=Ao(e,t,r,n,i=co(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=$s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wo(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Co(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Uo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xs(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(vs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ii.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ds(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Es(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=ks(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Eo(e,t,r,i=gs(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ho(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Ss(t,n),qs(t,r,i),Ws(t,r,i,n),Io(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Wc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(a);s.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),hc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),hc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Il)&&(ql=$e()+500,Vi()))}break;case 13:hc((function(){var t=Is(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Is(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Ie=hc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,Ce,Te,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1352:(e,t,n)=>{"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},2654:(e,t,n)=>{"use strict";var r=n(9950),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+N(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},9950:(e,t,n)=>{"use strict";e.exports=n(2049)},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},1034:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function s(e,t){s.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function l(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":j(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(e,t,n,r,h,d,f){f=f||[];var p=(h=h||[]).slice(0);if("undefined"!=typeof d){if(r){if("function"==typeof r&&r(p,d))return;if("object"===("undefined"==typeof r?"undefined":j(r))){if(r.prefilter&&r.prefilter(p,d))return;if(r.normalize){var m=r.normalize(p,d,e,t);m&&(e=m[0],t=m[1])}}}p.push(d)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var g="undefined"==typeof e?"undefined":j(e),v="undefined"==typeof t?"undefined":j(t),y="undefined"!==g||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(d),w="undefined"!==v||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(d);if(!y&&w)n(new s(p,t));else if(!w&&y)n(new a(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!==0)n(new i(p,e,t));else if("object"===g&&null!==e&&null!==t)if(f.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new o(p,b,new a(void 0,e[b]))):u(e[b],t[b],n,r,p,b,f);for(;b<t.length;)n(new o(p,b,new s(void 0,t[b++])))}else{var _=Object.keys(e),x=Object.keys(t);_.forEach((function(i,s){var a=x.indexOf(i);a>=0?(u(e[i],t[i],n,r,p,i,f),x=l(x,a)):u(e[i],void 0,n,r,p,i,f)})),x.forEach((function(e){u(void 0,t[e],n,r,p,e,f)}))}f.length=f.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function h(e,t,n,r){return r=r||[],u(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function d(e,t,n){if(n.path&&n.path.length){var r,i=e[t],s=n.path.length-1;for(r=0;r<s;r++)i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function f(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,s=n.path?n.path.length-1:0;++i<s;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":d(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],s=n.path.length-1;for(r=0;r<s;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=l(e,t)}return e}function m(e,t,n){if(e&&t&&n&&n.kind){var r,i,s=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof s[n.path[r]]&&(s[n.path[r]]={}),s=s[n.path[r]];switch(n.kind){case"A":p(s[n.path[r]],n.index,n.item);break;case"D":case"E":s[n.path[r]]=n.lhs;break;case"N":delete s[n.path[r]]}}}function g(e,t,n){e&&t&&u(e,t,(function(r){n&&!n(e,t,r)||f(e,t,r)}))}function v(e){return"color: "+D[e].color+"; font-weight: bold"}function y(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,s=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+s+"]",a];default:return[]}}function w(e,t,n,r){var i=h(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=y(e);n.log.apply(n,["%c "+D[t].text,v(t)].concat(A(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function b(e,t,n,r){switch("undefined"==typeof e?"undefined":j(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,A(n)):e[r];case"function":return e(t);default:return e}}function _(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var s=["action"];return s.push("%c"+String(e.type)),t&&s.push("%c@ "+r),n&&s.push("%c(in "+i.toFixed(2)+" ms)"),s.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,s=void 0===i?_(t):i,a=t.collapsed,o=t.colors,l=t.level,c=t.diff,u="undefined"==typeof t.titleFormatter;e.forEach((function(i,h){var d=i.started,f=i.startedTime,p=i.action,m=i.prevState,g=i.error,v=i.took,y=i.nextState,_=e[h+1];_&&(y=_.prevState,v=_.started-d);var x=r(p),E="function"==typeof a?a((function(){return y}),p,i):a,S=N(f),k=o.title?"color: "+o.title(x)+";":"",C=["color: gray; font-weight: lighter;"];C.push(k),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var T=s(x,S,v);try{E?o.title&&u?n.groupCollapsed.apply(n,["%c "+T].concat(C)):n.groupCollapsed(T):o.title&&u?n.group.apply(n,["%c "+T].concat(C)):n.group(T)}catch(e){n.log(T)}var I=b(l,x,[m],"prevState"),j=b(l,x,[x],"action"),A=b(l,x,[g,m],"error"),O=b(l,x,[y],"nextState");if(I)if(o.prevState){var D="color: "+o.prevState(m)+"; font-weight: bold";n[I]("%c prev state",D,m)}else n[I]("prev state",m);if(j)if(o.action){var R="color: "+o.action(x)+"; font-weight: bold";n[j]("%c action    ",R,x)}else n[j]("action    ",x);if(g&&A)if(o.error){var P="color: "+o.error(g,m)+"; font-weight: bold;";n[A]("%c error     ",P,g)}else n[A]("error     ",g);if(O)if(o.nextState){var L="color: "+o.nextState(y)+"; font-weight: bold";n[O]("%c next state",L,y)}else n[O]("next state",y);c&&w(m,y,n,E);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},R,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,s=t.predicate,a=t.logErrors,o=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof s&&!s(n,c))return e(c);var u={};l.push(u),u.started=I.now(),u.startedTime=new Date,u.prevState=r(n()),u.action=c;var h=void 0;if(a)try{h=e(c)}catch(e){u.error=i(e)}else h=e(c);u.took=I.now()-u.started,u.nextState=r(n());var d=t.diff&&"function"==typeof o?o(n,c):t.diff;if(x(l,Object.assign({},t,{diff:d})),l.length=0,u.error)throw u.error;return h}}}}var S,k,C=function(e,t){return new Array(t+1).join(e)},T=function(e,t){return C("0",t-e.toString().length)+e},N=function(e){return T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)},I="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},O=[];S="object"===("undefined"==typeof n.g?"undefined":j(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(k=S.DeepDiff)&&O.push((function(){"undefined"!=typeof k&&S.DeepDiff===h&&(S.DeepDiff=k,k=void 0)})),t(i,r),t(s,r),t(a,r),t(o,r),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:u,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:m,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof k},enumerable:!0},noConflict:{value:function(){return O&&(O.forEach((function(e){e()})),O=null),h},enumerable:!0}});var D={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},R={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?E()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=R,e.createLogger=E,e.logger=P,e.default=P,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,D(x);else{var t=r(u);null!==t&&R(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&R(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,k=null,C=-1,T=5,N=-1;function I(){return!(t.unstable_now()-N<T)}function j(){if(null!==k){var e=t.unstable_now();N=e;var n=!0;try{n=k(!0,e)}finally{n?E():(S=!1,k=null)}}else S=!1}if("function"===typeof w)E=function(){w(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=j,E=function(){O.postMessage(null)}}else E=function(){v(j,0)};function D(e){k=e,S||(S=!0,E())}function R(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,R(_,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,D(x))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},1672:(e,t,n)=>{"use strict";var r=n(9950);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,a=r.useRef,o=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=l((function(){function e(e){if(!o){if(o=!0,s=e,e=r(e),void 0!==u&&d.hasValue){var t=d.value;if(u(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var n=r(e);return void 0!==u&&u(t,n)?t:(s=e,a=n)}var s,a,o=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,u]);var f=s(e,h[0],h[1]);return o((function(){d.hasValue=!0,d.value=f}),[f]),c(f),f}},7256:(e,t,n)=>{"use strict";e.exports=n(1672)},2241:e=>{"use strict";var t=function(){};e.exports=t},477:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".98f3de99.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="fyp2:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkfyp2=self.webpackChunkfyp2||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e,t=n(9950),r=n.t(t,2),i=n(1352),s=n(7119),a=n.t(s,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,p=e.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:b.location,delta:n})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let b={get action(){return p},get location(){return t(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>n(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=d(b.location,t,n);r&&r(i,t),g=v()+1;let o=h(i,g),l=b.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&m&&m({action:p,location:b.location,delta:1})},replace:function(t,n){p=e.Replace;let i=d(b.location,t,n);r&&r(i,t),g=v();let s=h(i,g),o=b.createHref(i);u.replaceState(s,"",o),a&&m&&m({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=A(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=j(r);s=N(i[a],e)}return s}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=L([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=w(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:[\w-]+$/,_=3,x=2,E=1,S=10,k=-2,C=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=k),t&&(r+=x),n.filter((e=>!C(e))).reduce(((e,t)=>e+(b.test(t)?_:""===t?E:S)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:L([i,c.pathname]),pathnameBase:M(L([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=L([i,c.pathnameBase]))}return s}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function j(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function P(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:F(i)}}(i,s),h=l&&"/"!==l&&l.endsWith("/"),d=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],V=(new Set(z),["get",...z]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const H=t.createContext(null);const W=t.createContext(null);const K=t.createContext(null);const G=t.createContext(null);const Q=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=t.createContext(null);function X(){return null!=t.useContext(G)}function $(){return X()||c(!1),t.useContext(G).location}function J(e){t.useContext(K).static||t.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=t.useContext(Q);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=de(ce.UseNavigateStable),r=t.useRef(!1);J((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,q({fromRouteId:n},i)))}),[e,n]);return i}():function(){X()||c(!1);let e=t.useContext(H),{basename:n,future:r,navigator:i}=t.useContext(K),{matches:s}=t.useContext(Q),{pathname:a}=$(),o=JSON.stringify(R(s,r.v7_relativeSplatPath)),l=t.useRef(!1);return J((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=P(t,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:L([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,o,a,e])}()}function ee(){let{matches:e}=t.useContext(Q),n=e[e.length-1];return n?n.params:{}}function te(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(K),{matches:s}=t.useContext(Q),{pathname:a}=$(),o=JSON.stringify(R(s,i.v7_relativeSplatPath));return t.useMemo((()=>P(e,JSON.parse(o),a,"path"===r)),[e,o,a,r])}function ne(n,r,i,s){X()||c(!1);let{navigator:a}=t.useContext(K),{matches:o}=t.useContext(Q),l=o[o.length-1],u=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=$();if(r){var m;let e="string"===typeof r?p(r):r;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||c(!1),d=e}else d=f;let g=d.pathname||"/",y=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=v(n,{pathname:y});let b=oe(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:L([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,i,s);return r&&b?t.createElement(G.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},b):b}function re(){let e=function(){var e;let n=t.useContext(Y),r=he(ce.UseRouteError),i=de(ce.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ie=t.createElement(re,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Q.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(H);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Q.Provider,{value:n},i)}function oe(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,o=h>=0?o.slice(0,h+1):[o[0]];break}}}return o.reduceRight(((e,i,s)=>{let a,c=!1,d=null,f=null;var p;r&&(a=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||ie,u&&(h<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):h===s&&(c=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(o.slice(0,s+1)),g=()=>{let n;return n=a?d:c?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ae,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(H);return n||c(!1),n}function he(e){let n=t.useContext(W);return n||c(!1),n}function de(e){let n=function(e){let n=t.useContext(Q);return n||c(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const fe={};r.startTransition;function pe(e){c(!1)}function me(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:o,static:l=!1,future:u}=n;X()&&c(!1);let h=r.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:h,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},u)})),[h,u,o,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,w=t.useMemo((()=>{let e=A(f,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:a}}),[h,f,m,g,v,y,a]);return null==w?null:t.createElement(K.Provider,{value:d},t.createElement(G.Provider,{children:i,value:w}))}function ge(e){let{children:t,location:n}=e;return ne(ve(t),n)}new Promise((()=>{}));t.Component;function ve(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ve(e.props.children,s));e.type!==pe&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ve(e.props.children,s)),r.push(a)})),r}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(NC){}new Map;const _e=r.startTransition;a.flushSync,r.useId;function xe(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,o)));let l=a.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},p=t.useCallback((e=>{h&&_e?_e((()=>u(e))):u(e)}),[u,h]);return t.useLayoutEffect((()=>l.listen(p)),[l,p]),t.createElement(me,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:h,preventScrollReset:d,unstable_viewTransition:p}=e,m=we(e,be),{basename:g}=t.useContext(K),v=!1;if("string"===typeof h&&Se.test(h)&&(r=h,Ee))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=A(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(NC){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;X()||c(!1);let{basename:i,navigator:s}=t.useContext(K),{hash:a,pathname:o,search:l}=te(e,{relative:r}),u=o;return"/"!==i&&(u="/"===o?i:L([i,o])),s.createHref({pathname:u,search:l,hash:a})}(h,{relative:s}),w=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l}=void 0===n?{}:n,c=Z(),u=$(),h=te(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:f(u)===f(h);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l})}}),[u,c,h,i,s,r,e,a,o,l])}(h,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,unstable_viewTransition:p});return t.createElement("a",ye({},m,{href:r||y,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:n,target:u}))}));var Ce,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));var Ne=n(7256),Ie=t,je=Symbol.for("react-redux-context"),Ae="undefined"!==typeof globalThis?globalThis:{};function Oe(){var e;if(!Ie.createContext)return{};const t=null!==(e=Ae[je])&&void 0!==e?e:Ae[je]=new Map;let n=t.get(Ie.createContext);return n||(n=Ie.createContext(null),t.set(Ie.createContext,n)),n}var De=Oe(),Re=()=>{throw new Error("uSES not initialized!")};function Pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;return function(){return Ie.useContext(e)}}var Le=Pe(),Me=Re,Ue=(e,t)=>e===t;function Fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;const t=e===De?Le:Pe(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=Ue,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:s,subscription:a,getServerState:o,stabilityCheck:l,identityFunctionCheck:c}=t(),u=(Ie.useRef(!0),Ie.useCallback({[e.name]:t=>e(t)}[e.name],[e,l,i.stabilityCheck])),h=Me(a.addNestedSub,s.getState,o||s.getState,u,r);return Ie.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var Be=Fe();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function ze(e){e()}var Ve={notify(){},get:()=>[]};function qe(e,t){let n,r=Ve,i=0,s=!1;function a(){c.onStateChange&&c.onStateChange()}function o(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ze((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=Ve)}const c={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,o())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return c}var He=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?Ie.useLayoutEffect:Ie.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var We=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:s="once",identityFunctionCheck:a="once"}=e;const o=Ie.useMemo((()=>{const e=qe(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:s,identityFunctionCheck:a}}),[t,i,s,a]),l=Ie.useMemo((()=>t.getState()),[t]);He((()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,l]);const c=n||De;return Ie.createElement(c.Provider,{value:o},r)};function Ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;const t=e===De?Le:Pe(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var Ge=Ke();function Qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;const t=e===De?Ge:Ke(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Ye,Xe=Qe();Ye=Ne.useSyncExternalStoreWithSelector,Me=Ye,(e=>{e})(t.useSyncExternalStore);var $e={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Je=t.createContext&&t.createContext($e),Ze=["attr","size","title"];function et(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e){return e&&e.map(((e,n)=>t.createElement(e.tag,rt({key:n},e.attr),st(e.child))))}function at(e){return n=>t.createElement(ot,tt({attr:rt({},e.attr)},n),st(e.child))}function ot(e){var n=n=>{var r,{attr:i,size:s,title:a}=e,o=et(e,Ze),l=s||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",tt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:r,style:rt(rt({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==Je?t.createElement(Je.Consumer,null,(e=>n(e))):n($e)}function lt(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"},child:[]}]})(e)}function ct(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.53 11.06 15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"},child:[]}]})(e)}function ut(e){return at({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function ht(e){return at({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function dt(e){return at({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function ft(e){return at({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4.5 1L4 1.5V3.02746C4.16417 3.00932 4.331 3 4.5 3C4.669 3 4.83583 3.00932 5 3.02746V2H14V7H12.2929L11 8.29289V7H8.97254C8.99068 7.16417 9 7.331 9 7.5C9 7.669 8.99068 7.83583 8.97254 8H10V9.5L10.8536 9.85355L12.7071 8H14.5L15 7.5V1.5L14.5 1H4.5Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M6.41705 10.4288C7.37039 9.80348 8 8.72527 8 7.5C8 5.567 6.433 4 4.5 4C2.567 4 1 5.567 1 7.5C1 8.72527 1.62961 9.80348 2.58295 10.4288C2.11364 10.6498 1.68557 10.9505 1.31802 11.318C0.900156 11.7359 0.568688 12.232 0.342542 12.7779C0.180451 13.1692 0.0747425 13.5807 0.0278638 14C0.00933826 14.1657 0 14.3326 0 14.5V15H1L0.999398 14.5C0.999398 14.4784 0.999599 14.4567 1 14.4351C1.00811 13.9975 1.09823 13.5651 1.26587 13.1604C1.44179 12.7357 1.69964 12.3498 2.0247 12.0247C2.34976 11.6996 2.73566 11.4418 3.16038 11.2659C3.57088 11.0958 4.00986 11.0056 4.45387 10.9997C4.46922 10.9999 4.4846 11 4.5 11C4.5154 11 4.53078 10.9999 4.54613 10.9997C4.99014 11.0056 5.42912 11.0958 5.83962 11.2659C6.26433 11.4418 6.65024 11.6996 6.9753 12.0247C7.30036 12.3498 7.55821 12.7357 7.73413 13.1604C7.90177 13.5651 7.99189 13.9975 8 14.4351C8.0004 14.4567 8.0006 14.4784 8.0006 14.5L8 15H9V14.5C9 14.3326 8.99066 14.1657 8.97214 14C8.92526 13.5807 8.81955 13.1692 8.65746 12.7779C8.43131 12.232 8.09984 11.7359 7.68198 11.318C7.31443 10.9505 6.88636 10.6498 6.41705 10.4288ZM4.5 10C3.11929 10 2 8.88071 2 7.5C2 6.11929 3.11929 5 4.5 5C5.88071 5 7 6.11929 7 7.5C7 8.88071 5.88071 10 4.5 10Z"},child:[]}]})(e)}function pt(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"path",attr:{d:"m9 14 2 2 4-4"},child:[]}]})(e)}var mt=n(4414);const gt=[{title:"Events",icon:(0,mt.jsx)(lt,{}),link:"/Events"},{title:"Users",icon:(0,mt.jsx)(dt,{}),link:"/Users"},{title:"FeedBack",icon:(0,mt.jsx)(ft,{}),link:"/FeedBack"},{title:"Evaluate Portfolio",icon:(0,mt.jsx)(pt,{}),link:"/EvaluatePortfolio"}];const vt=function(e){let{onToggleMinimized:n}=e;const[r,i]=(0,t.useState)(!0),s=Z();return(0,mt.jsx)("div",{className:"SideBarComponent ".concat(r?"minimized":""),children:(0,mt.jsxs)("div",{className:"SideBar",children:[(0,mt.jsx)("div",{className:"toggleButton",onClick:()=>{i(!r),n(!r)},children:r?(0,mt.jsx)(ut,{}):(0,mt.jsx)(ht,{})}),(0,mt.jsx)("ul",{className:"SideBarList",children:gt.map(((e,t)=>(0,mt.jsxs)("li",{className:"row",id:window.location.pathname===e.link?"active":"",onClick:()=>{return t=e.link,void s(t);var t},title:e.title,children:[(0,mt.jsx)("div",{className:"icon",children:e.icon}),(0,mt.jsx)("div",{className:"title",children:e.title})]},t)))})]})})},yt="LOGIN_START",wt="LOGIN_SUCCESS",bt="LOGIN_FAIL",_t="LOGOUT_START",xt="LOGOUT_SUCCESS",Et="LOGOUT_FAIL",St="SET_USER",kt="ADD_STAFF_START",Ct="ADD_STAFF_SUCCESS",Tt="ADD_STAFF_FAIL",Nt="ADD_TEACHER_START",It="ADD_TEACHER_SUCCESS",jt="ADD_TEACHER_FAIL",At="UPDATE_PROFILE_START",Ot="UPDATE_PROFILE_SUCCESS",Dt="UPDATE_PROFILE_FAIL",Rt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Pt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Rt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Lt;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Lt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mt=function(e){return function(e){const t=Rt(e);return Pt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ut=function(e){try{return Pt.decodeString(e,!0)}catch(NC){console.error("base64Decode failed: ",NC)}return null};const Ft=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Bt=()=>{try{return Ft()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENCRYPTION_KEY:"7B1FkD%z!p@Qw&9Rt*5u^yG-mJhL!s",REACT_APP_RESETEMAIL_PUBLIC_KEY:"Lgp_Rh_rBI6z6Ozbi",REACT_APP_RESETEMAIL_SERVICE_ID:"service_oywqbyq",REACT_APP_RESETEMAIL_TEMPLATE_ID:"template_r4cda4s"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(NC){return}const t=e&&Ut(e[1]);return t&&JSON.parse(t)})()}catch(NC){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(NC))}},zt=e=>{var t,n;return null===(n=null===(t=Bt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Vt=e=>{const t=zt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},qt=()=>{var e;return null===(e=Bt())||void 0===e?void 0:e.config},Ht=e=>{var t;return null===(t=Bt())||void 0===t?void 0:t["_".concat(e)]};class Wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Kt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Mt(JSON.stringify({alg:"none",type:"JWT"})),Mt(JSON.stringify(s)),""].join(".")}function Gt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Qt(){return!function(){var e;const t=null===(e=Bt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(NC){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yt(){try{return"object"===typeof indexedDB}catch(NC){return!1}}class Xt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Jt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Xt(n,s,t)}}const Jt=/\{\$([^}]+)}/g;function Zt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(en(n)&&en(s)){if(!Zt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function en(e){return null!==e&&"object"===typeof e}function tn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function nn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function rn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class sn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=an),void 0===r.error&&(r.error=an),void 0===r.complete&&(r.complete=an);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(NC){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(NC){"undefined"!==typeof console&&console.error&&console.error(NC)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function an(){}function on(e){return e&&e._delegate?e._delegate:e}class ln{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const cn="[DEFAULT]";class un{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Wt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(NC){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(NC){if(r)return null;throw NC}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:cn})}catch(NC){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(NC){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(ME){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===cn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(ME){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.component?this.component.multipleInstances?e:cn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class hn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new un(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const dn=[];var fn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fn||(fn={}));const pn={debug:fn.DEBUG,verbose:fn.VERBOSE,info:fn.INFO,warn:fn.WARN,error:fn.ERROR,silent:fn.SILENT},mn=fn.INFO,gn={[fn.DEBUG]:"log",[fn.VERBOSE]:"log",[fn.INFO]:"info",[fn.WARN]:"warn",[fn.ERROR]:"error"},vn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=gn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class yn{constructor(e){this.name=e,this._logLevel=mn,this._logHandler=vn,this._userLogHandler=null,dn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?pn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fn.DEBUG,...t),this._logHandler(this,fn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fn.VERBOSE,...t),this._logHandler(this,fn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fn.INFO,...t),this._logHandler(this,fn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fn.WARN,...t),this._logHandler(this,fn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fn.ERROR,...t),this._logHandler(this,fn.ERROR,...t)}}const wn=(e,t)=>t.some((t=>e instanceof t));let bn,_n;const xn=new WeakMap,En=new WeakMap,Sn=new WeakMap,kn=new WeakMap,Cn=new WeakMap;let Tn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return En.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Sn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Nn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_n||(_n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(An(this),n),jn(xn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jn(e.apply(An(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(An(this),t,...r);return Sn.set(s,t.sort?t.sort():[t]),jn(s)}}function In(e){return"function"===typeof e?Nn(e):(e instanceof IDBTransaction&&function(e){if(En.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));En.set(e,t)}(e),wn(e,bn||(bn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Tn):e)}function jn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(jn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&xn.set(t,e)})).catch((()=>{})),Cn.set(t,e),t}(e);if(kn.has(e))return kn.get(e);const t=In(e);return t!==e&&(kn.set(e,t),Cn.set(t,e)),t}const An=e=>Cn.get(e);const On=["get","getKey","getAll","getAllKeys","count"],Dn=["put","add","delete","clear"],Rn=new Map;function Pn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Rn.get(t))return Rn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Dn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!On.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Rn.set(t,s),s}Tn=(e=>({...e,get:(t,n,r)=>Pn(t,n)||e.get(t,n,r),has:(t,n)=>!!Pn(t,n)||e.has(t,n)}))(Tn);class Ln{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Mn="@firebase/app",Un="0.9.27",Fn=new yn("@firebase/app"),Bn="[DEFAULT]",zn={[Mn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vn=new Map,qn=new Map;function Hn(e,t){try{e.container.addComponent(t)}catch(NC){Fn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),NC)}}function Wn(e){const t=e.name;if(qn.has(t))return Fn.debug("There were multiple attempts to register component ".concat(t,".")),!1;qn.set(t,e);for(const n of Vn.values())Hn(n,e);return!0}function Kn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Gn=new $t("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ln("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const Yn="10.8.0";function Xn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Bn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Gn.create("bad-app-name",{appName:String(i)});if(n||(n=qt()),!n)throw Gn.create("no-options");const s=Vn.get(i);if(s){if(Zt(n,s.options)&&Zt(r,s.config))return s;throw Gn.create("duplicate-app",{appName:i})}const a=new hn(i);for(const l of qn.values())a.addComponent(l);const o=new Qn(n,r,a);return Vn.set(i,o),o}function $n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn;const t=Vn.get(e);if(!t&&e===Bn&&qt())return Xn();if(!t)throw Gn.create("no-app",{appName:e});return t}function Jn(e,t,n){var r;let i=null!==(r=zn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Fn.warn(e.join(" "))}Wn(new ln("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Zn="firebase-heartbeat-database",er=1,tr="firebase-heartbeat-store";let nr=null;function rr(){return nr||(nr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=jn(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(jn(a.result),e.oldVersion,e.newVersion,jn(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(Zn,er,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(tr)}catch(NC){console.warn(NC)}}}).catch((e=>{throw Gn.create("idb-open",{originalErrorMessage:e.message})}))),nr}async function ir(e,t){try{const n=(await rr()).transaction(tr,"readwrite"),r=n.objectStore(tr);await r.put(t,sr(e)),await n.done}catch(NC){if(NC instanceof Xt)Fn.warn(NC.message);else{const t=Gn.create("idb-set",{originalErrorMessage:null===NC||void 0===NC?void 0:NC.message});Fn.warn(t.message)}}}function sr(e){return"".concat(e.name,"!").concat(e.options.appId)}class ar{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=or();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=or(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),cr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Mt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function or(){return(new Date).toISOString().substring(0,10)}class lr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Yt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await rr()).transaction(tr),n=await t.objectStore(tr).get(sr(e));return await t.done,n}catch(NC){if(NC instanceof Xt)Fn.warn(NC.message);else{const t=Gn.create("idb-get",{originalErrorMessage:null===NC||void 0===NC?void 0:NC.message});Fn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ir(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ir(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function cr(e){return Mt(JSON.stringify({version:2,heartbeats:e})).length}var ur;ur="",Wn(new ln("platform-logger",(e=>new Ln(e)),"PRIVATE")),Wn(new ln("heartbeat",(e=>new ar(e)),"PRIVATE")),Jn(Mn,Un,ur),Jn(Mn,Un,"esm2017"),Jn("fire-js","");Jn("firebase","10.8.0","app");function hr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function dr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fr=dr,pr=new $t("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mr=new yn("@firebase/auth");function gr(e){if(mr.logLevel<=fn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mr.error("Auth (".concat(Yn,"): ").concat(e),...n)}}function vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw br(e,...n)}function yr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return br(e,...n)}function wr(e,t,n){const r=Object.assign(Object.assign({},fr()),{[t]:n});return new $t("auth","Firebase",r).create(t,{appName:e.name})}function br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return pr.create(e,...n)}function _r(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw br(t,...r)}}function xr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gr(t),new Error(t)}function Er(e,t){e||xr(t)}function Sr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function kr(){return"http:"===Cr()||"https:"===Cr()}function Cr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Tr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(kr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Nr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Er(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Tr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ir(e,t){Er(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class jr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ar={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Or=new Nr(3e4,6e4);function Dr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Rr(e,t,n,r){return Pr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=tn(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),jr.fetch()(Mr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function Pr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ar),t);try{const t=new Fr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Br(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Br(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Br(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Br(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw wr(e,o,a);vr(e,o)}}catch(NC){if(NC instanceof Xt)throw NC;vr(e,"network-request-failed",{message:String(NC)})}}async function Lr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Rr(e,t,n,r,i);return"mfaPendingCredential"in s&&vr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Mr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ir(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ur(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(yr(this.auth,"network-request-failed"))),Or.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Br(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yr(e,t,r);return i.customData._tokenResponse=n,i}function zr(e){return void 0!==e&&void 0!==e.enterprise}class Vr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ur(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function qr(e,t){return Rr(e,"GET","/v2/recaptchaConfig",Dr(e,t))}function Hr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(NC){}}function Wr(e){return 1e3*Number(e)}function Kr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return gr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ut(n);return e?JSON.parse(e):(gr("Failed to decode base64 JWT payload"),null)}catch(NC){return gr("Caught error parsing JWT payload as JSON",null===NC||void 0===NC?void 0:NC.toString()),null}}async function Gr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(NC){throw NC instanceof Xt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(NC)&&e.auth.currentUser===e&&await e.auth.signOut(),NC}}class Qr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(NC){return void((null===NC||void 0===NC?void 0:NC.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Yr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hr(this.lastLoginAt),this.creationTime=Hr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Gr(e,async function(e,t){return Rr(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));_r(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=hr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Yr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class $r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_r(e.idToken,"internal-error"),_r("undefined"!==typeof e.idToken,"internal-error"),_r("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Kr(e);return _r(t,"internal-error"),_r("undefined"!==typeof t.exp,"internal-error"),_r("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _r(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Pr(e,{},(async()=>{const n=tn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Mr(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jr.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new $r;return n&&(_r("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(_r("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(_r("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $r,this.toJSON())}_performRefresh(){return xr("not implemented")}}function Jr(e,t){_r("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Zr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=hr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Gr(this,this.stsTokenManager.getToken(this.auth,e));return _r(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=on(e),r=await n.getIdToken(t),i=Kr(r);_r(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Hr(Wr(i.auth_time)),issuedAtTime:Hr(Wr(i.iat)),expirationTime:Hr(Wr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=on(e);await Xr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_r(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_r(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Gr(this,async function(e,t){return Rr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:x}=t;_r(y&&x,e,"internal-error");const E=$r.fromJSON(this.name,x);_r("string"===typeof y,e,"internal-error"),Jr(u,e.name),Jr(h,e.name),_r("boolean"===typeof w,e,"internal-error"),_r("boolean"===typeof b,e,"internal-error"),Jr(d,e.name),Jr(f,e.name),Jr(p,e.name),Jr(m,e.name),Jr(g,e.name),Jr(v,e.name);const S=new Zr({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new $r;r.updateFromServerResponse(t);const i=new Zr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xr(i),i}}const ei=new Map;function ti(e){Er(e instanceof Function,"Expected a class definition");let t=ei.get(e);return t?(Er(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ei.set(e,t),t)}class ni{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ni.type="NONE";const ri=ni;function ii(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class si{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ii(this.userKey,r.apiKey,i),this.fullPersistenceKey=ii("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new si(ti(ri),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ti(ri);const s=ii(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Zr._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(ME){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(ME){}}))),new si(i,e,n)):new si(i,e,n)}}function ai(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ui(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(di(t))return"Blackberry";if(fi(t))return"Webos";if(li(t))return"Safari";if((t.includes("chrome/")||ci(t))&&!t.includes("edge/"))return"Chrome";if(hi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/firefox\//i.test(e)}function li(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/crios\//i.test(e)}function ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/iemobile/i.test(e)}function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/android/i.test(e)}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/blackberry/i.test(e)}function fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/webos/i.test(e)}function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mi(){return function(){const e=Gt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return pi(e)||hi(e)||fi(e)||di(e)||/windows phone/i.test(e)||ui(e)}function vi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ai(Gt());break;case"Worker":t="".concat(ai(Gt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yn,"/").concat(r)}class yi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(NC){r(NC)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(NC){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===NC||void 0===NC?void 0:NC.message})}}}class wi{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class bi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xi(this),this.idTokenSubscription=new xi(this),this.beforeStateQueue=new yi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ti(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await si.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(NC){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(NC){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(NC)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _r(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(NC){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xr(e)}catch(NC){if((null===NC||void 0===NC?void 0:NC.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?on(e):null;return t&&_r(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&_r(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ti(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Rr(e,"GET","/v2/passwordPolicy",Dr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new wi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $t("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Rr(e,"POST","/v2/accounts:revokeToken",Dr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ti(e)||this._popupRedirectResolver;_r(t,this,"argument-error"),this.redirectPersistenceManager=await si.create(this,[ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_r(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _r(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(mr.logLevel<=fn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mr.warn("Auth (".concat(Yn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function _i(e){return on(e)}class xi{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new sn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return _r(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ei={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Si(e){return Ei.loadJS(e)}function ki(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ci{constructor(e){this.type="recaptcha-enterprise",this.auth=_i(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;zr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{qr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Vr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&zr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ei.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Si(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ti(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ci(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ni(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ti(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ti(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ii(e,t,n){const r=_i(e);_r(r._canInitEmulator,r,"emulator-config-failed"),_r(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ji(t),{host:a,port:o}=function(e){const t=ji(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ai(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ai(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ji(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ai(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Oi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,t){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function Di(e,t){return Rr(e,"POST","/v1/accounts:signUp",t)}async function Ri(e,t){return Lr(e,"POST","/v1/accounts:signInWithPassword",Dr(e,t))}async function Pi(e,t){return Rr(e,"POST","/v1/accounts:sendOobCode",Dr(e,t))}async function Li(e,t){return Pi(e,t)}class Mi extends Oi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Mi(e,t,"password")}static _fromEmailAndCode(e,t){return new Mi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ni(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ri);case"emailLink":return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithEmailLink",Dr(e,t))}(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ni(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Di);case"emailLink":return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithEmailLink",Dr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ui(e,t){return Lr(e,"POST","/v1/accounts:signInWithIdp",Dr(e,t))}class Fi extends Oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=hr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Fi(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ui(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ui(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ui(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tn(t)}return e}}const Bi={USER_NOT_FOUND:"user-not-found"};class zi extends Oi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new zi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new zi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithPhoneNumber",Dr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Lr(e,"POST","/v1/accounts:signInWithPhoneNumber",Dr(e,t));if(n.temporaryProof)throw Br(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Lr(e,"POST","/v1/accounts:signInWithPhoneNumber",Dr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Bi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new zi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Vi{constructor(e){var t,n,r,i,s,a;const o=nn(rn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);_r(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=nn(rn(e)).link,n=t?nn(rn(t)).deep_link_id:null,r=nn(rn(e)).deep_link_id;return(r?nn(rn(r)).link:null)||r||n||t||e}(e);try{return new Vi(t)}catch(ME){return null}}}class qi{constructor(){this.providerId=qi.PROVIDER_ID}static credential(e,t){return Mi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Vi.parseLink(t);return _r(n,"argument-error"),Mi._fromEmailAndCode(e,n.code,n.tenantId)}}qi.PROVIDER_ID="password",qi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Hi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wi extends Hi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ki extends Wi{constructor(){super("facebook.com")}static credential(e){return Fi._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ki.credential(t.oauthAccessToken)}catch(ME){return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ki.PROVIDER_ID="facebook.com";class Gi extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fi._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch(ME){return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com",Gi.PROVIDER_ID="google.com";class Qi extends Wi{constructor(){super("github.com")}static credential(e){return Fi._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qi.credential(t.oauthAccessToken)}catch(ME){return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com",Qi.PROVIDER_ID="github.com";class Yi extends Wi{constructor(){super("twitter.com")}static credential(e,t){return Fi._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Yi.credential(n,r)}catch(ME){return null}}}async function Xi(e,t){return Lr(e,"POST","/v1/accounts:signUp",Dr(e,t))}Yi.TWITTER_SIGN_IN_METHOD="twitter.com",Yi.PROVIDER_ID="twitter.com";class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Zr._fromIdTokenResponse(e,n,r),s=Ji(n);return new $i({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ji(n);return new $i({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ji(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Zi extends Xt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Zi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Zi(e,t,n,r)}}function es(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zi._fromErrorAndOperation(e,n,t,r);throw n}))}async function ts(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Gr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $i._forOperation(e,"link",r)}async function ns(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Gr(e,es(r,i,t,e),n);_r(s.idToken,r,"internal-error");const a=Kr(s.idToken);_r(a,r,"internal-error");const{sub:o}=a;return _r(e.uid===o,r,"user-mismatch"),$i._forOperation(e,i,s)}catch(NC){throw(null===NC||void 0===NC?void 0:NC.code)==="auth/".concat("user-not-found")&&vr(r,"user-mismatch"),NC}}async function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await es(e,r,t),s=await $i._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function is(e,t){return rs(_i(e),t)}function ss(e,t,n){var r;_r((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),_r("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_r(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_r(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function as(e){const t=_i(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function os(e,t,n){const r=_i(e),i=Ni(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xi),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&as(e),t})),a=await $i._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}new WeakMap;const ls="__sak";class cs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ls,"1"),this.storage.removeItem(ls),Promise.resolve(!0)):Promise.resolve(!1)}catch(ME){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class us extends cs{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Gt();return li(e)||pi(e)}()&&function(){try{return!(!window||window===window.top)}catch(NC){return!1}}(),this.fallbackToPolling=gi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);mi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}us.type="LOCAL";const hs=us;class ds extends cs{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ds.type="SESSION";const fs=ds;class ps{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ps(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ps.receivers=[];class gs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=ms("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function vs(){return window}function ys(){return"undefined"!==typeof vs().WorkerGlobalScope&&"function"===typeof vs().importScripts}const ws="firebaseLocalStorageDb",bs="firebaseLocalStorage",_s="fbase_key";class xs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Es(e,t){return e.transaction([bs],t?"readwrite":"readonly").objectStore(bs)}function Ss(){const e=indexedDB.open(ws,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(bs,{keyPath:_s})}catch(NC){n(NC)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(bs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ws);return new xs(e).toPromise()}(),t(await Ss()))}))}))}async function ks(e,t,n){const r=Es(e,!0).put({[_s]:t,value:n});return new xs(r).toPromise()}function Cs(e,t){const n=Es(e,!0).delete(t);return new xs(n).toPromise()}class Ts{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ss()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(NC){if(t++>3)throw NC;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ys()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ps._getInstance(ys()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new gs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(ME){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ss();return await ks(e,ls,"1"),await Cs(e,ls),!0}catch(ME){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ks(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Es(e,!1).get(t),r=await new xs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Cs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Es(e,!1).getAll();return new xs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ts.type="LOCAL";const Ns=Ts;ki("rcb"),new Nr(3e4,6e4);const Is="recaptcha";async function js(e,t,n){var r;const i=await n.verify();try{let s;if(_r("string"===typeof i,e,"argument-error"),_r(n.type===Is,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){_r("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Rr(e,"POST","/v2/accounts/mfaEnrollment:start",Dr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{_r("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;_r(n,e,"missing-multi-factor-info");const a=await function(e,t){return Rr(e,"POST","/v2/accounts/mfaSignIn:start",Dr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Rr(e,"POST","/v1/accounts:sendVerificationCode",Dr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class As{constructor(e){this.providerId=As.PROVIDER_ID,this.auth=_i(e)}verifyPhoneNumber(e,t){return js(this.auth,e,on(t))}static credential(e,t){return zi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return As.credentialFromTaggedObject(t)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?zi._fromTokenResponse(n,r):null}}function Os(e,t){return t?ti(t):(_r(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}As.PROVIDER_ID="phone",As.PHONE_SIGN_IN_METHOD="phone";class Ds extends Oi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ui(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Rs(e){return rs(e.auth,new Ds(e),e.bypassAuthState)}function Ps(e){const{auth:t,user:n}=e;return _r(n,t,"internal-error"),ns(n,new Ds(e),e.bypassAuthState)}async function Ls(e){const{auth:t,user:n}=e;return _r(n,t,"internal-error"),ts(n,new Ds(e),e.bypassAuthState)}class Ms{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(NC){this.reject(NC)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(NC){this.reject(NC)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rs;case"linkViaPopup":case"linkViaRedirect":return Ls;case"reauthViaPopup":case"reauthViaRedirect":return Ps;default:vr(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Us=new Nr(2e3,1e4);class Fs extends Ms{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _r(e,this.auth,"internal-error"),e}async onExecution(){Er(1===this.filter.length,"Popup operations only handle one event");const e=ms();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(yr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Us.get())};e()}}Fs.currentPopupAction=null;const Bs="pendingRedirect",zs=new Map;class Vs extends Ms{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=zs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ws(t),r=Hs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(NC){e=()=>Promise.reject(NC)}zs.set(this.auth._key(),e)}return this.bypassAuthState||zs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function qs(e,t){zs.set(e._key(),t)}function Hs(e){return ti(e._redirectPersistence)}function Ws(e){return ii(Bs,e.config.apiKey,e.name)}async function Ks(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=_i(e),i=Os(r,t),s=new Vs(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Gs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ys(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ys(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qs(e))}saveEventToCache(e){this.cachedEventUids.add(Qs(e)),this.lastProcessedEventTime=Date.now()}}function Qs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ys(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Xs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$s=/^https?/;async function Js(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Rr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(Zs(n))return}catch(ME){}vr(e,"unauthorized-domain")}function Zs(e){const t=Sr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!$s.test(n))return!1;if(Xs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ea=new Nr(3e4,6e4);function ta(){const e=vs().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function na(e){return new Promise(((t,n)=>{var r,i,s;function a(){ta(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ta(),n(yr(e,"network-request-failed"))},timeout:ea.get()})}if(null===(i=null===(r=vs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=vs().gapi)||void 0===s?void 0:s.load)){const t=ki("iframefcb");return vs()[t]=()=>{gapi.load?a():n(yr(e,"network-request-failed"))},Si("".concat(Ei.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw ra=null,e}))}let ra=null;const ia=new Nr(5e3,15e3),sa="__/auth/iframe",aa="emulator/auth/iframe",oa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},la=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ca(e){const t=e.config;_r(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ir(t,aa):"https://".concat(e.config.authDomain,"/").concat(sa),r={apiKey:t.apiKey,appName:e.name,v:Yn},i=la.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(tn(r).slice(1))}async function ua(e){const t=await function(e){return ra=ra||na(e),ra}(e),n=vs().gapi;return _r(n,e,"internal-error"),t.open({where:document.body,url:ca(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oa,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=yr(e,"network-request-failed"),s=vs().setTimeout((()=>{r(i)}),ia.get());function a(){vs().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const ha={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class da{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(NC){}}}function fa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ha),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Gt().toLowerCase();n&&(o=ci(c)?"_blank":n),oi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return pi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new da(null);const h=window.open(t||"",o,u);_r(h,e,"popup-blocked");try{h.focus()}catch(NC){}return new da(h)}const pa="__/auth/handler",ma="emulator/auth/handler",ga=encodeURIComponent("fac");async function va(e,t,n,r,i,s){_r(e.config.authDomain,e,"auth-domain-config-required"),_r(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yn,eventId:i};if(t instanceof Hi){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Wi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ga,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(pa);return Ir(t,ma)}(e),"?").concat(tn(o).slice(1)).concat(c)}const ya="webStorageSupport";const wa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fs,this._completeRedirectFn=Ks,this._overrideRedirectResult=qs}async _openPopup(e,t,n,r){var i;Er(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return fa(e,await va(e,t,n,Sr(),r),ms())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){vs().location.href=e}(await va(e,t,n,Sr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Er(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ua(e),n=new Gs(e);return t.register("authEvent",(t=>{_r(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ya,{type:ya},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ya];void 0!==i&&t(!!i),vr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Js(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gi()||li()||pi()}};var ba="@firebase/auth",_a="1.6.0";class xa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_r(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ea=Ht("authIdTokenMaxAge")||300;let Sa=null;var ka;!function(e){Ei=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=yr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),ka="Browser",Wn(new ln("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;_r(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:ka,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vi(ka)},c=new bi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ti);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Wn(new ln("auth-internal",(e=>(e=>new xa(e))(_i(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(ba,_a,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ka)),Jn(ba,_a,"esm2017");var Ca,Ta="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Na={},Ia=Ia||{},ja=Ta||self;function Aa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Oa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Da="closure_uid_"+(1e9*Math.random()>>>0),Ra=0;function Pa(e,t,n){return e.call.apply(e.bind,arguments)}function La(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ma(e,t,n){return(Ma=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pa:La).apply(null,arguments)}function Ua(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Fa(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ba(){this.s=this.s,this.o=this.o}Ba.prototype.s=!1,Ba.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Da)&&e[Da]||(e[Da]=++Ra))},Ba.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const za=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Va(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function qa(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Aa(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Ha(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ha.prototype.h=function(){this.defaultPrevented=!0};var Wa=function(){if(!ja.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};ja.addEventListener("test",e,t),ja.removeEventListener("test",e,t)}catch(n){}return e}();function Ka(e){return/^[\s\xa0]*$/.test(e)}function Ga(){var e=ja.navigator;return e&&(e=e.userAgent)?e:""}function Qa(e){return-1!=Ga().indexOf(e)}function Ya(e){return Ya[" "](e),e}Ya[" "]=function(){};var Xa,$a,Ja=Qa("Opera"),Za=Qa("Trident")||Qa("MSIE"),eo=Qa("Edge"),to=eo||Za,no=Qa("Gecko")&&!(-1!=Ga().toLowerCase().indexOf("webkit")&&!Qa("Edge"))&&!(Qa("Trident")||Qa("MSIE"))&&!Qa("Edge"),ro=-1!=Ga().toLowerCase().indexOf("webkit")&&!Qa("Edge");function io(){var e=ja.document;return e?e.documentMode:void 0}e:{var so="",ao=function(){var e=Ga();return no?/rv:([^\);]+)(\)|;)/.exec(e):eo?/Edge\/([\d\.]+)/.exec(e):Za?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ro?/WebKit\/(\S+)/.exec(e):Ja?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ao&&(so=ao?ao[1]:""),Za){var oo=io();if(null!=oo&&oo>parseFloat(so)){Xa=String(oo);break e}}Xa=so}if(ja.document&&Za){var lo=io();$a=lo||(parseInt(Xa,10)||void 0)}else $a=void 0;var co=$a;function uo(e,t){if(Ha.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(no){e:{try{Ya(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ho[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&uo.$.h.call(this)}}Fa(uo,Ha);var ho={2:"touch",3:"pen",4:"mouse"};uo.prototype.h=function(){uo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fo="closure_listenable_"+(1e6*Math.random()|0),po=0;function mo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++po,this.fa=this.ia=!1}function go(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function vo(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function yo(e){const t={};for(const n in e)t[n]=e[n];return t}const wo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bo(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<wo.length;t++)n=wo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _o(e){this.src=e,this.g={},this.h=0}function xo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=za(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(go(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Eo(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}_o.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Eo(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new mo(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var So="closure_lm_"+(1e6*Math.random()|0),ko={};function Co(e,t,n,r,i){if(r&&r.once)return No(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Co(e,t[s],n,r,i);return null}return n=Po(n),e&&e[fo]?e.O(t,n,Oa(r)?!!r.capture:!!r,i):To(e,t,n,!1,r,i)}function To(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Oa(i)?!!i.capture:!!i,o=Do(e);if(o||(e[So]=o=new _o(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Oo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Wa||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ao(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function No(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)No(e,t[s],n,r,i);return null}return n=Po(n),e&&e[fo]?e.P(t,n,Oa(r)?!!r.capture:!!r,i):To(e,t,n,!0,r,i)}function Io(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Io(e,t[s],n,r,i);else r=Oa(r)?!!r.capture:!!r,n=Po(n),e&&e[fo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Eo(s=e.g[t],n,r,i))&&(go(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Do(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Eo(t,n,r,i)),(n=-1<e?t[e]:null)&&jo(n))}function jo(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[fo])xo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ao(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Do(t))?(xo(n,e),0==n.h&&(n.src=null,t[So]=null)):go(e)}}}function Ao(e){return e in ko?ko[e]:ko[e]="on"+e}function Oo(e,t){if(e.fa)e=!0;else{t=new uo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&jo(e),e=n.call(r,t)}return e}function Do(e){return(e=e[So])instanceof _o?e:null}var Ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function Po(e){return"function"===typeof e?e:(e[Ro]||(e[Ro]=function(t){return e.handleEvent(t)}),e[Ro])}function Lo(){Ba.call(this),this.i=new _o(this),this.S=this,this.J=null}function Mo(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ha(t,e);else if(t instanceof Ha)t.target=t.target||e;else{var i=t;bo(t=new Ha(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Uo(a,r,!0,t)&&i}if(i=Uo(a=t.g=e,r,!0,t)&&i,i=Uo(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Uo(a=t.g=n[s],r,!1,t)&&i}function Uo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&xo(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Fa(Lo,Ba),Lo.prototype[fo]=!0,Lo.prototype.removeEventListener=function(e,t,n,r){Io(this,e,t,n,r)},Lo.prototype.N=function(){if(Lo.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)go(n[r]);delete t.g[e],t.h--}}this.J=null},Lo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Lo.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fo=ja.JSON.stringify;function Bo(){var e=Go;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var zo=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Vo),(e=>e.reset()));class Vo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qo(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ho(e){ja.setTimeout((()=>{throw e}),0)}let Wo,Ko=!1,Go=new class{constructor(){this.h=this.g=null}add(e,t){const n=zo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Qo=()=>{const e=ja.Promise.resolve(void 0);Wo=()=>{e.then(Yo)}};var Yo=()=>{for(var e;e=Bo();){try{e.h.call(e.g)}catch(n){Ho(n)}var t=zo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ko=!1};function Xo(e,t){Lo.call(this),this.h=e||1,this.g=t||ja,this.j=Ma(this.qb,this),this.l=Date.now()}function $o(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Jo(e,t,n){if("function"===typeof e)n&&(e=Ma(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ma(e.handleEvent,e)}return 2147483647<Number(t)?-1:ja.setTimeout(e,t||0)}function Zo(e){e.g=Jo((()=>{e.g=null,e.i&&(e.i=!1,Zo(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Fa(Xo,Lo),(Ca=Xo.prototype).ga=!1,Ca.T=null,Ca.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mo(this,"tick"),this.ga&&($o(this),this.start()))}},Ca.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ca.N=function(){Xo.$.N.call(this),$o(this),delete this.g};class el extends Ba{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(ja.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(e){Ba.call(this),this.h=e,this.g={}}Fa(tl,Ba);var nl=[];function rl(e,t,n,r){Array.isArray(n)||(n&&(nl[0]=n.toString()),n=nl);for(var i=0;i<n.length;i++){var s=Co(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function il(e){vo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&jo(e)}),e),e.g={}}function sl(){this.g=!0}function al(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Fo(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}tl.prototype.N=function(){tl.$.N.call(this),il(this)},tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sl.prototype.Ea=function(){this.g=!1},sl.prototype.info=function(){};var ol={},ll=null;function cl(){return ll=ll||new Lo}function ul(e){Ha.call(this,ol.Ta,e)}function hl(e){const t=cl();Mo(t,new ul(t))}function dl(e,t){Ha.call(this,ol.STAT_EVENT,e),this.stat=t}function fl(e){const t=cl();Mo(t,new dl(t,e))}function pl(e,t){Ha.call(this,ol.Ua,e),this.size=t}function ml(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ja.setTimeout((function(){e()}),t)}ol.Ta="serverreachability",Fa(ul,Ha),ol.STAT_EVENT="statevent",Fa(dl,Ha),ol.Ua="timingevent",Fa(pl,Ha);var gl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yl(){}function wl(e){return e.h||(e.h=e.i())}function bl(){}yl.prototype.h=null;var _l,xl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function El(){Ha.call(this,"d")}function Sl(){Ha.call(this,"c")}function kl(){}function Cl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new tl(this),this.P=Nl,e=to?125:void 0,this.V=new Xo(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Tl}function Tl(){this.i=null,this.g="",this.h=!1}Fa(El,Ha),Fa(Sl,Ha),Fa(kl,yl),kl.prototype.g=function(){return new XMLHttpRequest},kl.prototype.i=function(){return{}},_l=new kl;var Nl=45e3,Il={},jl={};function Al(e,t,n){e.L=1,e.A=Xl(Wl(t)),e.u=n,e.S=!0,Ol(e,null)}function Ol(e,t){e.G=Date.now(),Ll(e),e.B=Wl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),cc(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Tl,e.g=uu(e.l,n?t:null,!e.u),0<e.O&&(e.M=new el(Ma(e.Pa,e,e.g),e.O)),rl(e.U,e.g,"readystatechange",e.nb),t=e.I?yo(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),hl(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Dl(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Rl(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Pl(e,n),r==jl){4==t&&(e.s=4,fl(14),i=!1),al(e.j,e.m,null,"[Incomplete Response]");break}if(r==Il){e.s=4,fl(15),al(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}al(e.j,e.m,r,null),zl(e,r)}Dl(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,fl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nu(t),t.M=!0,fl(11))):(al(e.j,e.m,n,"[Invalid Chunked Response]"),Bl(e),Fl(e))}function Pl(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?jl:(n=Number(t.substring(n,r)),isNaN(n)?Il:(r+=1)+n>t.length?jl:(t=t.slice(r,r+n),e.o=r+n,t))}function Ll(e){e.Y=Date.now()+e.P,Ml(e,e.P)}function Ml(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=ml(Ma(e.lb,e),t)}function Ul(e){e.C&&(ja.clearTimeout(e.C),e.C=null)}function Fl(e){0==e.l.H||e.J||su(e.l,e)}function Bl(e){Ul(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,$o(e.V),il(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function zl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||gc(n.i,e)))if(!e.K&&gc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;iu(n),Qc(n)}tu(n),fl(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ml(Ma(n.ib,n),6e3));if(1>=mc(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else ou(n,11)}else if((e.K||n.g==e)&&iu(n),!Ka(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(vc(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Yl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=cu(r,r.J?r.pa:null,r.Y),a.K){yc(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(Ul(o),Ll(o)),r.g=a}else eu(r);0<n.j.length&&Xc(n)}else"stop"!=c[0]&&"close"!=c[0]||ou(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ou(n,7):Gc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}hl()}catch(c){}}function Vl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Aa(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Aa(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Aa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Ca=Cl.prototype).setTimeout=function(e){this.P=e},Ca.nb=function(e){e=e.target;const t=this.M;t&&3==zc(e)?t.l():this.Pa(e)},Ca.Pa=function(e){try{if(e==this.g)e:{const u=zc(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||to||this.g&&(this.h.h||this.g.ja()||Vc(this.g)))){this.J||4!=u||7==t||hl(),Ul(this);var n=this.g.da();this.ca=n;t:if(Dl(this)){var r=Vc(this.g);e="";var i=r.length,s=4==zc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Bl(this),Fl(this);var a="";break t}this.h.i=new ja.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ka(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,fl(12),Bl(this),Fl(this);break e}al(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zl(this,n)}this.S?(Rl(this,u,a),to&&this.i&&3==u&&(rl(this.U,this.V,"tick",this.mb),this.V.start())):(al(this.j,this.m,a,null),zl(this,a)),4==u&&Bl(this),this.i&&!this.J&&(4==u?su(this.l,this):(this.i=!1,Ll(this)))}else(function(e){const t={};e=(e.g&&2<=zc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ka(e[r]))continue;var n=qo(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,fl(12)):(this.s=0,fl(13)),Bl(this),Fl(this)}}}catch(u){}},Ca.mb=function(){if(this.g){var e=zc(this.g),t=this.g.ja();this.o<t.length&&(Ul(this),Rl(this,e,t),this.i&&4!=e&&Ll(this))}},Ca.cancel=function(){this.J=!0,Bl(this)},Ca.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(hl(),fl(17)),Bl(this),this.s=2,Fl(this)):Ml(this,this.Y-e)};var ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Hl){this.h=e.h,Kl(this,e.j),this.s=e.s,this.g=e.g,Gl(this,e.m),this.l=e.l;var t=e.i,n=new sc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ql(this,n),this.o=e.o}else e&&(t=String(e).match(ql))?(this.h=!1,Kl(this,t[1]||"",!0),this.s=$l(t[2]||""),this.g=$l(t[3]||"",!0),Gl(this,t[4]),this.l=$l(t[5]||"",!0),Ql(this,t[6]||"",!0),this.o=$l(t[7]||"")):(this.h=!1,this.i=new sc(null,this.h))}function Wl(e){return new Hl(e)}function Kl(e,t,n){e.j=n?$l(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ql(e,t,n){t instanceof sc?(e.i=t,function(e,t){t&&!e.j&&(ac(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(oc(this,t),cc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Jl(t,rc)),e.i=new sc(t,e.h))}function Yl(e,t,n){e.i.set(t,n)}function Xl(e){return Yl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $l(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Zl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Hl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Jl(t,ec,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Jl(t,ec,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Jl(n,"/"==n.charAt(0)?nc:tc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Jl(n,ic)),e.join("")};var ec=/[#\/\?@]/g,tc=/[#\?:]/g,nc=/[#\?]/g,rc=/[#\?@]/g,ic=/#/g;function sc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ac(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function oc(e,t){ac(e),t=uc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function lc(e,t){return ac(e),t=uc(e,t),e.g.has(t)}function cc(e,t,n){oc(e,t),0<n.length&&(e.i=null,e.g.set(uc(e,t),Va(n)),e.h+=n.length)}function uc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ca=sc.prototype).add=function(e,t){ac(this),this.i=null,e=uc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ca.forEach=function(e,t){ac(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ca.ta=function(){ac(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ca.Z=function(e){ac(this);let t=[];if("string"===typeof e)lc(this,e)&&(t=t.concat(this.g.get(uc(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ca.set=function(e,t){return ac(this),this.i=null,lc(this,e=uc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ca.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ca.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var hc=class{constructor(e,t){this.g=e,this.map=t}};function dc(e){this.l=e||fc,ja.PerformanceNavigationTiming?e=0<(e=ja.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ja.g&&ja.g.Ka&&ja.g.Ka()&&ja.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fc=10;function pc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function mc(e){return e.h?1:e.g?e.g.size:0}function gc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vc(e,t){e.g?e.g.add(t):e.h=t}function yc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function wc(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Va(e.i)}dc.prototype.cancel=function(){if(this.i=wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var bc,_c=class{stringify(e){return ja.JSON.stringify(e,void 0)}parse(e){return ja.JSON.parse(e,void 0)}};function xc(){this.g=new _c}function Ec(e,t,n){const r=n||"";try{Vl(e,(function(e,n){let i=e;Oa(e)&&(i=Fo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(NC){throw t.push(r+"type="+encodeURIComponent("_badmap")),NC}}function Sc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function kc(e){this.l=e.ec||null,this.j=e.ob||!1}function Cc(e,t){Lo.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Tc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fa(kc,yl),kc.prototype.g=function(){return new Cc(this.l,this.j)},kc.prototype.i=(bc={},function(){return bc}),Fa(Cc,Lo);var Tc=0;function Nc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ic(e){e.readyState=4,e.l=null,e.j=null,e.A=null,jc(e)}function jc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ca=Cc.prototype).open=function(e,t){if(this.readyState!=Tc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,jc(this)},Ca.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ja).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ca.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ic(this)),this.readyState=Tc},Ca.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jc(this)),this.g&&(this.readyState=3,jc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ja.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ca.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ic(this):jc(this),3==this.readyState&&Nc(this)}},Ca.Za=function(e){this.g&&(this.response=this.responseText=e,Ic(this))},Ca.Ya=function(e){this.g&&(this.response=e,Ic(this))},Ca.ka=function(){this.g&&Ic(this)},Ca.setRequestHeader=function(e,t){this.v.append(e,t)},Ca.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ca.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Cc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ac=ja.JSON.parse;function Oc(e){Lo.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dc,this.L=this.M=!1}Fa(Oc,Lo);var Dc="",Rc=/^https?$/i,Pc=["POST","PUT"];function Lc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Mc(e),Fc(e)}function Mc(e){e.F||(e.F=!0,Mo(e,"complete"),Mo(e,"error"))}function Uc(e){if(e.h&&"undefined"!=typeof Ia&&(!e.C[1]||4!=zc(e)||2!=e.da()))if(e.v&&4==zc(e))Jo(e.La,0,e);else if(Mo(e,"readystatechange"),4==zc(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(ql)[1]||null;!i&&ja.self&&ja.self.location&&(i=ja.self.location.protocol.slice(0,-1)),r=!Rc.test(i?i.toLowerCase():"")}n=r}if(n)Mo(e,"complete"),Mo(e,"success");else{e.m=6;try{var s=2<zc(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Mc(e)}}finally{Fc(e)}}}function Fc(e,t){if(e.g){Bc(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Mo(e,"ready");try{n.onreadystatechange=r}catch(NC){}}}function Bc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ja.clearTimeout(e.A),e.A=null)}function zc(e){return e.g?e.g.readyState:0}function Vc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Dc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Yu){return null}}function qc(e){let t="";return vo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Hc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Yl(e,t,n))}function Wc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kc(e){this.Ga=0,this.j=[],this.l=new sl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wc("baseRetryDelayMs",5e3,e),this.hb=Wc("retryDelaySeedMs",1e4,e),this.eb=Wc("forwardChannelMaxRetries",2,e),this.xa=Wc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new dc(e&&e.concurrentRequestLimit),this.Ja=new xc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Gc(e){if(Yc(e),3==e.H){var t=e.W++,n=Wl(e.I);if(Yl(n,"SID",e.K),Yl(n,"RID",t),Yl(n,"TYPE","terminate"),Jc(e,n),(t=new Cl(e,e.l,t)).L=2,t.A=Xl(Wl(n)),n=!1,ja.navigator&&ja.navigator.sendBeacon)try{n=ja.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&ja.Image&&((new Image).src=t.A,n=!0),n||(t.g=uu(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ll(t)}lu(e)}function Qc(e){e.g&&(nu(e),e.g.cancel(),e.g=null)}function Yc(e){Qc(e),e.u&&(ja.clearTimeout(e.u),e.u=null),iu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ja.clearTimeout(e.m),e.m=null)}function Xc(e){if(!pc(e.i)&&!e.m){e.m=!0;var t=e.Na;Wo||Qo(),Ko||(Wo(),Ko=!0),Go.add(t,e),e.C=0}}function $c(e,t){var n;n=t?t.m:e.W++;const r=Wl(e.I);Yl(r,"SID",e.K),Yl(r,"RID",n),Yl(r,"AID",e.V),Jc(e,r),e.o&&e.s&&Hc(r,e.o,e.s),n=new Cl(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Zc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),vc(e.i,n),Al(n,r,t)}function Jc(e,t){e.na&&vo(e.na,(function(e,n){Yl(t,n,e)})),e.h&&Vl({},(function(e,n){Yl(t,n,e)}))}function Zc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ma(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Ec(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function eu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Wo||Qo(),Ko||(Wo(),Ko=!0),Go.add(t,e),e.A=0}}function tu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ml(Ma(e.Ma,e),au(e,e.A)),e.A++,!0)}function nu(e){null!=e.B&&(ja.clearTimeout(e.B),e.B=null)}function ru(e){e.g=new Cl(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Wl(e.wa);Yl(t,"RID","rpc"),Yl(t,"SID",e.K),Yl(t,"AID",e.V),Yl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Yl(t,"TO",e.qa),Yl(t,"TYPE","xmlhttp"),Jc(e,t),e.o&&e.s&&Hc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Xl(Wl(t)),n.u=null,n.S=!0,Ol(n,e)}function iu(e){null!=e.v&&(ja.clearTimeout(e.v),e.v=null)}function su(e,t){var n=null;if(e.g==t){iu(e),nu(e),e.g=null;var r=2}else{if(!gc(e.i,t))return;n=t.F,yc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Mo(r=cl(),new pl(r,n)),Xc(e)}else eu(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(mc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ml(Ma(e.Na,e,t),au(e,e.C)),e.C++,!0))}(e,t)||2==r&&tu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ou(e,5);break;case 4:ou(e,10);break;case 3:ou(e,6);break;default:ou(e,2)}}function au(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ou(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ma(e.pb,e);n||(n=new Hl("//www.google.com/images/cleardot.gif"),ja.location&&"http"==ja.location.protocol||Kl(n,"https"),Xl(n)),function(e,t){const n=new sl;if(ja.Image){const r=new Image;r.onload=Ua(Sc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ua(Sc,n,r,"TestLoadImage: error",!1,t),r.onabort=Ua(Sc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ua(Sc,n,r,"TestLoadImage: timeout",!1,t),ja.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else fl(2);e.H=0,e.h&&e.h.za(t),lu(e),Yc(e)}function lu(e){if(e.H=0,e.ma=[],e.h){const t=wc(e.i);0==t.length&&0==e.j.length||(qa(e.ma,t),qa(e.ma,e.j),e.i.i.length=0,Va(e.j),e.j.length=0),e.h.ya()}}function cu(e,t,n){var r=n instanceof Hl?Wl(n):new Hl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Gl(r,r.m);else{var i=ja.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Hl(null);r&&Kl(s,r),t&&(s.g=t),i&&Gl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Yl(r,n,t),Yl(r,"VER",e.ra),Jc(e,r),r}function uu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Oc(new kc({ob:n})):new Oc(e.va)).Oa(e.J),t}function hu(){}function du(){if(Za&&!(10<=Number(co)))throw Error("Environmental error: no available transport.")}function fu(e,t){Lo.call(this),this.g=new Kc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ka(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ka(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gu(this)}function pu(e){El.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mu(){Sl.call(this),this.status=1}function gu(e){this.g=e}function vu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function wu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Ca=Oc.prototype).Oa=function(e){this.M=e},Ca.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_l.g(),this.C=this.u?wl(this.u):wl(_l),this.g.onreadystatechange=Ma(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Lc(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=ja.FormData&&e instanceof ja.FormData,!(0<=za(Pc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Bc(this),0<this.B&&((this.L=function(e){return Za&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ma(this.ua,this)):this.A=Jo(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Lc(this,s)}},Ca.ua=function(){"undefined"!=typeof Ia&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mo(this,"timeout"),this.abort(8))},Ca.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Mo(this,"complete"),Mo(this,"abort"),Fc(this))},Ca.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fc(this,!0)),Oc.$.N.call(this)},Ca.La=function(){this.s||(this.G||this.v||this.l?Uc(this):this.kb())},Ca.kb=function(){Uc(this)},Ca.isActive=function(){return!!this.g},Ca.da=function(){try{return 2<zc(this)?this.g.status:-1}catch(bc){return-1}},Ca.ja=function(){try{return this.g?this.g.responseText:""}catch(bc){return""}},Ca.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ac(t)}},Ca.Ia=function(){return this.m},Ca.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ca=Kc.prototype).ra=8,Ca.H=1,Ca.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Cl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=yo(s),bo(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Zc(this,i,t),Yl(n=Wl(this.I),"RID",e),Yl(n,"CVER",22),this.F&&Yl(n,"X-HTTP-Session-Id",this.F),Jc(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(qc(s)))+"&"+t:this.o&&Hc(n,this.o,s)),vc(this.i,i),this.bb&&Yl(n,"TYPE","init"),this.P?(Yl(n,"$req",t),Yl(n,"SID","null"),i.aa=!0,Al(i,n,null)):Al(i,n,t),this.H=2}}else 3==this.H&&(e?$c(this,e):0==this.j.length||pc(this.i)||$c(this))},Ca.Ma=function(){if(this.u=null,ru(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ml(Ma(this.jb,this),e)}},Ca.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fl(10),Qc(this),ru(this))},Ca.ib=function(){null!=this.v&&(this.v=null,Qc(this),tu(this),fl(19))},Ca.pb=function(e){e?(this.l.info("Successfully pinged google.com"),fl(2)):(this.l.info("Failed to ping google.com"),fl(1))},Ca.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ca=hu.prototype).Ba=function(){},Ca.Aa=function(){},Ca.za=function(){},Ca.ya=function(){},Ca.isActive=function(){return!0},Ca.Va=function(){},du.prototype.g=function(e,t){return new fu(e,t)},Fa(fu,Lo),fu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;fl(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=cu(e,null,e.Y),Xc(e)},fu.prototype.close=function(){Gc(this.g)},fu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fo(e),e=n);t.j.push(new hc(t.fb++,e)),3==t.H&&Xc(t)},fu.prototype.N=function(){this.g.h=null,delete this.j,Gc(this.g),delete this.g,fu.$.N.call(this)},Fa(pu,El),Fa(mu,Sl),Fa(gu,hu),gu.prototype.Ba=function(){Mo(this.g,"a")},gu.prototype.Aa=function(e){Mo(this.g,new pu(e))},gu.prototype.za=function(e){Mo(this.g,new mu)},gu.prototype.ya=function(){Mo(this.g,"b")},Fa(vu,(function(){this.blockSize=-1})),vu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)yu(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){yu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){yu(this,r),i=0;break}}this.h=i,this.i+=t},vu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var bu={};function _u(e){return-128<=e&&128>e?function(e,t){var n=bu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new wu([0|e],0>e?-1:0)})):new wu([0|e],0>e?-1:0)}function xu(e){if(isNaN(e)||!isFinite(e))return Su;if(0>e)return Iu(xu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Eu;return new wu(t,0)}var Eu=4294967296,Su=_u(0),ku=_u(1),Cu=_u(16777216);function Tu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Nu(e){return-1==e.h}function Iu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new wu(n,~e.h).add(ku)}function ju(e,t){return e.add(Iu(t))}function Au(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ou(e,t){this.g=e,this.h=t}function Du(e,t){if(Tu(t))throw Error("division by zero");if(Tu(e))return new Ou(Su,Su);if(Nu(e))return t=Du(Iu(e),t),new Ou(Iu(t.g),Iu(t.h));if(Nu(t))return t=Du(e,Iu(t)),new Ou(Iu(t.g),t.h);if(30<e.g.length){if(Nu(e)||Nu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ku,r=t;0>=r.X(e);)n=Ru(n),r=Ru(r);var i=Pu(n,1),s=Pu(r,1);for(r=Pu(r,2),n=Pu(n,2);!Tu(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Pu(r,1),n=Pu(n,1)}return t=ju(e,i.R(t)),new Ou(i,t)}for(i=Su;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=xu(n)).R(t);Nu(a)||0<a.X(e);)a=(s=xu(n-=r)).R(t);Tu(s)&&(s=ku),i=i.add(s),e=ju(e,a)}return new Ou(i,e)}function Ru(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new wu(n,e.h)}function Pu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new wu(i,e.h)}(Ca=wu.prototype).ea=function(){if(Nu(this))return-Iu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Eu+r)*t,t*=Eu}return e},Ca.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Tu(this))return"0";if(Nu(this))return"-"+Iu(this).toString(e);for(var t=xu(Math.pow(e,6)),n=this,r="";;){var i=Du(n,t).g,s=((0<(n=ju(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Tu(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ca.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ca.X=function(e){return Nu(e=ju(this,e))?-1:Tu(e)?0:1},Ca.abs=function(){return Nu(this)?Iu(this):this},Ca.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new wu(n,-2147483648&n[n.length-1]?-1:0)},Ca.R=function(e){if(Tu(this)||Tu(e))return Su;if(Nu(this))return Nu(e)?Iu(this).R(Iu(e)):Iu(Iu(this).R(e));if(Nu(e))return Iu(this.R(Iu(e)));if(0>this.X(Cu)&&0>e.X(Cu))return xu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,Au(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Au(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,Au(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,Au(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new wu(n,0)},Ca.gb=function(e){return Du(this,e).h},Ca.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new wu(n,this.h&e.h)},Ca.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new wu(n,this.h|e.h)},Ca.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new wu(n,this.h^e.h)},du.prototype.createWebChannel=du.prototype.g,fu.prototype.send=fu.prototype.u,fu.prototype.open=fu.prototype.m,fu.prototype.close=fu.prototype.close,gl.NO_ERROR=0,gl.TIMEOUT=8,gl.HTTP_ERROR=6,vl.COMPLETE="complete",bl.EventType=xl,xl.OPEN="a",xl.CLOSE="b",xl.ERROR="c",xl.MESSAGE="d",Lo.prototype.listen=Lo.prototype.O,Oc.prototype.listenOnce=Oc.prototype.P,Oc.prototype.getLastError=Oc.prototype.Sa,Oc.prototype.getLastErrorCode=Oc.prototype.Ia,Oc.prototype.getStatus=Oc.prototype.da,Oc.prototype.getResponseJson=Oc.prototype.Wa,Oc.prototype.getResponseText=Oc.prototype.ja,Oc.prototype.send=Oc.prototype.ha,Oc.prototype.setWithCredentials=Oc.prototype.Oa,vu.prototype.digest=vu.prototype.l,vu.prototype.reset=vu.prototype.reset,vu.prototype.update=vu.prototype.j,wu.prototype.add=wu.prototype.add,wu.prototype.multiply=wu.prototype.R,wu.prototype.modulo=wu.prototype.gb,wu.prototype.compare=wu.prototype.X,wu.prototype.toNumber=wu.prototype.ea,wu.prototype.toString=wu.prototype.toString,wu.prototype.getBits=wu.prototype.D,wu.fromNumber=xu,wu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Iu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=xu(Math.pow(n,8)),i=Su,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=xu(Math.pow(n,a)),i=i.R(a).add(xu(o))):i=(i=i.R(r)).add(xu(o))}return i};var Lu=Na.createWebChannelTransport=function(){return new du},Mu=Na.getStatEventTarget=function(){return cl()},Uu=Na.ErrorCode=gl,Fu=Na.EventType=vl,Bu=Na.Event=ol,zu=Na.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vu=(Na.FetchXmlHttpFactory=kc,Na.WebChannel=bl),qu=Na.XhrIo=Oc,Hu=Na.Md5=vu,Wu=Na.Integer=wu;const Ku="@firebase/firestore";class Gu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gu.UNAUTHENTICATED=new Gu(null),Gu.GOOGLE_CREDENTIALS=new Gu("google-credentials-uid"),Gu.FIRST_PARTY=new Gu("first-party-uid"),Gu.MOCK_USER=new Gu("mock-user");let Qu="10.8.0";const Yu=new yn("@firebase/firestore");function Xu(){return Yu.logLevel}function $u(e){if(Yu.logLevel<=fn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(eh);Yu.debug("Firestore (".concat(Qu,"): ").concat(e),...i)}}function Ju(e){if(Yu.logLevel<=fn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(eh);Yu.error("Firestore (".concat(Qu,"): ").concat(e),...i)}}function Zu(e){if(Yu.logLevel<=fn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(eh);Yu.warn("Firestore (".concat(Qu,"): ").concat(e),...i)}}function eh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function th(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Qu,") INTERNAL ASSERTION FAILED: ")+e;throw Ju(t),new Error(t)}function nh(e,t){e||th()}function rh(e,t){return e}const ih={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sh extends Xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ah{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class oh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class lh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gu.UNAUTHENTICATED)))}shutdown(){}}class ch{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class uh{constructor(e){this.t=e,this.currentUser=Gu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ah;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ah,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{$u("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):($u("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ah)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?($u("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(nh("string"==typeof t.accessToken),new oh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nh(null===e||"string"==typeof e),new Gu(e)}}class hh{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Gu.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dh{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new hh(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Gu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ph{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&$u("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,$u("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{$u("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):$u("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(nh("string"==typeof e.token),this.R=e.token,new fh(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class gh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=mh(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function vh(e,t){return e<t?-1:e>t?1:0}function yh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class wh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sh(ih.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sh(ih.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sh(ih.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sh(ih.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wh.fromMillis(Date.now())}static fromDate(e){return wh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new wh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vh(this.nanoseconds,e.nanoseconds):vh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bh(e)}static min(){return new bh(new wh(0,0))}static max(){return new bh(new wh(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _h{constructor(e,t,n){void 0===t?t=0:t>e.length&&th(),void 0===n?n=e.length-t:n>e.length-t&&th(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===_h.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _h?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xh extends _h{construct(e,t,n){return new xh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new sh(ih.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new xh(e)}static emptyPath(){return new xh([])}}const Eh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sh extends _h{construct(e,t,n){return new Sh(e,t,n)}static isValidIdentifier(e){return Eh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sh.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new sh(ih.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new sh(ih.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new sh(ih.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new sh(ih.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sh(t)}static emptyPath(){return new Sh([])}}class kh{constructor(e){this.path=e}static fromPath(e){return new kh(xh.fromString(e))}static fromName(e){return new kh(xh.fromString(e).popFirst(5))}static empty(){return new kh(xh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kh(new xh(e.slice()))}}class Ch{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ch.UNKNOWN_ID=-1;function Th(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=bh.fromTimestamp(1e9===r?new wh(n+1,0):new wh(n,r));return new Ih(i,kh.empty(),t)}function Nh(e){return new Ih(e.readTime,e.key,-1)}class Ih{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ih(bh.min(),kh.empty(),-1)}static max(){return new Ih(bh.max(),kh.empty(),-1)}}function jh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=kh.comparator(e.documentKey,t.documentKey),0!==n?n:vh(e.largestBatchId,t.largestBatchId))}const Ah="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Oh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Dh(e){if(e.code!==ih.FAILED_PRECONDITION||e.message!==Ah)throw e;$u("LocalStore","Unexpectedly lost primary lease")}class Rh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&th(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Rh?t:Rh.resolve(t)}catch(e){return Rh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Rh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Rh.reject(t)}static resolve(e){return new Rh(((t,n)=>{t(e)}))}static reject(e){return new Rh(((t,n)=>{n(e)}))}static waitFor(e){return new Rh(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Rh.resolve(!1);for(const n of e)t=t.next((e=>e?Rh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Rh(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Rh(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Ph{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ah,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Uh(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=qh(t.target.error);this.V.reject(new Uh(e,n))}}static open(e,t,n,r){try{return new Ph(t,e.transaction(r,n))}catch(e){throw new Uh(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||($u("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Bh(t)}}class Lh{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Lh.S(Gt())&&Ju("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $u("SimpleDb","Removing database:",e),zh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Yt())return!1;if(Lh.C())return!0;const e=Gt(),t=Lh.S(e),n=0<t&&t<10,r=Lh.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||($u("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Uh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new sh(ih.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new sh(ih.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Uh(e,r))},r.onupgradeneeded=e=>{$u("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{$u("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Ph.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Rh.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if($u("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Mh{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return zh(this.k.delete())}}class Uh extends sh{constructor(e,t){super(ih.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Fh(e){return"IndexedDbTransactionError"===e.name}class Bh{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?($u("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):($u("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zh(n)}add(e){return $u("SimpleDb","ADD",this.store.name,e,e),zh(this.store.add(e))}get(e){return zh(this.store.get(e)).next((t=>(void 0===t&&(t=null),$u("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return $u("SimpleDb","DELETE",this.store.name,e),zh(this.store.delete(e))}count(){return $u("SimpleDb","COUNT",this.store.name),zh(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Rh(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Rh(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){$u("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Rh(((n,r)=>{t.onerror=e=>{const t=qh(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Rh(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Mh(i),a=t(i.primaryKey,i.value,s);if(a instanceof Rh){const e=a.catch((e=>(s.done(),Rh.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Rh.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zh(e){return new Rh(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=qh(e.target.error);n(t)}}))}let Vh=!1;function qh(e){const t=Lh.S(Gt());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new sh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Vh||(Vh=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Hh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Wh(e){return null==e}function Kh(e){return 0===e&&1/e==-1/0}function Gh(e){return"number"==typeof e&&Number.isInteger(e)&&!Kh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Hh._e=-1;const Qh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xh=Yh;function $h(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Jh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ed{constructor(e,t){this.comparator=e,this.root=t||nd.EMPTY}insert(e,t){return new ed(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nd.BLACK,null,null))}remove(e){return new ed(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new td(this.root,e,this.comparator,!1)}getReverseIterator(){return new td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new td(this.root,e,this.comparator,!0)}}class td{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:nd.RED,this.left=null!=r?r:nd.EMPTY,this.right=null!=i?i:nd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new nd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return nd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw th();if(this.right.isRed())throw th();const e=this.left.check();if(e!==this.right.check())throw th();return e+(this.isRed()?0:1)}}nd.EMPTY=null,nd.RED=!0,nd.BLACK=!1,nd.EMPTY=new class{constructor(){this.size=0}get key(){throw th()}get value(){throw th()}get color(){throw th()}get left(){throw th()}get right(){throw th()}copy(e,t,n,r,i){return this}insert(e,t,n){return new nd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rd{constructor(e){this.comparator=e,this.data=new ed(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new id(this.data.getIterator())}getIteratorFrom(e){return new id(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof rd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new rd(this.comparator);return t.data=e,t}}class id{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class sd{constructor(e){this.fields=e,e.sort(Sh.comparator)}static empty(){return new sd([])}unionWith(e){let t=new rd(Sh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new sd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ad extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class od{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ad("Invalid base64 string: "+e):e}}(e);return new od(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new od(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}od.EMPTY_BYTE_STRING=new od("");const ld=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cd(e){if(nh(!!e),"string"==typeof e){let t=0;const n=ld.exec(e);if(nh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ud(e.seconds),nanos:ud(e.nanos)}}function ud(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hd(e){return"string"==typeof e?od.fromBase64String(e):od.fromUint8Array(e)}function dd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fd(e){const t=e.mapValue.fields.__previous_value__;return dd(t)?fd(t):t}function pd(e){const t=cd(e.mapValue.fields.__local_write_time__.timestampValue);return new wh(t.seconds,t.nanos)}class md{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class gd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gd&&e.projectId===this.projectId&&e.database===this.database}}const vd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dd(e)?4:Od(e)?9007199254740991:10:th()}function wd(e,t){if(e===t)return!0;const n=yd(e);if(n!==yd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pd(e).isEqual(pd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=cd(e.timestampValue),r=cd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hd(e.bytesValue).isEqual(hd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ud(e.geoPointValue.latitude)===ud(t.geoPointValue.latitude)&&ud(e.geoPointValue.longitude)===ud(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ud(e.integerValue)===ud(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ud(e.doubleValue),r=ud(t.doubleValue);return n===r?Kh(n)===Kh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return yh(e.arrayValue.values||[],t.arrayValue.values||[],wd);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($h(n)!==$h(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wd(n[i],r[i])))return!1;return!0}(e,t);default:return th()}}function bd(e,t){return void 0!==(e.values||[]).find((e=>wd(e,t)))}function _d(e,t){if(e===t)return 0;const n=yd(e),r=yd(t);if(n!==r)return vh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ud(e.integerValue||e.doubleValue),r=ud(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xd(e.timestampValue,t.timestampValue);case 4:return xd(pd(e),pd(t));case 5:return vh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=hd(e),r=hd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=vh(n[i],r[i]);if(0!==e)return e}return vh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=vh(ud(e.latitude),ud(t.latitude));return 0!==n?n:vh(ud(e.longitude),ud(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=_d(n[i],r[i]);if(e)return e}return vh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===vd.mapValue&&t===vd.mapValue)return 0;if(e===vd.mapValue)return 1;if(t===vd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=vh(r[a],s[a]);if(0!==e)return e;const t=_d(n[r[a]],i[s[a]]);if(0!==t)return t}return vh(r.length,s.length)}(e.mapValue,t.mapValue);default:throw th()}}function xd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vh(e,t);const n=cd(e),r=cd(t),i=vh(n.seconds,r.seconds);return 0!==i?i:vh(n.nanos,r.nanos)}function Ed(e){return Sd(e)}function Sd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=cd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return hd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return kh.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Sd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Sd(e.fields[i]));return n+"}"}(e.mapValue):th()}function kd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Cd(e){return!!e&&"integerValue"in e}function Td(e){return!!e&&"arrayValue"in e}function Nd(e){return!!e&&"nullValue"in e}function Id(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jd(e){return!!e&&"mapValue"in e}function Ad(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Jh(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ad(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ad(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Od(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Dd{constructor(e){this.value=e}static empty(){return new Dd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!jd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ad(t)}setAll(e){let t=Sh.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ad(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());jd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];jd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Jh(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Dd(Ad(this.value))}}function Rd(e){const t=[];return Jh(e.fields,((e,n)=>{const r=new Sh([e]);if(jd(n)){const e=Rd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new sd(t)}class Pd{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Pd(e,0,bh.min(),bh.min(),bh.min(),Dd.empty(),0)}static newFoundDocument(e,t,n,r){return new Pd(e,1,t,bh.min(),n,r,0)}static newNoDocument(e,t){return new Pd(e,2,t,bh.min(),bh.min(),Dd.empty(),0)}static newUnknownDocument(e,t){return new Pd(e,3,t,bh.min(),bh.min(),Dd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ld{constructor(e,t){this.position=e,this.inclusive=t}}function Md(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?kh.comparator(kh.fromName(a.referenceValue),n.key):_d(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ud(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wd(e.position[n],t.position[n]))return!1;return!0}class Fd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Bd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class zd{}class Vd extends zd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Xd(e,t,n):"array-contains"===t?new ef(e,n):"in"===t?new tf(e,n):"not-in"===t?new nf(e,n):"array-contains-any"===t?new rf(e,n):new Vd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new $d(e,n):new Jd(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_d(t,this.value)):null!==t&&yd(this.value)===yd(t)&&this.matchesComparison(_d(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return th()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qd extends zd{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new qd(e,t)}matches(e){return Hd(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Hd(e){return"and"===e.op}function Wd(e){return Kd(e)&&Hd(e)}function Kd(e){for(const t of e.filters)if(t instanceof qd)return!1;return!0}function Gd(e){if(e instanceof Vd)return e.field.canonicalString()+e.op.toString()+Ed(e.value);if(Wd(e))return e.filters.map((e=>Gd(e))).join(",");{const t=e.filters.map((e=>Gd(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Qd(e,t){return e instanceof Vd?function(e,t){return t instanceof Vd&&e.op===t.op&&e.field.isEqual(t.field)&&wd(e.value,t.value)}(e,t):e instanceof qd?function(e,t){return t instanceof qd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Qd(n,t.filters[r])),!0)}(e,t):void th()}function Yd(e){return e instanceof Vd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ed(e.value))}(e):e instanceof qd?function(e){return e.op.toString()+" {"+e.getFilters().map(Yd).join(" ,")+"}"}(e):"Filter"}class Xd extends Vd{constructor(e,t,n){super(e,t,n),this.key=kh.fromName(n.referenceValue)}matches(e){const t=kh.comparator(e.key,this.key);return this.matchesComparison(t)}}class $d extends Vd{constructor(e,t){super(e,"in",t),this.keys=Zd("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Jd extends Vd{constructor(e,t){super(e,"not-in",t),this.keys=Zd("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Zd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>kh.fromName(e.referenceValue)))}class ef extends Vd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Td(t)&&bd(t.arrayValue,this.value)}}class tf extends Vd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bd(this.value.arrayValue,t)}}class nf extends Vd{constructor(e,t){super(e,"not-in",t)}matches(e){if(bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bd(this.value.arrayValue,t)}}class rf extends Vd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Td(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>bd(this.value.arrayValue,e)))}}class sf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function af(e){return new sf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function of(e){const t=rh(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Gd(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Wh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ed(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ed(e))).join(",")),t.ce=e}return t.ce}function lf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Bd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Qd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ud(e.startAt,t.startAt)&&Ud(e.endAt,t.endAt)}function cf(e){return kh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class uf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function hf(e,t,n,r,i,s,a,o){return new uf(e,t,n,r,i,s,a,o)}function df(e){return new uf(e)}function ff(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function pf(e){return null!==e.collectionGroup}function mf(e){const t=rh(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new rd(Sh.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Fd(r,n))})),e.has(Sh.keyField().canonicalString())||t.le.push(new Fd(Sh.keyField(),n))}return t.le}function gf(e){const t=rh(e);return t.he||(t.he=vf(t,mf(e))),t.he}function vf(e,t){if("F"===e.limitType)return af(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Fd(e.field,t)}));const n=e.endAt?new Ld(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ld(e.startAt.position,e.startAt.inclusive):null;return af(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function yf(e,t){const n=e.filters.concat([t]);return new uf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function wf(e,t,n){return new uf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bf(e,t){return lf(gf(e),gf(t))&&e.limitType===t.limitType}function _f(e){return"".concat(of(gf(e)),"|lt:").concat(e.limitType)}function xf(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Yd(e))).join(", "),"]")),Wh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ed(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ed(e))).join(",")),"Target(".concat(t,")")}(gf(e)),"; limitType=").concat(e.limitType,")")}function Ef(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):kh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of mf(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Md(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,mf(e),t))&&!(e.endAt&&!function(e,t,n){const r=Md(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,mf(e),t))}(e,t)}function Sf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function kf(e){return(t,n)=>{let r=!1;for(const i of mf(e)){const e=Cf(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Cf(e,t,n){const r=e.field.isKeyField()?kh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_d(r,i):th()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return th()}}class Tf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Jh(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Zh(this.inner)}size(){return this.innerSize}}const Nf=new ed(kh.comparator);function If(){return Nf}const jf=new ed(kh.comparator);function Af(){let e=jf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Of(e){let t=jf;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Df(){return Pf()}function Rf(){return Pf()}function Pf(){return new Tf((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Lf=new ed(kh.comparator),Mf=new rd(kh.comparator);function Uf(){let e=Mf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ff=new rd(vh);function Bf(){return Ff}function zf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(t)?"-0":t}}function Vf(e){return{integerValue:""+e}}function qf(e,t){return Gh(t)?Vf(t):zf(e,t)}class Hf{constructor(){this._=void 0}}function Wf(e,t,n){return e instanceof Qf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&dd(t)&&(t=fd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Yf?Xf(e,t):e instanceof $f?Jf(e,t):function(e,t){const n=Gf(e,t),r=ep(n)+ep(e.Ie);return Cd(n)&&Cd(e.Ie)?Vf(r):zf(e.serializer,r)}(e,t)}function Kf(e,t,n){return e instanceof Yf?Xf(e,t):e instanceof $f?Jf(e,t):n}function Gf(e,t){return e instanceof Zf?function(e){return Cd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Qf extends Hf{}class Yf extends Hf{constructor(e){super(),this.elements=e}}function Xf(e,t){const n=tp(t);for(const r of e.elements)n.some((e=>wd(e,r)))||n.push(r);return{arrayValue:{values:n}}}class $f extends Hf{constructor(e){super(),this.elements=e}}function Jf(e,t){let n=tp(t);for(const r of e.elements)n=n.filter((e=>!wd(e,r)));return{arrayValue:{values:n}}}class Zf extends Hf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ep(e){return ud(e.integerValue||e.doubleValue)}function tp(e){return Td(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class np{constructor(e,t){this.field=e,this.transform=t}}class rp{constructor(e,t){this.version=e,this.transformResults=t}}class ip{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ip}static exists(e){return new ip(void 0,e)}static updateTime(e){return new ip(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ap{}function op(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new vp(e.key,ip.none()):new dp(e.key,e.data,ip.none());{const n=e.data,r=Dd.empty();let i=new rd(Sh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new fp(e.key,r,new sd(i.toArray()),ip.none())}}function lp(e,t,n){e instanceof dp?function(e,t,n){const r=e.value.clone(),i=mp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fp?function(e,t,n){if(!sp(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=mp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(pp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function cp(e,t,n,r){return e instanceof dp?function(e,t,n,r){if(!sp(e.precondition,t))return n;const i=e.value.clone(),s=gp(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fp?function(e,t,n,r){if(!sp(e.precondition,t))return n;const i=gp(e.fieldTransforms,r,t),s=t.data;return s.setAll(pp(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return sp(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function up(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Gf(r.transform,e||null);null!=i&&(null===n&&(n=Dd.empty()),n.set(r.field,i))}return n||null}function hp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&yh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Yf&&t instanceof Yf||e instanceof $f&&t instanceof $f?yh(e.elements,t.elements,wd):e instanceof Zf&&t instanceof Zf?wd(e.Ie,t.Ie):e instanceof Qf&&t instanceof Qf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dp extends ap{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fp extends ap{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function pp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function mp(e,t,n){const r=new Map;nh(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Kf(a,o,n[i]))}return r}function gp(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Wf(e,s,t))}return r}class vp extends ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yp extends ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wp{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&lp(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=cp(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=cp(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Rf();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=op(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(bh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Uf())}isEqual(e){return this.batchId===e.batchId&&yh(this.mutations,e.mutations,((e,t)=>hp(e,t)))&&yh(this.baseMutations,e.baseMutations,((e,t)=>hp(e,t)))}}class bp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){nh(e.mutations.length===n.length);let r=Lf;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new bp(e,t,n,r)}}class _p{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class xp{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ep,Sp;function kp(e){switch(e){default:return th();case ih.CANCELLED:case ih.UNKNOWN:case ih.DEADLINE_EXCEEDED:case ih.RESOURCE_EXHAUSTED:case ih.INTERNAL:case ih.UNAVAILABLE:case ih.UNAUTHENTICATED:return!1;case ih.INVALID_ARGUMENT:case ih.NOT_FOUND:case ih.ALREADY_EXISTS:case ih.PERMISSION_DENIED:case ih.FAILED_PRECONDITION:case ih.ABORTED:case ih.OUT_OF_RANGE:case ih.UNIMPLEMENTED:case ih.DATA_LOSS:return!0}}function Cp(e){if(void 0===e)return Ju("GRPC error has no .code"),ih.UNKNOWN;switch(e){case Ep.OK:return ih.OK;case Ep.CANCELLED:return ih.CANCELLED;case Ep.UNKNOWN:return ih.UNKNOWN;case Ep.DEADLINE_EXCEEDED:return ih.DEADLINE_EXCEEDED;case Ep.RESOURCE_EXHAUSTED:return ih.RESOURCE_EXHAUSTED;case Ep.INTERNAL:return ih.INTERNAL;case Ep.UNAVAILABLE:return ih.UNAVAILABLE;case Ep.UNAUTHENTICATED:return ih.UNAUTHENTICATED;case Ep.INVALID_ARGUMENT:return ih.INVALID_ARGUMENT;case Ep.NOT_FOUND:return ih.NOT_FOUND;case Ep.ALREADY_EXISTS:return ih.ALREADY_EXISTS;case Ep.PERMISSION_DENIED:return ih.PERMISSION_DENIED;case Ep.FAILED_PRECONDITION:return ih.FAILED_PRECONDITION;case Ep.ABORTED:return ih.ABORTED;case Ep.OUT_OF_RANGE:return ih.OUT_OF_RANGE;case Ep.UNIMPLEMENTED:return ih.UNIMPLEMENTED;case Ep.DATA_LOSS:return ih.DATA_LOSS;default:return th()}}(Sp=Ep||(Ep={}))[Sp.OK=0]="OK",Sp[Sp.CANCELLED=1]="CANCELLED",Sp[Sp.UNKNOWN=2]="UNKNOWN",Sp[Sp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sp[Sp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sp[Sp.NOT_FOUND=5]="NOT_FOUND",Sp[Sp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sp[Sp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sp[Sp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sp[Sp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sp[Sp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sp[Sp.ABORTED=10]="ABORTED",Sp[Sp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sp[Sp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sp[Sp.INTERNAL=13]="INTERNAL",Sp[Sp.UNAVAILABLE=14]="UNAVAILABLE",Sp[Sp.DATA_LOSS=15]="DATA_LOSS";let Tp=null;function Np(){return new TextEncoder}const Ip=new Wu([4294967295,4294967295],0);function jp(e){const t=Np().encode(e),n=new Hu;return n.update(t),new Uint8Array(n.digest())}function Ap(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Wu([n,r],0),new Wu([i,s],0)]}class Op{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Dp("Invalid padding: ".concat(t));if(n<0)throw new Dp("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Dp("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Dp("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Wu.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Wu.fromNumber(n)));return 1===r.compare(Ip)&&(r=new Wu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=jp(e),[n,r]=Ap(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Op(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=jp(e),[n,r]=Ap(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Dp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rp{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Pp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Rp(bh.min(),r,new ed(vh),If(),Uf())}}class Pp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Pp(n,t,Uf(),Uf(),Uf())}}class Lp{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Mp{constructor(e,t){this.targetId=e,this.fe=t}}class Up{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:od.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Fp{constructor(){this.ge=0,this.pe=Vp(),this.ye=od.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Uf(),t=Uf(),n=Uf();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:th()}})),new Pp(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Vp()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,nh(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Bp{constructor(e){this.Le=e,this.ke=new Map,this.qe=If(),this.Qe=zp(),this.Ke=new ed(vh)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:th()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(cf(i))if(0===n){const e=new kh(i.path);this.We(t,e,Pd.newNoDocument(e,bh.min()))}else nh(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Tp||Tp.tt(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=hd(n).toUint8Array()}catch(e){if(e instanceof ad)return Zu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Op(s,r,i)}catch(e){return Zu(e instanceof Dp?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&cf(i.target)){const t=new kh(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Pd.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Uf();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Rp(e,t,this.Ke,this.qe,n);return this.qe=If(),this.Qe=zp(),this.Ke=new ed(vh),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Fp,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new rd(vh),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||$u("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Fp),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function zp(){return new ed(kh.comparator)}function Vp(){return new ed(kh.comparator)}const qp={asc:"ASCENDING",desc:"DESCENDING"},Hp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wp={and:"AND",or:"OR"};class Kp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gp(e,t){return e.useProto3Json||Wh(t)?t:{value:t}}function Qp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Xp(e,t){return Qp(e,t.toTimestamp())}function $p(e){return nh(!!e),bh.fromTimestamp(function(e){const t=cd(e);return new wh(t.seconds,t.nanos)}(e))}function Jp(e,t){return Zp(e,t).canonicalString()}function Zp(e,t){const n=function(e){return new xh(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function em(e){const t=xh.fromString(e);return nh(bm(t)),t}function tm(e,t){return Jp(e.databaseId,t.path)}function nm(e,t){const n=em(t);if(n.get(1)!==e.databaseId.projectId)throw new sh(ih.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sh(ih.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new kh(am(n))}function rm(e,t){return Jp(e.databaseId,t)}function im(e){const t=em(e);return 4===t.length?xh.emptyPath():am(t)}function sm(e){return new xh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function am(e){return nh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function om(e,t,n){return{name:tm(e,t),fields:n.value.mapValue.fields}}function lm(e,t){let n;if(t instanceof dp)n={update:om(e,t.key,t.value)};else if(t instanceof vp)n={delete:tm(e,t.key)};else if(t instanceof fp)n={update:om(e,t.key,t.data),updateMask:wm(t.fieldMask)};else{if(!(t instanceof yp))return th();n={verify:tm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Qf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $f)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zf)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw th()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:th()}(e,t.precondition)),n}function cm(e,t){return{documents:[rm(e,t.path)]}}function um(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rm(e,i);const s=function(e){if(0!==e.length)return ym(qd.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:gm(e.field),direction:fm(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Gp(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function hm(e){let t=im(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=dm(e);return t instanceof qd&&Wd(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Fd(vm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Wh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ld(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ld(n,t)}(n.endAt)),hf(t,i,a,s,o,"F",l,c)}function dm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=vm(e.unaryFilter.field);return Vd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=vm(e.unaryFilter.field);return Vd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vm(e.unaryFilter.field);return Vd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vm(e.unaryFilter.field);return Vd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return th()}}(e):void 0!==e.fieldFilter?function(e){return Vd.create(vm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return th()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return qd.create(e.compositeFilter.filters.map((e=>dm(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return th()}}(e.compositeFilter.op))}(e):th()}function fm(e){return qp[e]}function pm(e){return Hp[e]}function mm(e){return Wp[e]}function gm(e){return{fieldPath:e.canonicalString()}}function vm(e){return Sh.fromServerFormat(e.fieldPath)}function ym(e){return e instanceof Vd?function(e){if("=="===e.op){if(Id(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NAN"}};if(Nd(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Id(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NOT_NAN"}};if(Nd(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gm(e.field),op:pm(e.op),value:e.value}}}(e):e instanceof qd?function(e){const t=e.getFilters().map((e=>ym(e)));return 1===t.length?t[0]:{compositeFilter:{op:mm(e.op),filters:t}}}(e):th()}function wm(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function bm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class _m{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bh.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bh.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:od.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new _m(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _m(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _m(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _m(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xm{constructor(e){this.ct=e}}function Em(e){const t=hm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?wf(t,t.limit,"L"):t}class Sm{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(ud(e.integerValue));else if("doubleValue"in e){const n=ud(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Kh(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(hd(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Od(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):th()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),kh.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Sm.bt=new Sm;class km{constructor(){this._n=new Cm}addToCollectionParentIndex(e,t){return this._n.add(t),Rh.resolve()}getCollectionParents(e,t){return Rh.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Rh.resolve()}deleteFieldIndex(e,t){return Rh.resolve()}deleteAllFieldIndexes(e){return Rh.resolve()}createTargetIndexes(e,t){return Rh.resolve()}getDocumentsMatchingTarget(e,t){return Rh.resolve(null)}getIndexType(e,t){return Rh.resolve(0)}getFieldIndexes(e,t){return Rh.resolve([])}getNextCollectionGroupToUpdate(e){return Rh.resolve(null)}getMinOffset(e,t){return Rh.resolve(Ih.min())}getMinOffsetFromCollectionGroup(e,t){return Rh.resolve(Ih.min())}updateCollectionGroup(e,t,n){return Rh.resolve()}updateIndexEntries(e,t){return Rh.resolve()}}class Cm{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new rd(xh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new rd(xh.comparator)).toArray()}}new Uint8Array(0);class Tm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Tm(e,Tm.DEFAULT_COLLECTION_PERCENTILE,Tm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Tm.DEFAULT_COLLECTION_PERCENTILE=10,Tm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tm.DEFAULT=new Tm(41943040,Tm.DEFAULT_COLLECTION_PERCENTILE,Tm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tm.DISABLED=new Tm(-1,0,0);class Nm{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Nm(0)}static Bn(){return new Nm(-1)}}class Im{constructor(){this.changes=new Tf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Rh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Am{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&cp(n.mutation,e,sd.empty(),wh.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Uf()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uf();const r=Df();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Af();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Df();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Uf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=If();const s=Pf(),a=Pf();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof fp)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),cp(a.mutation,t,a.mutation.getFieldMask(),wh.now())):s.set(t.key,sd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new jm(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Pf();let r=new ed(((e,t)=>e-t)),i=Uf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||sd.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Uf()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Rf();l.forEach((e=>{if(!i.has(e)){const r=op(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Rh.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return kh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Rh.resolve(Df());let a=-1,o=i;return s.next((t=>Rh.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Rh.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Uf()))).next((e=>({batchId:a,changes:Of(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kh(t)).next((e=>{let t=Af();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Af();return this.indexManager.getCollectionParents(e,i).next((a=>Rh.forEach(a,(a=>{const o=function(e,t){return new uf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Pd.newInvalidDocument(r)))}));let n=Af();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&cp(s.mutation,r,sd.empty(),wh.now()),Ef(t,r)&&(n=n.insert(e,r))})),n}))}}class Om{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Rh.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:$p(e.createTime)}}(t)),Rh.resolve()}getNamedQuery(e,t){return Rh.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Em(e.bundledQuery),readTime:$p(e.readTime)}}(t)),Rh.resolve()}}class Dm{constructor(){this.overlays=new ed(kh.comparator),this.hr=new Map}getOverlay(e,t){return Rh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Df();return Rh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Rh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Rh.resolve()}getOverlaysForCollection(e,t,n){const r=Df(),i=t.length+1,s=new kh(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Rh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ed(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Df(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Df(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Rh.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new _p(t,n));let i=this.hr.get(t);void 0===i&&(i=Uf(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Rm{constructor(){this.Pr=new rd(Pm.Ir),this.Tr=new rd(Pm.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Pm(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Pm(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new kh(new xh([])),n=new Pm(t,e),r=new Pm(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new kh(new xh([])),n=new Pm(t,e),r=new Pm(t,e+1);let i=Uf();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Pm(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Pm{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return kh.comparator(e.key,t.key)||vh(e.pr,t.pr)}static Er(e,t){return vh(e.pr,t.pr)||kh.comparator(e.key,t.key)}}class Lm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new rd(Pm.Ir)}checkEmpty(e){return Rh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new wp(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new Pm(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Rh.resolve(s)}lookupMutationBatch(e,t){return Rh.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Rh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Rh.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Rh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Pm(t,0),r=new Pm(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Rh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new rd(vh);return t.forEach((e=>{const t=new Pm(e,0),r=new Pm(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Rh.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;kh.isDocumentKey(i)||(i=i.child(""));const s=new Pm(new kh(i),0);let a=new rd(vh);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),s),Rh.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){nh(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Rh.forEach(t.mutations,(r=>{const i=new Pm(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Pm(t,0),r=this.wr.firstAfterOrEqual(n);return Rh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Rh.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mm{constructor(e){this.vr=e,this.docs=new ed(kh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Rh.resolve(n?n.document.mutableCopy():Pd.newInvalidDocument(t))}getEntries(e,t){let n=If();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Pd.newInvalidDocument(e))})),Rh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=If();const s=t.path,a=new kh(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||jh(Nh(a),n)<=0||(r.has(a.key)||Ef(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Rh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){th()}Fr(e,t){return Rh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Um(this)}getSize(e){return Rh.resolve(this.size)}}class Um extends Im{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Rh.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Fm{constructor(e){this.persistence=e,this.Mr=new Tf((e=>of(e)),lf),this.lastRemoteSnapshotVersion=bh.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Rm,this.targetCount=0,this.Br=Nm.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Rh.resolve()}getLastRemoteSnapshotVersion(e){return Rh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rh.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Rh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Rh.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Nm(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Rh.resolve()}updateTargetData(e,t){return this.qn(t),Rh.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Rh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Rh.waitFor(i).next((()=>r))}getTargetCount(e){return Rh.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Rh.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Rh.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Rh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Rh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Rh.resolve(n)}containsKey(e,t){return Rh.resolve(this.Nr.containsKey(t))}}class Bm{constructor(e,t){this.Lr={},this.overlays={},this.kr=new Hh(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Fm(this),this.indexManager=new km,this.remoteDocumentCache=function(e){return new Mm(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new xm(t),this.$r=new Om(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Lm(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){$u("MemoryPersistence","Starting transaction:",e);const r=new zm(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Rh.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class zm extends Oh{constructor(e){super(),this.currentSequenceNumber=e}}class Vm{constructor(e){this.persistence=e,this.zr=new Rm,this.jr=null}static Hr(e){return new Vm(e)}get Jr(){if(this.jr)return this.jr;throw th()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Rh.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Rh.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Rh.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rh.forEach(this.Jr,(n=>{const r=kh.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,bh.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Rh.or([()=>Rh.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class qm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Uf(),r=Uf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new qm(e,t.fromCache,n,r)}}class Hm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Wm{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Qt()?8:Lh.v(Gt())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Hm;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Xu()<=fn.DEBUG&&$u("QueryEngine","SDK will not create cache indexes for query:",xf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Rh.resolve()):(Xu()<=fn.DEBUG&&$u("QueryEngine","Query:",xf(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Xu()<=fn.DEBUG&&$u("QueryEngine","The SDK decides to create cache indexes for query:",xf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gf(t))):Rh.resolve())}ji(e,t){if(ff(t))return Rh.resolve(null);let n=gf(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=wf(t,null,"F"),n=gf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Uf(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,wf(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return ff(t)||r.isEqual(bh.min())?Rh.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?Rh.resolve(null):(Xu()<=fn.DEBUG&&$u("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xf(t)),this.es(e,s,t,Th(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new rd(kf(e));return t.forEach(((t,r)=>{Ef(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Xu()<=fn.DEBUG&&$u("QueryEngine","Using full collection scan to execute query:",xf(t)),this.zi.getDocumentsMatchingQuery(e,t,Ih.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Km{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new ed(vh),this.rs=new Tf((e=>of(e)),lf),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Am(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Gm(e,t,n,r){return new Km(e,t,n,r)}async function Qm(e,t){const n=rh(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Uf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ym(e){const t=rh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Xm(e,t,n){let r=Uf(),i=Uf();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=If();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(bh.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):$u("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function $m(e,t){const n=rh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Jm(e,t){const n=rh(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Rh.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new _m(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Zm(e,t,n){const r=rh(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Fh(e))throw e;$u("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function eg(e,t,n){const r=rh(e);let i=bh.min(),s=Uf();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=rh(e),i=r.rs.get(n);return void 0!==i?Rh.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,gf(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:bh.min(),n?s:Uf()))).next((e=>(tg(r,Sf(t),e),{documents:e,hs:s})))))}function tg(e,t,n){let r=e.ss.get(t)||bh.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class ng{constructor(){this.activeTargetIds=Bf()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rg{constructor(){this.no=new ng,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ng,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ig{io(e){}shutdown(){}}class sg{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){$u("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){$u("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ag=null;function og(){return null===ag?ag=268435456+Math.round(2147483648*Math.random()):ag++,"0x"+ag.toString(16)}const lg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cg{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const ug="WebChannelConnection";class hg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=og(),a=this.bo(e,t.toUriEncodedString());$u("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,a,o,n).then((t=>($u("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Zu("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=lg[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=og();return new Promise(((s,a)=>{const o=new qu;o.setWithCredentials(!0),o.listenOnce(Fu.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Uu.NO_ERROR:const t=o.getResponseJson();$u(ug,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Uu.TIMEOUT:$u(ug,"RPC '".concat(e,"' ").concat(i," timed out")),a(new sh(ih.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const n=o.getStatus();if($u(ug,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ih).indexOf(t)>=0?t:ih.UNKNOWN}(t.status);a(new sh(e,t.message))}else a(new sh(ih.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new sh(ih.UNAVAILABLE,"Connection failed."));break;default:th()}}finally{$u(ug,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);$u(ug,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=og(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Lu(),a=Mu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");$u(ug,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new cg({lo:t=>{d?$u(ug,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||($u(ug,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),$u(ug,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Vu.EventType.OPEN,(()=>{d||$u(ug,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Vu.EventType.CLOSE,(()=>{d||(d=!0,$u(ug,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Vu.EventType.ERROR,(t=>{d||(d=!0,Zu(ug,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new sh(ih.UNAVAILABLE,"The operation could not be completed")))})),p(u,Vu.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];nh(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){$u(ug,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Ep[e];if(void 0!==t)return Cp(t)}(t),i=a.message;void 0===n&&(n=ih.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.Vo(new sh(n,i)),u.close()}else $u(ug,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(a,Bu.STAT_EVENT,(t=>{t.stat===zu.PROXY?$u(ug,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===zu.NOPROXY&&$u(ug,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function dg(){return"undefined"!=typeof document?document:null}function fg(e){return new Kp(e,!0)}class pg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&$u("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class mg{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new pg(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===ih.RESOURCE_EXHAUSTED?(Ju(t.toString()),Ju("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===ih.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new sh(ih.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return $u("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():($u("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gg extends mg{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:th()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(nh(void 0===t||"string"==typeof t),od.fromBase64String(t||"")):(nh(void 0===t||t instanceof Uint8Array),od.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?ih.UNKNOWN:Cp(e.code);return new sh(t,e.message||"")}(a);n=new Up(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=nm(e,r.document.name),s=$p(r.document.updateTime),a=r.document.createTime?$p(r.document.createTime):bh.min(),o=new Dd({mapValue:{fields:r.document.fields}}),l=Pd.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Lp(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=nm(e,r.document),s=r.readTime?$p(r.readTime):bh.min(),a=Pd.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Lp([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=nm(e,r.document),s=r.removedTargetIds||[];n=new Lp([],s,i,null)}else{if(!("filter"in t))return th();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new xp(r,i),a=e.targetId;n=new Mp(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return bh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?bh.min():t.readTime?$p(t.readTime):bh.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=sm(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=cf(r)?{documents:cm(e,r)}:{query:um(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Yp(e,t.resumeToken);const r=Gp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(bh.min())>0){n.readTime=Qp(e,t.snapshotVersion.toTimestamp());const r=Gp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return th()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=sm(this.serializer),t.removeTarget=e,this.t_(t)}}class vg extends mg{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(nh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(nh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?$p(e.updateTime):$p(t);return n.isEqual(bh.min())&&(n=$p(t)),new rp(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=$p(e.commitTime);return this.listener.T_(n,t)}return nh(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=sm(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>lm(this.serializer,e)))};this.t_(t)}}class yg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new sh(ih.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,Zp(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ih.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sh(ih.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.vo(e,Zp(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ih.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sh(ih.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class wg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Ju(t),this.g_=!1):$u("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class bg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Ig(this)&&($u("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=rh(e);t.v_.add(4),await xg(t),t.x_.set("Unknown"),t.v_.delete(4),await _g(t)}(this))}))})),this.x_=new wg(n,r)}}async function _g(e){if(Ig(e))for(const t of e.F_)await t(!0)}async function xg(e){for(const t of e.F_)await t(!1)}function Eg(e,t){const n=rh(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Ng(n)?Tg(n):Gg(n).Jo()&&kg(n,t))}function Sg(e,t){const n=rh(e),r=Gg(n);n.C_.delete(t),r.Jo()&&Cg(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Ig(n)&&n.x_.set("Unknown"))}function kg(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Gg(e).c_(t)}function Cg(e,t){e.O_.Oe(t),Gg(e).l_(t)}function Tg(e){e.O_=new Bp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Gg(e).start(),e.x_.p_()}function Ng(e){return Ig(e)&&!Gg(e).Ho()&&e.C_.size>0}function Ig(e){return 0===rh(e).v_.size}function jg(e){e.O_=void 0}async function Ag(e){e.C_.forEach(((t,n)=>{kg(e,t)}))}async function Og(e,t){jg(e),Ng(e)?(e.x_.S_(t),Tg(e)):e.x_.set("Unknown")}async function Dg(e,t,n){if(e.x_.set("Online"),t instanceof Up&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){$u("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Rg(e,n)}else if(t instanceof Lp?e.O_.$e(t):t instanceof Mp?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(bh.min()))try{const t=await Ym(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(od.EMPTY_BYTE_STRING,r.snapshotVersion)),Cg(e,t);const i=new _m(r.target,t,n,r.sequenceNumber);kg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){$u("RemoteStore","Failed to raise snapshot:",t),await Rg(e,t)}}async function Rg(e,t,n){if(!Fh(t))throw t;e.v_.add(1),await xg(e),e.x_.set("Offline"),n||(n=()=>Ym(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{$u("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await _g(e)}))}function Pg(e,t){return t().catch((n=>Rg(e,n,t)))}async function Lg(e){const t=rh(e),n=Qg(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Mg(t);)try{const e=await $m(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Ug(t,e)}catch(e){await Rg(t,e)}Fg(t)&&Bg(t)}function Mg(e){return Ig(e)&&e.D_.length<10}function Ug(e,t){e.D_.push(t);const n=Qg(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Fg(e){return Ig(e)&&!Qg(e).Ho()&&e.D_.length>0}function Bg(e){Qg(e).start()}async function zg(e){Qg(e).d_()}async function Vg(e){const t=Qg(e);for(const n of e.D_)t.I_(n.mutations)}async function qg(e,t,n){const r=e.D_.shift(),i=bp.from(r,t,n);await Pg(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Lg(e)}async function Hg(e,t){t&&Qg(e).P_&&await async function(e,t){if(function(e){return kp(e)&&e!==ih.ABORTED}(t.code)){const n=e.D_.shift();Qg(e).Zo(),await Pg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Lg(e)}}(e,t),Fg(e)&&Bg(e)}async function Wg(e,t){const n=rh(e);n.asyncQueue.verifyOperationInProgress(),$u("RemoteStore","RemoteStore received new credentials");const r=Ig(n);n.v_.add(3),await xg(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await _g(n)}async function Kg(e,t){const n=rh(e);t?(n.v_.delete(2),await _g(n)):t||(n.v_.add(2),await xg(n),n.x_.set("Unknown"))}function Gg(e){return e.N_||(e.N_=function(e,t,n){const r=rh(e);return r.R_(),new gg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Ag.bind(null,e),To:Og.bind(null,e),u_:Dg.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),Ng(e)?Tg(e):e.x_.set("Unknown")):(await e.N_.stop(),jg(e))}))),e.N_}function Qg(e){return e.B_||(e.B_=function(e,t,n){const r=rh(e);return r.R_(),new vg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:zg.bind(null,e),To:Hg.bind(null,e),E_:Vg.bind(null,e),T_:qg.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Lg(e)):(await e.B_.stop(),e.D_.length>0&&($u("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class Yg{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ah,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Yg(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sh(ih.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(e,t){if(Ju("AsyncQueue","".concat(t,": ").concat(e)),Fh(e))return new sh(ih.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class $g{constructor(e){this.comparator=e?(t,n)=>e(t,n)||kh.comparator(t.key,n.key):(e,t)=>kh.comparator(e.key,t.key),this.keyedMap=Af(),this.sortedSet=new ed(this.comparator)}static emptySet(e){return new $g(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $g))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new $g;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Jg{constructor(){this.L_=new ed(kh.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):th():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Zg{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Zg(e,t,$g.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ev{constructor(){this.q_=void 0,this.Q_=[]}}class tv{constructor(){this.queries=new Tf((e=>_f(e)),bf),this.onlineState="Unknown",this.K_=new Set}}async function nv(e,t){const n=rh(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ev),i)try{s.q_=await n.onListen(r)}catch(e){const n=Xg(e,"Initialization of query '".concat(xf(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&av(n)}async function rv(e,t){const n=rh(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function iv(e,t){const n=rh(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&av(n)}function sv(e,t,n){const r=rh(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function av(e){e.K_.forEach((e=>{e.next()}))}class ov{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Zg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=Zg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class lv{constructor(e){this.key=e}}class cv{constructor(e){this.key=e}}class uv{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Uf(),this.mutatedKeys=Uf(),this.ua=kf(e),this.ca=new $g(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new Jg,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ef(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ua(u,o)>0||l&&this.ua(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:a,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return th()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const a=t&&!r?this.Ea():[],o=0===this.aa.size&&this.current&&!r?1:0,l=o!==this._a;return this._a=o,0!==s.length||l?{snapshot:new Zg(this.query,e.ca,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Jg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Uf(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new cv(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new lv(n))})),t}Ra(e){this.oa=e.hs,this.aa=Uf();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Zg.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class hv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class dv{constructor(e){this.key=e,this.ma=!1}}class fv{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Tf((e=>_f(e)),bf),this.pa=new Map,this.ya=new Set,this.wa=new ed(kh.comparator),this.Sa=new Map,this.ba=new Rm,this.Da={},this.Ca=new Map,this.va=Nm.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function pv(e,t){const n=Ov(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await Jm(n.localStore,gf(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await mv(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Eg(n.remoteStore,e)}return i}async function mv(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await eg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Cv(e,t.targetId,o.da),o.snapshot}(e,t,n,r);const s=await eg(e.localStore,t,!0),a=new uv(t,s.hs),o=a.ha(s.documents),l=Pp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Cv(e,n,c.da);const u=new hv(t,n,a);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function gv(e,t){const n=rh(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!bf(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zm(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Sg(n.remoteStore,r.targetId),Sv(n,r.targetId)})).catch(Dh)):(Sv(n,r.targetId),await Zm(n.localStore,r.targetId,!0))}async function vv(e,t){const n=rh(e);try{const e=await function(e,t){const n=rh(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(od.EMPTY_BYTE_STRING,bh.min()).withLastLimboFreeSnapshotVersion(bh.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Qr.updateTargetData(e,c))}));let o=If(),l=Uf();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Xm(e,s,t.documentUpdates).next((e=>{o=e.cs,l=e.ls}))),!r.isEqual(bh.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Rh.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(nh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?nh(r.ma):e.removedDocuments.size>0&&(nh(r.ma),r.ma=!1))})),await Iv(n,e,t)}catch(e){await Dh(e)}}function yv(e,t,n){const r=rh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=rh(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&av(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wv(e,t,n){const r=rh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new ed(kh.comparator);e=e.insert(s,Pd.newNoDocument(s,bh.min()));const n=Uf().add(s),i=new Rp(bh.min(),new Map,new ed(vh),e,n);await vv(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),Nv(r)}else await Zm(r.localStore,t,!1).then((()=>Sv(r,t,n))).catch(Dh)}async function bv(e,t){const n=rh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=rh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Rh.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);nh(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Uf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ev(n,r,null),xv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Iv(n,e)}catch(e){await Dh(e)}}async function _v(e,t,n){const r=rh(e);try{const e=await function(e,t){const n=rh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(nh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ev(r,t,n),xv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Iv(r,e)}catch(n){await Dh(n)}}function xv(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function Ev(e,t,n){const r=rh(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Sv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||kv(e,t)}))}function kv(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(Sg(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Nv(e))}function Cv(e,t,n){for(const r of n)r instanceof lv?(e.ba.addReference(r.key,t),Tv(e,r)):r instanceof cv?($u("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||kv(e,r.key)):th()}function Tv(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||($u("SyncEngine","New document in limbo: "+n),e.ya.add(r),Nv(e))}function Nv(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new kh(xh.fromString(t)),r=e.va.next();e.Sa.set(r,new dv(n)),e.wa=e.wa.insert(n,r),Eg(e.remoteStore,new _m(gf(df(n.path)),r,"TargetPurposeLimboResolution",Hh._e))}}async function Iv(e,t,n){const r=rh(e),i=[],s=[],a=[];r.ga.isEmpty()||(r.ga.forEach(((e,o)=>{a.push(r.Ma(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=qm.Ki(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.fa.u_(i),await async function(e,t){const n=rh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Rh.forEach(t,(t=>Rh.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Rh.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Fh(e))throw e;$u("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function jv(e,t){const n=rh(e);if(!n.currentUser.isEqual(t)){$u("SyncEngine","User change. New user:",t.toKey());const e=await Qm(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new sh(ih.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Iv(n,e.us)}}function Av(e,t){const n=rh(e),r=n.Sa.get(t);if(r&&r.ma)return Uf().add(r.key);{let e=Uf();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}function Ov(e){const t=rh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Av.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wv.bind(null,t),t.fa.u_=iv.bind(null,t.eventManager),t.fa.xa=sv.bind(null,t.eventManager),t}function Dv(e){const t=rh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_v.bind(null,t),t}class Rv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Gm(this.persistence,new Wm,e.initialUser,this.serializer)}createPersistence(e){return new Bm(Vm.Hr,this.serializer)}createSharedClientState(e){return new rg}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Pv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=jv.bind(null,this.syncEngine),await Kg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tv}createDatastore(e){const t=fg(e.databaseInfo.databaseId),n=function(e){return new hg(e)}(e.databaseInfo);return function(e,t,n,r){return new yg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new bg(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>yv(this.syncEngine,e,0)),sg.D()?new sg:new ig)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new fv(e,t,n,r,i,s);return a&&(o.Fa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=rh(e);$u("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await xg(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Lv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ju("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Mv{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Gu.UNAUTHENTICATED,this.clientId=gh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{$u("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>($u("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sh(ih.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ah;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Xg(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Uv(e,t){e.asyncQueue.verifyOperationInProgress(),$u("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Qm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Fv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zv(e);$u("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Wg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Wg(t.remoteStore,n))),e._onlineComponents=t}function Bv(e){return"FirebaseError"===e.name?e.code===ih.FAILED_PRECONDITION||e.code===ih.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function zv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){$u("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Bv(n))throw n;Zu("Error using user provided cache. Falling back to memory cache: "+n),await Uv(e,new Rv)}}else $u("FirestoreClient","Using default OfflineComponentProvider"),await Uv(e,new Rv);return e._offlineComponents}async function Vv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?($u("FirestoreClient","Using user provided OnlineComponentProvider"),await Fv(e,e._uninitializedComponentsProvider._online)):($u("FirestoreClient","Using default OnlineComponentProvider"),await Fv(e,new Pv))),e._onlineComponents}function qv(e){return Vv(e).then((e=>e.syncEngine))}async function Hv(e){const t=await Vv(e),n=t.eventManager;return n.onListen=pv.bind(null,t.syncEngine),n.onUnlisten=gv.bind(null,t.syncEngine),n}function Wv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ah;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Lv({next:s=>{t.enqueueAndForget((()=>rv(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new sh(ih.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new sh(ih.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new ov(df(n.path),s,{includeMetadataChanges:!0,Z_:!0});return nv(e,a)}(await Hv(e),e.asyncQueue,t,n,r))),r.promise}function Kv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ah;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Lv({next:n=>{t.enqueueAndForget((()=>rv(e,a))),n.fromCache&&"server"===r.source?i.reject(new sh(ih.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new ov(n,s,{includeMetadataChanges:!0,Z_:!0});return nv(e,a)}(await Hv(e),e.asyncQueue,t,n,r))),r.promise}function Gv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Qv=new Map;function Yv(e,t,n){if(!n)throw new sh(ih.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xv(e){if(!kh.isDocumentKey(e))throw new sh(ih.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function $v(e){if(kh.isDocumentKey(e))throw new sh(ih.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":th()}function Zv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sh(ih.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jv(e);throw new sh(ih.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class ey{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new sh(ih.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sh(ih.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new sh(ih.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sh(ih.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new sh(ih.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new sh(ih.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ty{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ey({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sh(ih.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sh(ih.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ey(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new lh;switch(e.type){case"firstParty":return new dh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sh(ih.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qv.get(e);t&&($u("ComponentProvider","Removing Datastore"),Qv.delete(e),t.terminate())}(this),Promise.resolve()}}class ny{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ny(this.firestore,e,this._query)}}class ry{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ry(this.firestore,e,this._key)}}class iy extends ny{constructor(e,t,n){super(e,t,df(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ry(this.firestore,null,new kh(e))}withConverter(e){return new iy(this.firestore,e,this._path)}}function sy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=on(e),Yv("collection","path",t),e instanceof ty){const n=xh.fromString(t,...r);return $v(n),new iy(e,null,n)}{if(!(e instanceof ry||e instanceof iy))throw new sh(ih.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(xh.fromString(t,...r));return $v(n),new iy(e.firestore,null,n)}}function ay(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=on(e),1===arguments.length&&(t=gh.newId()),Yv("doc","path",t),e instanceof ty){const n=xh.fromString(t,...r);return Xv(n),new ry(e,null,new kh(n))}{if(!(e instanceof ry||e instanceof iy))throw new sh(ih.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(xh.fromString(t,...r));return Xv(n),new ry(e.firestore,e instanceof iy?e.converter:null,new kh(n))}}class oy{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new pg(this,"async_queue_retry"),this._u=()=>{const e=dg();e&&$u("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=dg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=dg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new ah;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(NC){if(!Fh(NC))throw NC;$u("AsyncQueue","Operation failed with retryable error: "+NC)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ju("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=Yg.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&th()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function ly(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class cy extends ty{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new oy,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hy(this),this._firestoreClient.terminate()}}function uy(e){return e._firestoreClient||hy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hy(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new md(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Gv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Mv(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class dy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dy(od.fromBase64String(e))}catch(e){throw new sh(ih.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new dy(od.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fy{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new sh(ih.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class py{constructor(e){this._methodName=e}}class my{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sh(ih.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sh(ih.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vh(this._lat,e._lat)||vh(this._long,e._long)}}const gy=/^__.*__$/;class vy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new fp(e,this.data,this.fieldMask,t,this.fieldTransforms):new dp(e,this.data,t,this.fieldTransforms)}}class yy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new fp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw th()}}class by{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new by(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Uy(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(wy(this.du)&&gy.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class _y{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||fg(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new by({du:e,methodName:t,wu:n,path:Sh.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xy(e){const t=e._freezeSettings(),n=fg(e._databaseId);return new _y(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ey(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Su(s.merge||s.mergeFields?2:0,t,n,i);Ry("Data must be an object, but it was:",a,r);const o=Oy(r,a);let l,c;if(s.merge)l=new sd(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Py(t,r,n);if(!a.contains(i))throw new sh(ih.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Fy(e,i)||e.push(i)}l=new sd(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new vy(new Dd(o),l,c)}class Sy extends py{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sy}}function ky(e,t,n){return new by({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Cy extends py{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=ky(this,e,!0),n=this.bu.map((e=>Ay(e,t))),r=new Yf(n);return new np(e.path,r)}isEqual(e){return e instanceof Cy&&Zt(this.bu,e.bu)}}class Ty extends py{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=ky(this,e,!0),n=this.bu.map((e=>Ay(e,t))),r=new $f(n);return new np(e.path,r)}isEqual(e){return e instanceof Ty&&Zt(this.bu,e.bu)}}function Ny(e,t,n,r){const i=e.Su(1,t,n);Ry("Data must be an object, but it was:",i,r);const s=[],a=Dd.empty();Jh(r,((e,r)=>{const o=My(t,e,n);r=on(r);const l=i.fu(o);if(r instanceof Sy)s.push(o);else{const e=Ay(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new sd(s);return new yy(a,o,i.fieldTransforms)}function Iy(e,t,n,r,i,s){const a=e.Su(1,t,n),o=[Py(t,r,n)],l=[i];if(s.length%2!=0)throw new sh(ih.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(Py(t,s[d])),l.push(s[d+1]);const c=[],u=Dd.empty();for(let d=o.length-1;d>=0;--d)if(!Fy(c,o[d])){const e=o[d];let t=l[d];t=on(t);const n=a.fu(e);if(t instanceof Sy)c.push(e);else{const r=Ay(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new sd(c);return new yy(u,h,a.fieldTransforms)}function jy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ay(n,e.Su(r?4:3,t))}function Ay(e,t){if(Dy(e=on(e)))return Ry("Unsupported field value:",t,e),Oy(e,t);if(e instanceof py)return function(e,t){if(!wy(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ay(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=on(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=wh.fromDate(e);return{timestampValue:Qp(t.serializer,n)}}if(e instanceof wh){const n=new wh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qp(t.serializer,n)}}if(e instanceof my)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dy)return{bytesValue:Yp(t.serializer,e._byteString)};if(e instanceof ry){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Jp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(Jv(e)))}(e,t)}function Oy(e,t){const n={};return Zh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Jh(e,((e,r)=>{const i=Ay(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Dy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wh||e instanceof my||e instanceof dy||e instanceof ry||e instanceof py)}function Ry(e,t,n){if(!Dy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Jv(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Py(e,t,n){if((t=on(t))instanceof fy)return t._internalPath;if("string"==typeof t)return My(e,t);throw Uy("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ly=new RegExp("[~\\*/\\[\\]]");function My(e,t,n){if(t.search(Ly)>=0)throw Uy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new fy(...t.split("."))._internalPath}catch(Fa){throw Uy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Uy(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new sh(ih.INVALID_ARGUMENT,o+e+l)}function Fy(e,t){return e.some((e=>e.isEqual(t)))}class By{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ry(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zy extends By{data(){return super.data()}}function Vy(e,t){return"string"==typeof t?My(e,t):t instanceof fy?t._internalPath:t._delegate._internalPath}function qy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sh(ih.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hy{}class Wy extends Hy{}function Ky(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Hy&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Yy)).length,n=e.filter((e=>e instanceof Gy)).length;if(t>1||t>0&&n>0)throw new sh(ih.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Gy extends Wy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Gy(e,t,n)}_apply(e){const t=this._parse(e);return Jy(e._query,t),new ny(e.firestore,e.converter,yf(e._query,t))}_parse(e){const t=xy(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new sh(ih.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){$y(a,s);const t=[];for(const n of a)t.push(Xy(r,e,n));o={arrayValue:{values:t}}}else o=Xy(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||$y(a,s),o=jy(n,t,a,"in"===s||"not-in"===s);return Vd.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Qy(e,t,n){const r=t,i=Vy("where",e);return Gy._create(i,r,n)}class Yy extends Hy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yy(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:qd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Jy(n,i),n=yf(n,i)}(e._query,t),new ny(e.firestore,e.converter,yf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Xy(e,t,n){if("string"==typeof(n=on(n))){if(""===n)throw new sh(ih.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pf(t)&&-1!==n.indexOf("/"))throw new sh(ih.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(xh.fromString(n));if(!kh.isDocumentKey(r))throw new sh(ih.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return kd(e,new kh(r))}if(n instanceof ry)return kd(e,n._key);throw new sh(ih.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Jv(n),"."))}function $y(e,t){if(!Array.isArray(e)||0===e.length)throw new sh(ih.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Jy(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new sh(ih.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new sh(ih.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Zy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(yd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ud(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw th()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Jh(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new my(ud(e.latitude),ud(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=fd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){const t=cd(e);return new wh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=xh.fromString(e);nh(bm(n));const r=new gd(n.get(1),n.get(3)),i=new kh(n.popFirst(5));return r.isEqual(t)||Ju("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function ew(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class tw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nw extends By{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new rw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Vy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class rw extends nw{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class iw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new tw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new rw(this._firestore,this._userDataWriter,n.key,n,new tw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sh(ih.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new rw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new tw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new rw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:sw(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function sw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return th()}}function aw(e){e=Zv(e,ry);const t=Zv(e.firestore,cy);return Wv(uy(t),e._key).then((n=>mw(t,e,n)))}class ow extends Zy{constructor(e){super(),this.firestore=e}convertBytes(e){return new dy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ry(this.firestore,null,t)}}function lw(e){e=Zv(e,ny);const t=Zv(e.firestore,cy),n=uy(t),r=new ow(t);return qy(e._query),Kv(n,e._query).then((n=>new iw(t,r,e,n)))}function cw(e,t,n){e=Zv(e,ry);const r=Zv(e.firestore,cy),i=ew(e.converter,t,n);return pw(r,[Ey(xy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ip.none())])}function uw(e,t,n){e=Zv(e,ry);const r=Zv(e.firestore,cy),i=xy(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=on(t))||t instanceof fy?Iy(i,"updateDoc",e._key,t,n,o):Ny(i,"updateDoc",e._key,t),pw(r,[s.toMutation(e._key,ip.exists(!0))])}function hw(e){return pw(Zv(e.firestore,cy),[new vp(e._key,ip.none())])}function dw(e,t){const n=Zv(e.firestore,cy),r=ay(e),i=ew(e.converter,t);return pw(n,[Ey(xy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ip.exists(!1))]).then((()=>r))}function fw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=on(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||ly(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(ly(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof ry)h=Zv(e.firestore,cy),d=df(e._key.path),u={next:t=>{n[l]&&n[l](mw(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Zv(e,ny);h=Zv(t.firestore,cy),d=t._query;const r=new ow(h);u={next:e=>{n[l]&&n[l](new iw(h,r,t,e))},error:n[l+1],complete:n[l+2]},qy(e._query)}return function(e,t,n,r){const i=new Lv(r),s=new ov(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>nv(await Hv(e),s))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>rv(await Hv(e),s)))}}(uy(h),d,c,u)}function pw(e,t){return function(e,t){const n=new ah;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Dv(e);try{const e=await function(e,t){const n=rh(e),r=wh.now(),i=t.reduce(((e,t)=>e.add(t.key)),Uf());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=If(),l=Uf();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=up(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new fp(e.key,t,Rd(t.value.mapValue),ip.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Of(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new ed(vh)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await Iv(r,e.changes),await Lg(r.remoteStore)}catch(e){const t=Xg(e,"Failed to persist write");n.reject(t)}}(await qv(e),t,n))),n.promise}(uy(e),t)}function mw(e,t,n){const r=n.docs.get(t._key),i=new ow(e);return new nw(e,i,t._key,r,new tw(n.hasPendingWrites,n.fromCache),t.converter)}function gw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cy("arrayUnion",t)}function vw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ty("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Qu=e}(Yn),Wn(new ln("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new cy(new uh(e.getProvider("auth-internal")),new ph(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sh(ih.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Jn(Ku,"4.4.2",e),Jn(Ku,"4.4.2","esm2017")}();const yw="firebasestorage.googleapis.com",ww="storageBucket";class bw extends Xt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Ew(e),"Firebase Storage: ".concat(t," (").concat(Ew(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bw.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ew(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var _w,xw;function Ew(e){return"storage/"+e}function Sw(){return new bw(_w.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function kw(){return new bw(_w.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cw(){return new bw(_w.CANCELED,"User canceled the upload/download.")}function Tw(){return new bw(_w.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Nw(e){return new bw(_w.INVALID_ARGUMENT,e)}function Iw(){return new bw(_w.APP_DELETED,"The Firebase app was deleted.")}function jw(e,t){return new bw(_w.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Aw(e){throw new bw(_w.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(_w||(_w={}));class Ow{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ow.makeFromUrl(e,t)}catch(NC){return new Ow(e,"")}if(""===n.path)return n;throw r=e,new bw(_w.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===yw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Ow(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new bw(_w.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Dw{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Rw(e){return"string"===typeof e||e instanceof String}function Pw(e){return Lw()&&e instanceof Blob}function Lw(){return"undefined"!==typeof Blob}function Mw(e,t,n,r){if(r<t)throw Nw("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Nw("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Uw(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Fw(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Bw(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(xw||(xw={}));class zw{constructor(e,t,n,r,i,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Vw(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===xw.NO_ERROR,i=n.getStatus();if(!t||Bw(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===xw.ABORT;return void e(!1,new Vw(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Vw(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(NC){r(NC)}else if(null!==i){const e=Sw();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Iw():Cw())}else{r(kw())}};this.canceled_?t(0,new Vw(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Vw{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function qw(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Hw(){const e=qw();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Lw())return new Blob(n);throw new bw(_w.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Ww(e){if("undefined"===typeof atob)throw t="base-64",new bw(_w.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Kw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gw{constructor(e,t){this.data=e,this.contentType=t||null}}function Qw(e,t){switch(e){case Kw.RAW:return new Gw(Yw(t));case Kw.BASE64:case Kw.BASE64URL:return new Gw(Xw(e,t));case Kw.DATA_URL:return new Gw(function(e){const t=new $w(e);return t.base64?Xw(Kw.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(NC){throw jw(Kw.DATA_URL,"Malformed data URL.")}return Yw(t)}(t.rest)}(t),new $w(t).contentType)}throw Sw()}function Yw(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Xw(e,t){switch(e){case Kw.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw jw(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Kw.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw jw(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ww(t)}catch(NC){if(NC.message.includes("polyfill"))throw NC;throw jw(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $w{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw jw(Kw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Jw{constructor(e,t){let n=0,r="";Pw(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Pw(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Jw(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Jw(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Lw()){const e=t.map((e=>e instanceof Jw?e.data_:e));return new Jw(Hw.apply(null,e))}{const e=t.map((e=>Rw(e)?Qw(Kw.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Jw(r,!0)}}uploadData(){return this.data_}}function Zw(e){let t;try{t=JSON.parse(e)}catch(NC){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function eb(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function tb(e,t){return t}class nb{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||tb}}let rb=null;function ib(){if(rb)return rb;const e=[];e.push(new nb("bucket")),e.push(new nb("generation")),e.push(new nb("metageneration")),e.push(new nb("name","fullPath",!0));const t=new nb("name");t.xform=function(e,t){return function(e){return!Rw(e)||e.length<2?e:eb(e)}(t)},e.push(t);const n=new nb("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new nb("timeCreated")),e.push(new nb("updated")),e.push(new nb("md5Hash",null,!0)),e.push(new nb("cacheControl",null,!0)),e.push(new nb("contentDisposition",null,!0)),e.push(new nb("contentEncoding",null,!0)),e.push(new nb("contentLanguage",null,!0)),e.push(new nb("contentType",null,!0)),e.push(new nb("metadata","customMetadata",!0)),rb=e,rb}function sb(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Ow(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ab(e,t,n){const r=Zw(t);if(null===r)return null;return sb(e,r,n)}function ob(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class lb{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cb(e){if(!e)throw Sw()}function ub(e,t){return function(n,r){const i=ab(e,r,t);return cb(null!==i),i}}function hb(e,t){return function(n,r){const i=ab(e,r,t);return cb(null!==i),function(e,t,n,r){const i=Zw(t);if(null===i)return null;if(!Rw(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return Uw("/b/"+a(i)+"/o/"+a(s),n,r)+Fw({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function db(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new bw(_w.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new bw(_w.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new bw(_w.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new bw(_w.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function fb(e){const t=db(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new bw(_w.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function pb(e,t,n){const r=Uw(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new lb(r,"GET",ub(e,n),i);return s.errorHandler=fb(t),s}function mb(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function gb(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=mb(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ob(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=Jw.getBlob(c,r,u);if(null===h)throw Tw();const d={name:l.fullPath},f=Uw(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new lb(f,"POST",ub(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=db(t),m}class vb{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function yb(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(NC){cb(!1)}return cb(!!n&&-1!==(t||["active"]).indexOf(n)),n}const wb=262144;function bb(e,t,n,r,i,s,a,o){const l=new vb(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new bw(_w.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(h,d);if(null===m)throw Tw();const g=t.maxUploadRetryTime,v=new lb(n,"POST",(function(e,n){const i=yb(e,["active","final"]),a=l.current+u,o=r.size();let c;return c="final"===i?ub(t,s)(e,n):null,new vb(a,o,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=o||null,v.errorHandler=db(e),v}const _b="running",xb="paused",Eb="success",Sb="canceled",kb="error";function Cb(e){switch(e){case"running":case"pausing":case"canceling":return _b;case"paused":return xb;case"success":return Eb;case"canceled":return Sb;default:return kb}}class Tb{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Nb(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let Ib=null;class jb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xw.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=xw.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=xw.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Aw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Aw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Aw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(NC){return-1}}getResponse(){if(!this.sent_)throw Aw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Aw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ab extends jb{initXhr(){this.xhr_.responseType="text"}}function Ob(){return Ib?Ib():new Ab}class Db{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=ib(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(_w.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(Bw(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=kw()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(_w.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a=mb(t,r,i),o={name:a.fullPath},l=Uw(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=ob(a,n),h=e.maxUploadRetryTime,d=new lb(l,"POST",(function(e){let t;yb(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(NC){cb(!1)}return cb(Rw(t)),t}),h);return d.urlParams=o,d.headers=c,d.body=u,d.errorHandler=db(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Ob,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new lb(n,"POST",(function(e){const t=yb(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(NC){cb(!1)}n||cb(!1);const i=Number(n);return cb(!isNaN(i)),new vb(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=db(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,Ob,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=wb*this._chunkMultiplier,t=new vb(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=bb(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(NC){return this._error=NC,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Ob,r,i,!1);this._request=a,a.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(wb*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=pb(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,Ob,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=gb(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Ob,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Cw(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Cb(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new Tb(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Cb(this._state)){case Eb:Nb(this._resolve.bind(null,this.snapshot))();break;case Sb:case kb:Nb(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Cb(this._state)){case _b:case xb:e.next&&Nb(e.next.bind(e,this.snapshot))();break;case Eb:e.complete&&Nb(e.complete.bind(e))();break;default:e.error&&Nb(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Rb{constructor(e,t){this._service=e,this._location=t instanceof Ow?t:Ow.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Rb(e,t)}get root(){const e=new Ow(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eb(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Ow(this._location.bucket,e);return new Rb(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new bw(_w.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Pb(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Uw(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new lb(r,"GET",hb(e,n),i);return s.errorHandler=fb(t),s}(e.storage,e._location,ib());return e.storage.makeRequestWithTokens(t,Ob).then((e=>{if(null===e)throw new bw(_w.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Lb(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Ow(e._location.bucket,n);return new Rb(e.storage,r)}function Mb(e,t){if(e instanceof Bb){const n=e;if(null==n._bucket)throw new bw(_w.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ww+"' property when initializing the app?");const r=new Rb(n,n._bucket);return null!=t?Mb(r,t):r}return void 0!==t?Lb(e,t):e}function Ub(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Bb)return new Rb(e,t);throw Nw("To use ref(service, url), the first argument must be a Storage instance.")}return Mb(e,t)}function Fb(e,t){const n=null===t||void 0===t?void 0:t[ww];return null==n?null:Ow.makeFromBucketSpec(n,e)}class Bb{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=yw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ow.makeFromBucketSpec(r,this._host):Fb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Ow.makeFromBucketSpec(this._url,e):this._bucket=Fb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Mw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Mw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rb(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Dw(Iw());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Fw(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new zw(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const zb="@firebase/storage",Vb="0.12.1",qb="storage";function Hb(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Db(e,new Jw(t),n)}(e=on(e),t,n)}function Wb(e){return Pb(e=on(e))}function Kb(e,t){return Ub(e=on(e),t)}function Gb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n(),t=arguments.length>1?arguments[1]:void 0;e=on(e);const n=Kn(e,qb).getImmediate({identifier:t}),r=Vt("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Kt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function Qb(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Bb(r,i,s,n,Yn)}Wn(new ln(qb,Qb,"PUBLIC").setMultipleInstances(!0)),Jn(zb,Vb,""),Jn(zb,Vb,"esm2017");const Yb={apiKey:"AIzaSyAKyrvvBilo6fD0YfwL0hCLP_cPPD9BHM4",authDomain:"fyp2-app-525c3.firebaseapp.com",projectId:"fyp2-app-525c3",storageBucket:"fyp2-app-525c3.appspot.com",messagingSenderId:"576650069717",appId:"1:576650069717:web:27a5149aeb583fc980445c"},Xb=Xn(Yb),$b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();const t=Kn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Kn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Zt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;vr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:wa,persistence:[Ns,hs,fs]}),r=Ht("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ea)return;const r=null===t||void 0===t?void 0:t.token;Sa!==r&&(Sa=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){on(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){on(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=zt("auth");return s&&Ii(n,"http://".concat(s)),n}(Xb),Jb=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Kn("object"==typeof e?e:$n(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Vt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Zv(e,ty))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Gu.MOCK_USER;else{t=Kt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new sh(ih.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Gu(s)}e._authCredentials=new ch(new oh(t,n))}}(r,...e)}return r}(Xb),Zb=Gb(Xb);var e_=n(9210);const t_=e=>({type:bt,payload:e}),n_="7B1FkD%z!p@Qw&9Rt*5u^yG-mJhL!s",r_=e=>e_.AES.encrypt(JSON.stringify(e),n_).toString(),i_=e=>{if(e)try{const t=e_.AES.decrypt(e,n_);return JSON.parse(t.toString(e_.enc.Utf8))}catch(t){return console.error("Error decrypting data:",t),localStorage.removeItem("user"),null}return null},s_=(e,t)=>async function(n){n({type:yt});try{const{user:r}=await function(e,t,n){return is(on(e),qi.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&as(e),t}))}($b,e,t),i=ay(Jb,"staff",r.uid),s=ay(Jb,"teacher",r.uid),a=ay(Jb,"student",r.uid),o=await aw(i),l=await aw(s),c=await aw(a);o.exists()||l.exists()||c.exists()?(localStorage.setItem("user",r_(r)),n((e=>({type:wt,payload:e}))(r))):(n(a_()),n(t_("User does not have access to log in.")))}catch(r){n(t_(r.message))}},a_=()=>async function(e){e({type:_t});try{localStorage.removeItem("user"),localStorage.removeItem("newUser"),await function(e){return on(e).signOut()}($b),e({type:xt})}catch(t){e((e=>({type:Et,payload:e}))(t.message))}},o_=()=>{const e=i_(localStorage.getItem("user"));return{type:St,payload:e}},l_=(e,t,n)=>async function(r){r({type:kt});try{const{user:i}=await os($b,e,n),s=ay(Jb,"staff",i.uid),a="https://firebasestorage.googleapis.com/v0/b/fyp2-app-525c3.appspot.com/o/staff%2Fprofile.png?alt=media&token=5f5a57a4-2205-4d2f-9a21-c9e9b3038deb";await cw(s,{email:e,name:t,image:a}),localStorage.setItem("newUser",r_(i)),r({type:Ct}),console.log("New staff member added successfully!")}catch(i){r((e=>({type:Tt,payload:e}))(i.message)),console.error("Error adding new staff member:",i)}},c_=(e,t,n)=>async function(r){r({type:kt});try{const{user:i}=await os($b,e,n),s=ay(Jb,"student",i.uid),a="https://firebasestorage.googleapis.com/v0/b/fyp2-app-525c3.appspot.com/o/staff%2Fprofile.png?alt=media&token=5f5a57a4-2205-4d2f-9a21-c9e9b3038deb";await cw(s,{email:e,name:t,image:a}),localStorage.setItem("newUser",r_(i)),r({type:Ct}),console.log("New staff member added successfully!")}catch(i){r((e=>({type:Tt,payload:e}))(i.message)),console.error("Error adding new staff member:",i)}},u_=(e,t,n,r,i)=>async function(s){s({type:Nt});try{const{user:a}=await os($b,e,i),o=ay(Jb,"teacher",a.uid),l="https://firebasestorage.googleapis.com/v0/b/fyp2-app-525c3.appspot.com/o/staff%2Fprofile.png?alt=media&token=5f5a57a4-2205-4d2f-9a21-c9e9b3038deb";await cw(o,{email:e,name:t,scientifictitle:n,department:r,image:l}),localStorage.setItem("newUser",r_(a)),s({type:It}),console.log("New staff member added successfully!")}catch(a){s((e=>({type:jt,payload:e}))(a.message)),console.error("Error adding new staff member:",a)}},h_=e=>async t=>{t({type:"SEND_PASSWORD_RESET_EMAIL_REQUEST"});try{await async function(e,t,n){const r=_i(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ss(r,i,n),await Ni(r,i,"getOobCode",Li)}($b,e),t({type:"SEND_PASSWORD_RESET_EMAIL_SUCCESS"})}catch(n){t((e=>({type:"SEND_PASSWORD_RESET_EMAIL_FAILURE",payload:e}))(n.message))}},d_=n.p+"static/media/qiu.323ef0bbcdfba23eef45.png",f_=()=>{const{currentUser:e}=Be((e=>e.user)),n=Xe(),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),c=Z();(0,t.useEffect)((()=>{e&&(async()=>{try{const t=ay(Jb,"staff",e.uid),n=await aw(t);if(n.exists()){const e=n.data();i(e.image)}}catch(t){console.error("Error fetching user image:",t)}})()}),[e]);return(0,t.useEffect)((()=>{const e=gt.find((e=>e.link===window.location.pathname));l(e?e.title:"")}),[window.location.pathname]),(0,mt.jsxs)("div",{className:"TopBar",children:[(0,mt.jsx)("div",{className:"TopBarEmail",children:(0,mt.jsx)("img",{className:"Top-Bar-Logo",onClick:()=>c("/Events"),src:d_})}),(0,mt.jsx)("h5",{className:"User-email",children:e&&e.email}),(0,mt.jsxs)("div",{className:"dropdown",children:[(0,mt.jsx)("img",{src:r,alt:"User",className:"userImage",onClick:()=>{a(!s)}}),s&&(0,mt.jsxs)("div",{className:"dropdown-content",children:[(0,mt.jsx)("button",{className:"logoutButton",onClick:()=>{c("/StaffProfile")},children:"Profile"}),(0,mt.jsx)("button",{className:"logoutButton",onClick:()=>{e&&(n(a_()),window.location.reload())},children:"Logout"})]})]})]})},p_=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),d=Z();(0,t.useEffect)((()=>{(async()=>{try{const e=(await lw(sy(Jb,"teacher"))).docs.map((e=>({id:e.id,...e.data()})));s(e),o(!1)}catch(e){console.error("Error fetching teachers:",e)}})()}),[]);const f=i.filter((e=>{const t=e.name.toLowerCase().includes(l.toLowerCase()),n=!u||e.department===u;return t&&n}));return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Teachers"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search teachers...",value:l,onChange:e=>c(e.target.value),className:"search-input"}),(0,mt.jsxs)("select",{value:u,onChange:e=>{h(e.target.value)},className:"department-select",children:[(0,mt.jsx)("option",{value:"",children:"All Departments"}),(0,mt.jsx)("option",{value:"SE",children:"SE"}),(0,mt.jsx)("option",{value:"NT",children:"NT"}),(0,mt.jsx)("option",{value:"IT",children:"IT"})]}),a?(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})}):(0,mt.jsx)("div",{className:"presentation-container",children:f.map((e=>(0,mt.jsxs)("div",{className:"presentation-rectangle",onClick:()=>{d("/EvaluatePortfolio/LecturerPortfolio/".concat(e.id))},children:[e.image&&(0,mt.jsx)("img",{src:e.image,alt:"Event",style:{borderRadius:"100px",width:"70%",height:"70%"}}),(0,mt.jsx)("p",{className:"presentation-title",children:e.name})]},e.id)))})]})})]})},m_=n.p+"static/media/qiu.d8211f9e063d14ea47f0.mp4",g_=()=>{const[e,n]=(0,t.useState)({email:"",password:""}),{error:r}=Be((e=>e.user)),{currentUser:i}=Be((e=>e.user)),s=Z();(0,t.useEffect)((()=>{(async()=>{i&&(await(async()=>{const e=ay(Jb,"staff",i.uid);return(await aw(e)).exists()})()?s("/Events"):await(async()=>{const e=ay(Jb,"teacher",i.uid);return(await aw(e)).exists()})()?s("/LecturerEvent"):await(async()=>{const e=ay(Jb,"student",i.uid);return(await aw(e)).exists()})()?s("/Student/Events"):s("/"))})()}),[i,s]);const a=Xe(),{email:o,password:l}=e,c=t=>{let{name:r,value:i}=t.target;n({...e,[r]:i}),a({type:"CLEAR_ERROR"})};return(0,mt.jsx)("div",{className:"login-container",children:(0,mt.jsxs)("div",{id:"login-form",children:[(0,mt.jsxs)("form",{className:"form-signin",onSubmit:t=>{t.preventDefault();const{email:r,password:i}=e;r&&i&&(a(s_(r,i)),n({email:"",password:""}))},children:[(0,mt.jsx)("img",{src:d_,alt:"Qiu Logo",className:"logo"}),(0,mt.jsx)("video",{src:m_,className:"video",autoPlay:!0,loop:!0,muted:!0}),(0,mt.jsx)("input",{type:"email",id:"inputEmail",name:"email",className:r?"error-input":"",placeholder:"Email Address",onChange:c,value:o,required:!0}),(0,mt.jsx)("input",{type:"password",id:"inputPassword",name:"password",className:r?"error-input":"",placeholder:"Password",onChange:c,value:l,required:!0}),(0,mt.jsx)("button",{type:"submit",children:"Login"}),(0,mt.jsx)("div",{className:"forgot-password",children:(0,mt.jsx)("a",{href:"/ForgetPassword",children:"Forgot Password?"})})]}),r&&(0,mt.jsx)("div",{className:"error-message",children:"Incorrect Email or Password"},r)]})})},v_=()=>{const[e,n]=(0,t.useState)(1),r=Z();return(0,t.useEffect)((()=>{const t=setInterval((()=>{n((e=>--e))}),2e3);return 0===e&&r("/"),()=>clearInterval(t)}),[e,r]),(0,mt.jsxs)("div",{children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)("div",{className:"loading",children:"Loading\u2026"})]})},y_=e=>{let{children:n}=e;const{currentUser:r}=Be((e=>e.user)),[i,s]=(0,t.useState)(!0),[a,o]=(0,t.useState)(!1),l=Z();return(0,t.useEffect)((()=>{(async()=>{if(r){const e=ay(Jb,"staff",r.uid);(await aw(e)).exists()&&o(!0),s(!1)}})()}),[r]),i?(0,mt.jsx)(v_,{}):a?n:(l("/"),null)},w_=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),i=Z();return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsx)("div",{className:"content".concat(n?"minimized":""),children:(0,mt.jsxs)("div",{className:"container",children:[(0,mt.jsxs)("div",{className:"rectangle orange",onClick:()=>{i("/Events/AddNewEvents")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Add New Event"})]}),(0,mt.jsxs)("div",{className:"rectangle purple",onClick:()=>{i("/Events/ManageEvents")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Manage Events"})]}),(0,mt.jsxs)("div",{className:"rectangle blue",onClick:()=>{i("/Events/AttendanceType")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Attendance type"})]})]})})})]})},b_=e=>{let{children:n}=e;const{currentUser:r}=Be((e=>e.user)),[i,s]=(0,t.useState)(!0),[a,o]=(0,t.useState)(!1),l=Z();return(0,t.useEffect)((()=>{(async()=>{if(r){const e=ay(Jb,"teacher",r.uid);(await aw(e)).exists()&&o(!0),s(!1)}})()}),[r]),i?(0,mt.jsx)(v_,{}):a?n:(l("/"),null)},__=()=>(0,mt.jsx)("div",{children:(0,mt.jsx)("h2",{children:"Not Found"})}),x_=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),i=Z();return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsx)("div",{className:"content".concat(n?"minimized":""),children:(0,mt.jsxs)("div",{className:"container",children:[(0,mt.jsxs)("div",{className:"rectangle red",onClick:()=>{i("/Users/AddNewStaff")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Add New Staff"})," "]}),(0,mt.jsxs)("div",{className:"rectangle green",onClick:()=>{i("/Users/AddNewStudent")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Add New Student"})]}),(0,mt.jsxs)("div",{className:"rectangle GoldenRod",onClick:()=>{i("/Users/AddNewTeacher")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Add New Teacher"})]})]})})]})},E_=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),i=Z();return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsx)("div",{className:"content".concat(n?"minimized":""),children:(0,mt.jsxs)("div",{className:"container",children:[(0,mt.jsxs)("div",{className:"rectangle olive",onClick:()=>{i("/FeedBack/AddFeedback")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Add New Feedback"})]}),(0,mt.jsxs)("div",{className:"rectangle DodgerBlue",onClick:()=>{i("/FeedBack/ManageFeedBack")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Manage Feedback"})]}),(0,mt.jsxs)("div",{className:"rectangle light-green",onClick:()=>{i("/FeedBack/FeedbackAnswerList")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Feedback Answer List"})]})]})})})]})};function S_(e){return at({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"384",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48"},child:[]},{tag:"circle",attr:{cx:"296",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"392",r:"24"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128 48v32m256-32v32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M464 160H48"},child:[]}]})(e)}function k_(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 4.75C2 3.784 2.784 3 3.75 3h4.971c.58 0 1.12.286 1.447.765l1.404 2.063c.046.069.124.11.207.11h8.471c.966 0 1.75.783 1.75 1.75V19.25A1.75 1.75 0 0 1 20.25 21H3.75A1.75 1.75 0 0 1 2 19.25Zm1.75-.25a.25.25 0 0 0-.25.25v14.5c0 .138.112.25.25.25h16.5a.25.25 0 0 0 .25-.25V7.687a.25.25 0 0 0-.25-.25h-8.471a1.75 1.75 0 0 1-1.447-.765L8.928 4.61a.252.252 0 0 0-.208-.11Z"},child:[]}]})(e)}const C_=[{title:"Lecturer Events",icon:(0,mt.jsx)(lt,{}),link:"/LecturerEvent"},{title:"Event Calendar",icon:(0,mt.jsx)(S_,{}),link:"/EventCalendar"},{title:"Portfolio",icon:(0,mt.jsx)(k_,{}),link:"/Portfolio"}],T_=()=>{const{currentUser:e}=Be((e=>e.user)),n=Xe(),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),c=Z();(0,t.useEffect)((()=>{e&&(async()=>{try{const t=ay(Jb,"teacher",e.uid),n=await aw(t);if(n.exists()){const e=n.data();i(e.image)}}catch(t){console.error("Error fetching user image:",t)}})()}),[e]);return(0,t.useEffect)((()=>{const e=C_.find((e=>e.link===window.location.pathname));l(e?e.title:"")}),[window.location.pathname]),(0,mt.jsxs)("div",{className:"TopBar",children:[(0,mt.jsx)("div",{className:"TopBarEmail",children:(0,mt.jsx)("img",{className:"Top-Bar-Logo",onClick:()=>c("/LecturerEvent"),src:d_})}),(0,mt.jsx)("h5",{className:"User-email",children:e&&e.email}),(0,mt.jsxs)("div",{className:"dropdown",children:[(0,mt.jsx)("img",{src:r,alt:"User",className:"userImage",onClick:()=>{a(!s)}}),s&&(0,mt.jsxs)("div",{className:"dropdown-content",children:[(0,mt.jsx)("button",{className:"logoutButton",onClick:()=>{c("/LecturerProfile")},children:"Profile"}),(0,mt.jsx)("button",{className:"logoutButton",onClick:()=>{e&&(n(a_()),window.location.reload())},children:"Logout"})]})]})]})};const N_=function(e){let{onToggleMinimized:n}=e;const[r,i]=(0,t.useState)(!0),s=Z();return(0,mt.jsx)("div",{className:"SideBarComponent ".concat(r?"minimized":""),children:(0,mt.jsxs)("div",{className:"SideBar",children:[(0,mt.jsx)("div",{className:"toggleButton",onClick:()=>{i(!r),n(!r)},children:r?(0,mt.jsx)(ut,{}):(0,mt.jsx)(ht,{})}),(0,mt.jsx)("ul",{className:"SideBarList",children:C_.map(((e,t)=>(0,mt.jsxs)("li",{className:"row",id:window.location.pathname===e.link?"active":"",onClick:()=>{return t=e.link,void s(t);var t},title:e.title,children:[(0,mt.jsx)("div",{className:"icon",children:e.icon}),(0,mt.jsx)("div",{className:"title",children:e.title})]},t)))})]})})},I_=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[d,f]=(0,t.useState)(!0),p=Z();(0,t.useEffect)((()=>{(async()=>{try{let e=sy(Jb,"Events");e=Ky(e,Qy("status","==","open")),""!==a&&(e=Ky(e,Qy("type","==",a))),""!==l&&(e=Ky(e,Qy("Online","==",l)));const t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));t.sort(((e,t)=>{const n=new Date(e.date).getTime();return new Date(t.date).getTime()-n})),s(t),f(!1)}catch(e){console.error("Error fetching OtherEvents:",e)}})()}),[a,l]);const m=i.filter((e=>e.title.toLowerCase().includes(u.toLowerCase())));return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(T_,{}),(0,mt.jsx)(N_,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Current Events"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search by title",value:u,onChange:e=>{h(e.target.value)}}),(0,mt.jsxs)("select",{value:a,onChange:e=>o(e.target.value),children:[(0,mt.jsx)("option",{value:"",children:"All Types"}),(0,mt.jsx)("option",{value:"Seminar",children:"Seminar"}),(0,mt.jsx)("option",{value:"Presentation",children:"Presentation"}),(0,mt.jsx)("option",{value:"Workshop",children:"Workshop"}),(0,mt.jsx)("option",{value:"Other",children:"Other"})]}),(0,mt.jsxs)("select",{value:l,onChange:e=>c(e.target.value),children:[(0,mt.jsx)("option",{value:"",children:"Event Status"}),(0,mt.jsx)("option",{value:"yes",children:"Online"}),(0,mt.jsx)("option",{value:"no",children:"Offline"}),(0,mt.jsx)("option",{value:"both",children:"Both"})]}),d?(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})}):(0,mt.jsx)("div",{className:"presentation-container",children:m.map((e=>(0,mt.jsxs)("div",{className:"presentation-rectangle",onClick:()=>{p("/LecturerEvent/EventDetails/".concat(e.id))},children:[e.image&&(0,mt.jsx)("img",{src:e.image,alt:"Presentation"}),(0,mt.jsx)("p",{className:"presentation-title",children:e.title}),(0,mt.jsxs)("p",{children:["Date: ",e.date]})]},e.id)))})]})})]})},j_=e=>{let{message:t,onConfirm:n,onCancel:r}=e;return(0,mt.jsx)("div",{className:"confirmation-dialog-background",children:(0,mt.jsxs)("div",{className:"confirmation-dialog",children:[(0,mt.jsx)("p",{className:"confirmation-message",children:t}),(0,mt.jsxs)("div",{className:"confirmation-buttons",children:[(0,mt.jsx)("button",{className:"confirm-button",onClick:n,children:"Confirm"}),(0,mt.jsx)("button",{className:"cancel-button",onClick:r,children:"Cancel"})]})]})})},A_=e=>{let{message:t,onClose:n}=e;return(0,mt.jsx)("div",{className:"confirmation-dialog-background",children:(0,mt.jsxs)("div",{className:"confirmation-dialog success-animation",children:[(0,mt.jsx)("p",{className:"confirmation-message",children:t}),(0,mt.jsx)("div",{className:"confirmation-buttons",children:(0,mt.jsx)("button",{className:"SuccessBTN",onClick:n,children:"Close"})})]})})},O_=()=>{const{currentUser:e}=Be((e=>e.user)),n=Xe(),[r,i]=(0,t.useState)(!0),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(0),[m,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)(!1),[w,b]=(0,t.useState)(!1),[_,x]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{try{const t=ay(Jb,"staff",e.uid),n=await aw(t);if(n.exists()){const e=n.data();a(e),g(!1)}else console.error("User data not found")}catch(t){console.error("Error fetching user data:",t)}})()}),[e.uid]);const E=e=>{const t=(new Date).getTime()+e.name,n=Hb(Kb(Zb,"ProfileImages/"+t),e);d(!0),n.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done"),p(t)}),(e=>{console.error("Error uploading file:",e),d(!1)}),(()=>{Wb(n.snapshot.ref).then((e=>{a((t=>({...t,image:e}))),u(!0),d(!1)}))}))};return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{i(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsx)("div",{className:"content".concat(r?"minimized":""),children:m?(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})}):(0,mt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b(!0)},children:[(0,mt.jsx)("h2",{children:"Edit Profile"}),s.image&&(0,mt.jsx)("img",{className:"ProfileImage",src:s.image,alt:"User"}),(0,mt.jsx)("label",{children:"Name:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"text",name:"name",value:s.name,onChange:e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n})))}}),(0,mt.jsx)("label",{children:"Image:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=t.type;"image/jpeg"===e||"image/png"===e||"image/gif"===e?(l(t),E(t)):alert("Only JPG, PNG, and GIF file types are allowed.")}}}),(0,mt.jsx)("button",{type:"submit",disabled:h||v,children:v?"Updating...":"Update Profile"}),0!==f&&(0,mt.jsxs)("p",{children:["Upload Progress: ",f,"%"]})]})})}),w&&(0,mt.jsx)(j_,{message:"Are you sure you want update your profile?",onConfirm:async t=>{t.preventDefault(),y(!0);try{n(((e,t)=>async n=>{n({type:At});try{const r=ay(Jb,"staff",e);await uw(r,t),n({type:Ot})}catch(r){n({type:Dt,payload:r.message})}})(e.uid,s)),console.log("User data updated successfully"),b(!1),x(!0)}catch(r){console.error("Error updating user data:",r),b(!1)}setTimeout((()=>{y(!1)}),1500)},onCancel:()=>{b(!1)}}),_&&(0,mt.jsx)(A_,{message:"Updated successfully",onClose:()=>x(!1)})]})},D_=()=>{const{currentUser:e,addingStaff:n}=Be((e=>e.user)),r=Xe(),[i,s]=(0,t.useState)(!0),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[d,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!0),[g,v]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1);return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{s(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(i?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Add New Staff"}),(0,mt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v(!0)},children:[(0,mt.jsx)("label",{children:"Email:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"email",value:a,onChange:e=>o(e.target.value),required:!0}),(0,mt.jsx)("label",{children:"Name:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"text",value:l,onChange:e=>c(e.target.value),required:!0}),(0,mt.jsx)("label",{children:"Password:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"password",value:u,onChange:e=>h(e.target.value),required:!0}),(0,mt.jsx)("label",{children:"Confirm Password:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"password",value:d,onChange:e=>{f(e.target.value),m(e.target.value===u)},required:!0}),!p&&(0,mt.jsx)("p",{style:{color:"red"},children:"Passwords do not match"}),(0,mt.jsx)("button",{type:"submit",disabled:n||!p,children:n?"Adding...":"Add Staff"})]})]})}),g&&(0,mt.jsx)(j_,{message:"Are you sure you want to Add new Staff?",onConfirm:e=>{if(e.preventDefault(),u!==d)return void m(!1);/^[\w-]+(\.[\w-]+)*@uniq\.edu\.iq$/.test(a)?l.length<2?alert("Name must be at least 2 characters long"):u.length<9?alert("Password must be at least 9 characters or more"):(r(l_(a,l,u)),v(!1),w(!0),o(""),c(""),h(""),f("")):alert("Please enter a valid email ending with @uniq.edu.iq")},onCancel:()=>{v(!1)}}),y&&(0,mt.jsx)(A_,{message:"New staff Added successfully",onClose:()=>w(!1)})]})},R_=e=>{let{message:t,onOk:n}=e;return(0,mt.jsx)("div",{className:"confirmation-dialog-background",children:(0,mt.jsxs)("div",{className:"confirmation-dialog  success-animation",children:[(0,mt.jsx)("p",{className:"confirmation-message",children:t}),(0,mt.jsx)("p",{children:"Deleted successfully"}),(0,mt.jsx)("div",{className:"confirmation-buttons",children:(0,mt.jsx)("button",{className:"cancel-button",onClick:n,children:"Close"})})]})})},P_=()=>{const{currentUser:e}=Be((e=>e.user)),n=Xe(),[r,i]=(0,t.useState)(!0),[s,a]=(0,t.useState)({title:"",date:"",time:"",enddate:"",Online:"",status:"",presenters:[""],seats:"",description:"",type:"",Faculty:"",venue:"",link:"",image:null}),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(0),[m,g]=(0,t.useState)(null),v=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})},y=e=>{const t=(new Date).getTime()+e.name,n=Hb(Kb(Zb,"Events/"+t),e);n.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done"),p(t)}),(e=>{console.error("Error uploading file:",e)}),(()=>{Wb(n.snapshot.ref).then((e=>{a({...s,image:e})}))}))};return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{i(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(r?"minimized":""),children:[(0,mt.jsx)("h1",{children:"Add New Event"}),(0,mt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u(!0)},children:[s.image&&(0,mt.jsx)("img",{className:"EditEventImage",src:s.image,alt:"Uploaded"}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"text",name:"title",placeholder:"Title",value:s.title,onChange:v,required:!0}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"date",name:"date",placeholder:"Date",value:s.date,onChange:v,required:!0}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"time",name:"time",placeholder:"Time",value:s.time,onChange:v,required:!0}),(0,mt.jsx)("h5",{className:"event-image-info",children:"please enter a date to end the event registration"}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"date",name:"enddate",placeholder:"Date",value:s.enddate,onChange:v,required:!0}),(0,mt.jsxs)("select",{id:"Online",name:"Online",value:s.Online,onChange:v,required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Is the Event Online"}),(0,mt.jsx)("option",{value:"yes",children:"Yes"}),(0,mt.jsx)("option",{value:"no",children:"No"}),(0,mt.jsx)("option",{value:"both",children:"Offline and Online"})]}),(0,mt.jsxs)("select",{id:"status",name:"status",value:s.status,onChange:v,required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Select Status"}),(0,mt.jsx)("option",{value:"open",children:"Open"}),(0,mt.jsx)("option",{value:"close",children:"Close"})]}),s.presenters.map(((e,t)=>(0,mt.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start"},children:[(0,mt.jsx)("br",{}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"text",placeholder:"Presenters",value:e,onChange:e=>((e,t)=>{const n=[...s.presenters];n[e]=t,a({...s,presenters:n})})(t,e.target.value)}),(0,mt.jsx)("button",{className:"RemoveButton",type:"button",onClick:()=>(e=>{const t=[...s.presenters];t.splice(e,1),a({...s,presenters:t})})(t),children:"Remove Presenter"}),(0,mt.jsx)("br",{})]},t))),(0,mt.jsx)("br",{}),(0,mt.jsx)("button",{className:"AddButton",type:"button",onClick:()=>{a({...s,presenters:[...s.presenters,""]})},children:"Add More Presenter"}),(0,mt.jsx)("br",{}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"number",name:"seats",placeholder:"Available Seats",value:s.seats,onChange:v,required:!0}),(0,mt.jsx)("textarea",{name:"description",placeholder:"Description",value:s.description,onChange:v,required:!0}),(0,mt.jsxs)("select",{id:"type",name:"type",value:s.type,onChange:v,required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Select Type"}),(0,mt.jsx)("option",{value:"Seminar",children:"Seminar"}),(0,mt.jsx)("option",{value:"Presentation",children:"Presentation"}),(0,mt.jsx)("option",{value:"Workshop",children:"Workshop"}),(0,mt.jsx)("option",{value:"Other",children:"Other"})]}),(0,mt.jsxs)("select",{id:"Faculty",name:"Faculty",value:s.Faculty,onChange:v,required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Select Faculty"}),(0,mt.jsx)("option",{value:"Faculty of Dentistry",children:"Faculty of Dentistry"}),(0,mt.jsx)("option",{value:"Faculty of Pharmacy",children:"Faculty of Pharmacy"}),(0,mt.jsx)("option",{value:"Faculty of Engineering & Computer Science",children:"Faculty of Engineering & Computer Science"}),(0,mt.jsx)("option",{value:"Faculty of Health Sciences",children:"Faculty of Health Sciences"}),(0,mt.jsx)("option",{value:"Faculty of Management and Social Sciences",children:"Faculty of Management and Social Sciences"})]}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"text",name:"venue",placeholder:"Venue",value:s.venue,onChange:v,required:!0}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"text",name:"link",placeholder:"Link",value:s.link,onChange:v}),(0,mt.jsx)("h5",{className:"event-image-info",children:"please use 1:1 aspect ratio image"}),(0,mt.jsx)("div",{children:(0,mt.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(t){const e=t.type;"image/jpeg"===e||"image/png"===e||"image/gif"===e?(g(t),y(t)):alert("Only JPG, PNG, and GIF file types are allowed.")}},required:!0})}),s.image?(0,mt.jsx)("button",{type:"submit",disabled:!s.image,children:"Submit"}):(0,mt.jsx)("button",{disabled:!0,children:"Submit"}),0!==f&&(0,mt.jsxs)("p",{children:["Upload Progress: ",f,"%"]})]})]})}),c&&(0,mt.jsx)(j_,{message:"Are you sure you want to add this event?",onConfirm:e=>{var t;e.preventDefault(),n((t=s,async function(e){try{const e=sy(Jb,"Events");await dw(e,t),console.log("Event added successfully!")}catch(n){console.error("Error adding event:",n)}})),a({title:"",date:"",time:"",enddate:"",Online:"",status:"",presenters:[""],seats:"",description:"",type:"",Faculty:"",venue:"",link:"",image:null}),g(null),u(!1),d(!0)},onCancel:()=>{u(!1)}}),h&&(0,mt.jsx)(A_,{message:"Event Added successfully",onClose:()=>d(!1)})]})},L_=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),i=Z();return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsx)("div",{className:"content".concat(n?"minimized":""),children:(0,mt.jsxs)("div",{className:"container",children:[(0,mt.jsxs)("div",{className:"rectangle red",onClick:()=>{i("/Events/ManageEvents/ManageSeminar")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Manage Seminar"})]}),(0,mt.jsxs)("div",{className:"rectangle GoldenRod",onClick:()=>{i("/Events/ManageEvents/ManagePresentation")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Manage Presentation"})]}),(0,mt.jsxs)("div",{className:"rectangle DodgerBlue",onClick:()=>{i("/Events/ManageEvents/ManageWorkShop")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Manage Workshop"})]}),(0,mt.jsxs)("div",{className:"rectangle blue",onClick:()=>{i("/Events/ManageEvents/ManageOtherEvent")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Manage Other Events"})]})]})})})]})},M_=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!0),u=Z(),h=e=>{r(e)};(0,t.useEffect)((()=>{(async()=>{try{const e=Ky(sy(Jb,"Events"),Qy("type","==","Presentation")),t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));s(t)}catch(e){console.error("Error fetching presentations:",e)}})(),c(!1)}),[]);const d=i.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())));return l?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:h}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:h}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Manage Presentations"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search presentations",value:a,onChange:e=>o(e.target.value)}),(0,mt.jsx)("div",{className:"presentation-container",children:d.map((e=>(0,mt.jsxs)("div",{className:"presentation-rectangle",onClick:()=>{u("/Events/ManageEvents/ManagePresentation/EditEvent/".concat(e.id))},children:[e.image&&(0,mt.jsx)("img",{src:e.image,alt:"Presentation"}),(0,mt.jsx)("p",{className:"presentation-title",children:e.title}),(0,mt.jsxs)("p",{children:["Date: ",e.date]})]},e.id)))})]})})]})};var U_,F_=Object.defineProperty,B_=Object.getOwnPropertySymbols,z_=Object.prototype.hasOwnProperty,V_=Object.prototype.propertyIsEnumerable,q_=(e,t,n)=>t in e?F_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H_=(e,t)=>{for(var n in t||(t={}))z_.call(t,n)&&q_(e,n,t[n]);if(B_)for(var n of B_(t))V_.call(t,n)&&q_(e,n,t[n]);return e},W_=(e,t)=>{var n={};for(var r in e)z_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&B_)for(var r of B_(e))t.indexOf(r)<0&&V_.call(e,r)&&(n[r]=e[r]);return n};(e=>{const t=class{constructor(e,n,r,i){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let a=[];for(let t=0;t<this.size;t++)a.push(!1);for(let t=0;t<this.size;t++)this.modules.push(a.slice()),this.isFunction.push(a.slice());this.drawFunctionPatterns();const o=this.addEccAndInterleave(r);if(this.drawCodewords(o),-1==i){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(i=t,e=n),this.applyMask(t)}}s(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(n,r){const i=e.QrSegment.makeSegments(n);return t.encodeSegments(i,r)}static encodeBinary(n,r){const i=e.QrSegment.makeBytes(n);return t.encodeSegments([i],r)}static encodeSegments(e,n){let i,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=l&&l<=c&&c<=t.MAX_VERSION)||u<-1||u>7)throw new RangeError("Invalid value");for(i=l;;i++){const r=8*t.getNumDataCodewords(i,n),s=o.getTotalBits(e,i);if(s<=r){a=s;break}if(i>=c)throw new RangeError("Data too long")}for(const r of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])h&&a<=8*t.getNumDataCodewords(i,r)&&(n=r);let d=[];for(const t of e){r(t.mode.modeBits,4,d),r(t.numChars,t.mode.numCharCountBits(i),d);for(const e of t.getData())d.push(e)}s(d.length==a);const f=8*t.getNumDataCodewords(i,n);s(d.length<=f),r(0,Math.min(4,f-d.length),d),r(0,(8-d.length%8)%8,d),s(d.length%8==0);for(let t=236;d.length<f;t^=253)r(t,8,d);let p=[];for(;8*p.length<d.length;)p.push(0);return d.forEach(((e,t)=>p[t>>>3]|=e<<7-(7&t))),new t(i,n,p,u)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)0==n&&0==r||0==n&&r==t-1||n==t-1&&0==r||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let i=0;i<10;i++)n=n<<1^1335*(n>>>9);const r=21522^(t<<10|n);s(r>>>15==0);for(let s=0;s<=5;s++)this.setFunctionModule(8,s,i(r,s));this.setFunctionModule(8,7,i(r,6)),this.setFunctionModule(8,8,i(r,7)),this.setFunctionModule(7,8,i(r,8));for(let s=9;s<15;s++)this.setFunctionModule(14-s,8,i(r,s));for(let s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,i(r,s));for(let s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,i(r,s));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;s(t>>>18==0);for(let n=0;n<18;n++){const e=i(t,n),r=this.size-11+n%3,s=Math.floor(n/3);this.setFunctionModule(r,s,e),this.setFunctionModule(s,r,e)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const i=Math.max(Math.abs(r),Math.abs(n)),s=e+r,a=t+n;0<=s&&s<this.size&&0<=a&&a<this.size&&this.setFunctionModule(s,a,2!=i&&4!=i)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");const i=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],a=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],o=Math.floor(t.getNumRawDataModules(n)/8),l=i-o%i,c=Math.floor(o/i);let u=[];const h=t.reedSolomonComputeDivisor(a);for(let s=0,f=0;s<i;s++){let n=e.slice(f,f+c-a+(s<l?0:1));f+=n.length;const r=t.reedSolomonComputeRemainder(n,h);s<l&&n.push(0),u.push(n.concat(r))}let d=[];for(let t=0;t<u[0].length;t++)u.forEach(((e,n)=>{(t!=c-a||n>=l)&&d.push(e[t])}));return s(d.length==o),d}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let r=0;r<this.size;r++)for(let s=0;s<2;s++){const a=t-s,o=0==(t+1&2)?this.size-1-r:r;!this.isFunction[o][a]&&n<8*e.length&&(this.modules[o][a]=i(e[n>>>3],7-(7&n)),n++)}}s(n==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let s=0;s<this.size;s++){let n=!1,r=0,i=[0,0,0,0,0,0,0];for(let a=0;a<this.size;a++)this.modules[s][a]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[s][a],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,i)*t.PENALTY_N3}for(let s=0;s<this.size;s++){let n=!1,r=0,i=[0,0,0,0,0,0,0];for(let a=0;a<this.size;a++)this.modules[a][s]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[a][s],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,i)*t.PENALTY_N3}for(let s=0;s<this.size-1;s++)for(let n=0;n<this.size-1;n++){const r=this.modules[s][n];r==this.modules[s][n+1]&&r==this.modules[s+1][n]&&r==this.modules[s+1][n+1]&&(e+=t.PENALTY_N2)}let n=0;for(const t of this.modules)n=t.reduce(((e,t)=>e+(t?1:0)),n);const r=this.size*this.size,i=Math.ceil(Math.abs(20*n-10*r)/r)-1;return s(0<=i&&i<=9),e+=i*t.PENALTY_N4,s(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return s(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let r=1;for(let i=0;i<e;i++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],r),e+1<n.length&&(n[e]^=n[e+1]);r=t.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(e,n){let r=n.map((e=>0));for(const i of e){const e=i^r.shift();r.push(0),n.forEach(((n,i)=>r[i]^=t.reedSolomonMultiply(n,e)))}return r}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return s(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];s(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};let n=t;function r(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function i(e,t){return 0!=(e>>>t&1)}function s(e){if(!e)throw new Error("Assertion error")}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;const a=class{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(e){let t=[];for(const n of e)r(n,8,t);return new a(a.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!a.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let n=0;n<e.length;){const i=Math.min(e.length-n,3);r(parseInt(e.substr(n,i),10),3*i+1,t),n+=i}return new a(a.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!a.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t,n=[];for(t=0;t+2<=e.length;t+=2){let i=45*a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));i+=a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),r(i,11,n)}return t<e.length&&r(a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,n),new a(a.Mode.ALPHANUMERIC,e.length,n)}static makeSegments(e){return""==e?[]:a.isNumeric(e)?[a.makeNumeric(e)]:a.isAlphanumeric(e)?[a.makeAlphanumeric(e)]:[a.makeBytes(a.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)r(e,8,t);else if(e<16384)r(2,2,t),r(e,14,t);else{if(!(e<1e6))throw new RangeError("ECI assignment value out of range");r(6,3,t),r(e,21,t)}return new a(a.Mode.ECI,0,t)}static isNumeric(e){return a.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return a.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const r of e){const e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;n+=4+e+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}};let o=a;o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=o})(U_||(U_={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};let n=t;n.LOW=new t(0,1),n.MEDIUM=new t(1,0),n.QUARTILE=new t(2,3),n.HIGH=new t(3,2),e.Ecc=n})(t=e.QrCode||(e.QrCode={}))})(U_||(U_={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};let n=t;n.NUMERIC=new t(1,[10,12,14]),n.ALPHANUMERIC=new t(2,[9,11,13]),n.BYTE=new t(4,[8,16,16]),n.KANJI=new t(8,[8,10,12]),n.ECI=new t(7,[0,0,0]),e.Mode=n})(t=e.QrSegment||(e.QrSegment={}))})(U_||(U_={}));var K_=U_,G_={L:K_.QrCode.Ecc.LOW,M:K_.QrCode.Ecc.MEDIUM,Q:K_.QrCode.Ecc.QUARTILE,H:K_.QrCode.Ecc.HIGH},Q_=128,Y_="L",X_="#FFFFFF",$_="#000000",J_=!1,Z_=4,ex=.1;function tx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return e.forEach((function(e,r){let i=null;e.forEach((function(s,a){if(!s&&null!==i)return n.push("M".concat(i+t," ").concat(r+t,"h").concat(a-i,"v1H").concat(i+t,"z")),void(i=null);if(a!==e.length-1)s&&null===i&&(i=a);else{if(!s)return;null===i?n.push("M".concat(a+t,",").concat(r+t," h1v1H").concat(a+t,"z")):n.push("M".concat(i+t,",").concat(r+t," h").concat(a+1-i,"v1H").concat(i+t,"z"))}}))})),n.join("")}function nx(e,t){return e.slice().map(((e,n)=>n<t.y||n>=t.y+t.h?e:e.map(((e,n)=>(n<t.x||n>=t.x+t.w)&&e))))}function rx(e,t,n,r){if(null==r)return null;const i=n?Z_:0,s=e.length+2*i,a=Math.floor(t*ex),o=s/t,l=(r.width||a)*o,c=(r.height||a)*o,u=null==r.x?e.length/2-l/2:r.x*o,h=null==r.y?e.length/2-c/2:r.y*o;let d=null;if(r.excavate){let e=Math.floor(u),t=Math.floor(h);d={x:e,y:t,w:Math.ceil(l+u-e),h:Math.ceil(c+h-t)}}return{x:u,y:h,h:c,w:l,excavation:d}}!function(){try{(new Path2D).addPath(new Path2D)}catch(NC){return!1}}();function ix(e){const n=e,{value:r,size:i=Q_,level:s=Y_,bgColor:a=X_,fgColor:o=$_,includeMargin:l=J_,imageSettings:c}=n,u=W_(n,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let h=K_.QrCode.encodeText(r,G_[s]).getModules();const d=l?Z_:0,f=h.length+2*d,p=rx(h,i,l,c);let m=null;null!=c&&null!=p&&(null!=p.excavation&&(h=nx(h,p.excavation)),m=t.createElement("image",{xlinkHref:c.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const g=tx(h,d);return t.createElement("svg",H_({height:i,width:i,viewBox:"0 0 ".concat(f," ").concat(f)},u),t.createElement("path",{fill:a,d:"M0,0 h".concat(f,"v").concat(f,"H0z"),shapeRendering:"crispEdges"}),t.createElement("path",{fill:o,d:g,shapeRendering:"crispEdges"}),m)}const sx=()=>{const{currentUser:e}=Be((e=>e.user)),n=Xe(),r=Z(),{id:i}=ee(),[s,a]=(0,t.useState)(!0),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)({title:"",date:"",time:"",enddate:"",Online:"",status:"",presenters:[""],seats:"",description:"",type:"",Faculty:"",venue:"",link:"",image:null}),[v,y]=(0,t.useState)(null),[w,b]=(0,t.useState)(0),[_,x]=(0,t.useState)(!1),[E,S]=(0,t.useState)(!0),k=e=>{a(e)};(0,t.useEffect)((()=>{(async()=>{try{const e=ay(Jb,"Events",i),t=await aw(e);if(t.exists()){const e=t.data();g({title:e.title||"",date:e.date||"",time:e.time||"",enddate:e.enddate||"",Online:e.Online||"",status:e.status||"",presenters:e.presenters||[""],seats:e.seats||"",description:e.description||"",type:e.type||"",Faculty:e.Faculty||"",venue:e.venue||"",link:e.link||"",image:e.image||null}),S(!1)}else console.error("Event not found")}catch(e){console.error("Error fetching event data:",e)}})()}),[i]);const C=e=>{const{name:t,value:n}=e.target;g({...m,[t]:n})},T=e=>{x(!0);const t=(new Date).getTime()+e.name,n=Hb(Kb(Zb,"Events/"+t),e);n.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),b(t),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(e=>{console.error("Error uploading file:",e)}),(()=>{Wb(n.snapshot.ref).then((e=>{g({...m,image:e}),x(!1)}))}))},N=async()=>{try{n((e=i,t=m,async function(n){try{const r=ay(Jb,"Events",e);await uw(r,t),console.log("Event details updated successfully"),n({type:"UPDATE_EVENT_SUCCESS",payload:t})}catch(r){console.error("Error updating event details:",r),n({type:"UPDATE_EVENT_FAIL",payload:r.message})}}))}catch(r){console.error("Error updating event details:",r)}var e,t};return E?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:k}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:k}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(s?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Edit Event"}),(0,mt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l(!0)},children:[(0,mt.jsxs)("div",{className:"container",children:[(0,mt.jsx)(ix,{fgColor:"#000000",bgColor:"#ffffff",onClick:()=>{const e=document.querySelector(".QrCode"),t=document.createElement("canvas"),n=t.getContext("2d"),r=new Image;t.width=e.width.baseVal.value,t.height=e.height.baseVal.value;const i=(new XMLSerializer).serializeToString(e),s="data:image/svg+xml;base64,"+btoa(i);r.onload=()=>{n.drawImage(r,0,0);const e=t.toDataURL("image/png"),i=document.createElement("a");i.href=e,i.download="qr_code.png",document.body.appendChild(i),i.click(),document.body.removeChild(i)},r.src=s},className:"QrCode",alt:"Download the QR code",value:"https://fyp2-app-525c3.web.app/Student/Events/register/".concat(i),width:200,height:200}),m.image&&(0,mt.jsx)("img",{className:"EditEventImage",src:m.image,alt:"Uploaded"})]}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"text",name:"title",placeholder:"Title",value:m.title,onChange:C,required:!0}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"date",name:"date",placeholder:"Date",value:m.date,onChange:C,required:!0}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"time",name:"time",placeholder:"Time",value:m.time,onChange:C,required:!0}),(0,mt.jsx)("h5",{className:"event-image-info",children:"please enter a date to end the event registration"}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"date",name:"enddate",placeholder:"Date",value:m.enddate,onChange:C,required:!0}),(0,mt.jsxs)("select",{name:"Online",value:m.Online,onChange:C,required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Is the Event Online"}),(0,mt.jsx)("option",{value:"yes",children:"Yes"}),(0,mt.jsx)("option",{value:"no",children:"No"}),(0,mt.jsx)("option",{value:"both",children:"Offline and Online"})]}),(0,mt.jsxs)("select",{name:"status",value:m.status,onChange:C,required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Select Status"}),(0,mt.jsx)("option",{value:"open",children:"Open"}),(0,mt.jsx)("option",{value:"close",children:"Close"})]}),m.presenters.map(((e,t)=>(0,mt.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start"},children:[(0,mt.jsx)("br",{}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"text",placeholder:"Presenters",value:e,onChange:e=>((e,t)=>{const n=[...m.presenters];n[e]=t,g({...m,presenters:n})})(t,e.target.value)}),(0,mt.jsx)("button",{className:"RemoveButton",type:"button",onClick:()=>(e=>{const t=[...m.presenters];t.splice(e,1),g({...m,presenters:t})})(t),children:"Remove Presenter"}),(0,mt.jsx)("br",{})]},t))),(0,mt.jsx)("br",{}),(0,mt.jsx)("button",{className:"AddButton",type:"button",onClick:()=>{g({...m,presenters:[...m.presenters,""]})},children:"Add More Presenter"}),(0,mt.jsx)("br",{}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"number",name:"seats",placeholder:"Available Seats",value:m.seats,onChange:C,required:!0}),(0,mt.jsx)("textarea",{name:"description",placeholder:"Description",value:m.description,onChange:C,required:!0}),(0,mt.jsxs)("select",{name:"type",value:m.type,onChange:C,required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Select Type"}),(0,mt.jsx)("option",{value:"Seminar",children:"Seminar"}),(0,mt.jsx)("option",{value:"Presentation",children:"Presentation"}),(0,mt.jsx)("option",{value:"Workshop",children:"Workshop"}),(0,mt.jsx)("option",{value:"Other",children:"Other"})]}),(0,mt.jsxs)("select",{id:"Faculty",name:"Faculty",value:m.Faculty,onChange:C,required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Select Faculty"}),(0,mt.jsx)("option",{value:"Faculty of Dentistry",children:"Faculty of Dentistry"}),(0,mt.jsx)("option",{value:"Faculty of Pharmacy",children:"Faculty of Pharmacy"}),(0,mt.jsx)("option",{value:"Faculty of Engineering & Computer Science",children:"Faculty of Engineering & Computer Science"}),(0,mt.jsx)("option",{value:"Faculty of Health Sciences",children:"Faculty of Health Sciences"}),(0,mt.jsx)("option",{value:"Faculty of Management and Social Sciences",children:"Faculty of Management and Social Sciences"})]}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"text",name:"venue",placeholder:"Venue",value:m.venue,onChange:C,required:!0}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"text",name:"link",placeholder:"Link",value:m.link,onChange:C}),(0,mt.jsx)("h5",{className:"event-image-info",children:"please use 1:1 aspect ratio image"}),(0,mt.jsx)("div",{children:(0,mt.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(t){const e=t.type;"image/png"===e||"image/jpeg"===e||"image/gif"===e?(y(t),T(t)):alert("Only PNG, JPEG, and GIF file types are allowed.")}}})}),(0,mt.jsx)("button",{type:"submit",disabled:_,children:"Update"}),0!==w&&(0,mt.jsxs)("p",{children:["Upload Progress: ",w,"%"]}),(0,mt.jsx)("br",{}),(0,mt.jsx)("button",{className:"DeleteButton",onClick:e=>{e.preventDefault(),u(!0)},children:"Delete Event"})]})]})}),o&&(0,mt.jsx)(j_,{message:"Are you sure you want to change this event?",onConfirm:async e=>{e.preventDefault();try{_?console.log("Image is still uploading..."):N()}catch(t){console.error("Error handling form submission:",t)}l(!1),p(!0)},onCancel:()=>{l(!1)}}),c&&(0,mt.jsx)(j_,{message:"Are you sure you want to delete this event?",onConfirm:async()=>{try{n((e=i,async function(t){try{const n=ay(Jb,"Events",e);await hw(n),console.log("Event deleted successfully"),t({type:"DELETE_EVENT_SUCCESS"})}catch(n){console.error("Error deleting event:",n),t({type:"DELETE_EVENT_FAIL",payload:n.message})}})),u(!1),d(!0)}catch(t){console.error("Error deleting event:",t)}var e},onCancel:()=>{u(!1)}}),h&&(0,mt.jsx)(R_,{message:"",onOk:()=>{d(!1),"Other"===m.type?r("/Events/ManageEvents/ManageOtherEvent"):"Workshop"===m.type?r("/Events/ManageEvents/ManageWorkShop"):"Presentation"===m.type?r("/Events/ManageEvents/ManagePresentation"):"Seminar"===m.type&&r("/Events/ManageEvents/ManageSeminar")}}),f&&(0,mt.jsx)(A_,{message:"Event Updated successfully",onClose:()=>p(!1)})]})},ax=()=>{const{currentUser:e}=Be((e=>e.user)),n=Xe(),[r,i]=(0,t.useState)(!0),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)({title:"",content:"",date:"",enddate:"",image:"https://firebasestorage.googleapis.com/v0/b/fyp2-app-525c3.appspot.com/o/feedback%2FUntitled%20design.gif?alt=media&token=6fc740fd-6a3c-4e65-bec8-7e39dfba075b",questions:[],questionTypes:[]}),h=e=>{const{name:t,value:n}=e.target;u({...c,[t]:n})},d=(e,t)=>{const n=[...c.questionTypes];n[e]=t.target.value,u({...c,questionTypes:n})};return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{i(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(r?"minimized":""),children:[(0,mt.jsx)("h1",{children:"Feedback Form"}),(0,mt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(!0)},children:[(0,mt.jsx)("input",{className:"AddNewEventInput",type:"text",name:"title",placeholder:"Title",value:c.title,onChange:h,required:!0}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"date",name:"date",placeholder:"Date",value:c.date,onChange:h,required:!0}),(0,mt.jsx)("h5",{className:"event-image-info",children:"Feedback End Date"}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"date",name:"enddate",placeholder:"Date",value:c.enddate,onChange:h,required:!0}),(0,mt.jsx)("textarea",{name:"content",placeholder:"Description",value:c.content,onChange:h,required:!0}),c.questions.map(((e,t)=>(0,mt.jsxs)("div",{className:"QustionsConstainer",children:[(0,mt.jsx)("input",{className:"Qustions",type:"text",placeholder:"Question ".concat(t+1),value:e,onChange:e=>((e,t)=>{const n=[...c.questions];n[e]=t.target.value,u({...c,questions:n})})(t,e),required:!0}),(0,mt.jsxs)("label",{children:[(0,mt.jsx)("input",{type:"radio",name:"questionType".concat(t),value:"answer",checked:"answer"===c.questionTypes[t],onChange:e=>d(t,e)}),"Q&A"]}),(0,mt.jsxs)("label",{children:[(0,mt.jsx)("input",{type:"radio",name:"questionType".concat(t),value:"multipleChoice",checked:"multipleChoice"===c.questionTypes[t],onChange:e=>d(t,e)}),"Rating"]}),(0,mt.jsx)("button",{className:"RemoveButton",type:"button",onClick:()=>(e=>{const t=[...c.questions],n=[...c.questionTypes];t.splice(e,1),n.splice(e,1),u({...c,questions:t,questionTypes:n})})(t),children:"Remove Question"})]},t))),(0,mt.jsx)("br",{}),(0,mt.jsx)("button",{className:"AddButton",type:"button",onClick:()=>{u({...c,questions:[...c.questions,""],questionTypes:[...c.questionTypes,"answer"]})},children:"Add Question"}),(0,mt.jsx)("br",{}),(0,mt.jsx)("button",{type:"submit",children:"Submit Feedback"})]})]})}),s&&(0,mt.jsx)(j_,{message:"Are you sure you want to Add this Feedback?",onConfirm:e=>{var t;e.preventDefault(),n((t=c,async function(e){try{const e=sy(Jb,"feedback");await dw(e,t),console.log("Feedback added successfully!")}catch(n){console.error("Error adding feedback:",n)}})),u({title:"",content:"",date:"",enddate:"",questions:[],questionTypes:[]}),a(!1),l(!0)},onCancel:()=>{a(!1)}}),o&&(0,mt.jsx)(A_,{message:"New Feedback added successfully",onClose:()=>l(!1)})]})},ox=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!0),u=e=>{r(e)};(0,t.useEffect)((()=>{(async()=>{try{const e=sy(Jb,"feedback"),t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));s(t)}catch(e){console.error("Error fetching feedback:",e)}})(),c(!1)}),[]);const h=i.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())));return l?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:u}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:u}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h1",{children:"Manage Feedback"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search feedback",value:a,onChange:e=>o(e.target.value)}),(0,mt.jsx)("div",{className:"feedback-container",children:h.map(((e,t)=>(0,mt.jsx)(ke,{to:"/FeedBack/ManageFeedBack/EditFeedback/".concat(e.id),className:"feedback-link",children:(0,mt.jsxs)("div",{className:"feedback-item",children:[(0,mt.jsx)("img",{src:e.image}),(0,mt.jsx)("p",{className:"feedback-title",children:e.title})]})},t)))})]})})]})},lx=()=>{const{currentUser:e}=Be((e=>e.user)),n=Xe(),[r,i]=(0,t.useState)(!0),[s,a]=(0,t.useState)({}),{id:o}=ee(),l=Z(),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!0),w=e=>{i(e)};(0,t.useEffect)((()=>{(async()=>{try{const e=ay(Jb,"feedback",o),t=await aw(e);if(t.exists()){const e=t.data();a(e)}else console.error("Feedback not found")}catch(e){console.error("Error fetching feedback data:",e)}})(),y(!1)}),[o]);const b=e=>{const{name:t,value:n}=e.target;a({...s,[t]:n})},_=(e,t)=>{const n=[...s.questionTypes];n[e]=t.target.value,a({...s,questionTypes:n})};return v?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:w}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:w}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(r?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Edit Feedback"}),(0,mt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u(!0)},children:[(0,mt.jsx)("input",{className:"AddNewEventInput",type:"text",name:"title",placeholder:"Title",value:s.title||"",onChange:b,required:!0}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"date",name:"date",placeholder:"Date",value:s.date,onChange:b,required:!0}),(0,mt.jsx)("h5",{className:"event-image-info",children:"Feedback End Date"}),(0,mt.jsx)("input",{className:"AddNewEventInput",type:"date",name:"enddate",placeholder:"Date",value:s.enddate,onChange:b,required:!0}),(0,mt.jsx)("textarea",{name:"content",placeholder:"Description",value:s.content||"",onChange:b,required:!0}),s.questions&&s.questions.map(((e,t)=>(0,mt.jsxs)("div",{className:"QustionsConstainer",children:[(0,mt.jsx)("input",{className:"Qustions",type:"text",placeholder:"Question ".concat(t+1),value:e,onChange:e=>((e,t)=>{const n=[...s.questions];n[e]=t.target.value,a({...s,questions:n})})(t,e),required:!0}),(0,mt.jsxs)("label",{children:[(0,mt.jsx)("input",{type:"radio",name:"questionType".concat(t),value:"answer",checked:"answer"===s.questionTypes[t],onChange:e=>_(t,e)}),"Q&A"]}),(0,mt.jsxs)("label",{children:[(0,mt.jsx)("input",{type:"radio",name:"questionType".concat(t),value:"multipleChoice",checked:"multipleChoice"===s.questionTypes[t],onChange:e=>_(t,e)}),"Rating"]}),(0,mt.jsx)("button",{className:"RemoveButton",type:"button",onClick:()=>(e=>{const t=[...s.questions],n=[...s.questionTypes];t.splice(e,1),n.splice(e,1),a({...s,questions:t,questionTypes:n})})(t),children:"Remove Question"})]},t))),(0,mt.jsx)("br",{}),(0,mt.jsx)("button",{className:"AddButton",type:"button",onClick:()=>{a({...s,questions:[...s.questions,""],questionTypes:[...s.questionTypes,"answer"]})},children:"Add Question"}),(0,mt.jsx)("br",{}),(0,mt.jsx)("button",{type:"submit",children:"Update Feedback"}),(0,mt.jsx)("br",{}),(0,mt.jsx)("button",{className:"DeleteButton",type:"button",onClick:e=>{e.preventDefault(),d(!0)},children:"Delete Feedback"})]})]})}),c&&(0,mt.jsx)(j_,{message:"Are you sure you want to Update this Feedback?",onConfirm:async e=>{e.preventDefault();try{n(((e,t)=>async function(n){try{const r=ay(Jb,"feedback",e);await uw(r,t),n({type:"UPDATE_FEEDBACK_SUCCESS",payload:t})}catch(r){n({type:"UPDATE_FEEDBACK_FAIL",payload:r.message})}})(o,s))}catch(t){console.error("Error updating feedback:",t)}u(!1),g(!0)},onCancel:()=>{u(!1)}}),h&&(0,mt.jsx)(j_,{message:"Are you sure you want to delete this Feedback?",onConfirm:async()=>{try{n((e=o,async function(t){try{const n=ay(Jb,"feedback",e);await hw(n),t({type:"DELETE_FEEDBACK_SUCCESS",payload:e})}catch(n){t({type:"DELETE_FEEDBACK_FAIL",payload:n.message})}})),d(!1),p(!0)}catch(t){console.error("Error deleting feedback:",t)}var e},onCancel:()=>{d(!1)}}),f&&(0,mt.jsx)(R_,{message:"",onOk:()=>{p(!1),l("/FeedBack/ManageFeedBack")}}),m&&(0,mt.jsx)(A_,{message:"Feedback updated successfully",onClose:()=>g(!1)})]})},cx=()=>{const{currentUser:e,addingStaff:n}=Be((e=>e.user)),r=Xe(),[i,s]=(0,t.useState)(!0),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[d,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!0),[g,v]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1);return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{s(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(i?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Add New Student"}),(0,mt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v(!0)},children:[(0,mt.jsx)("label",{children:"Email:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"email",value:a,onChange:e=>o(e.target.value),required:!0}),(0,mt.jsx)("label",{children:"Name:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"text",value:u,onChange:e=>h(e.target.value),required:!0}),(0,mt.jsx)("label",{children:"Password:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"password",value:l,onChange:e=>c(e.target.value),required:!0}),(0,mt.jsx)("label",{children:"Confirm Password:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"password",value:d,onChange:e=>{f(e.target.value),m(e.target.value===l)},required:!0}),!p&&(0,mt.jsx)("p",{style:{color:"red"},children:"Passwords do not match"}),(0,mt.jsx)("button",{type:"submit",disabled:n||!p,children:n?"Adding...":"Add Student"})]})]})}),g&&(0,mt.jsx)(j_,{message:"Are you sure you want to Add new Student?",onConfirm:e=>{if(e.preventDefault(),l!==d)return void m(!1);/^[\w-]+(\.[\w-]+)*@uniq\.edu\.iq$/.test(a)?u.length<2?alert("Name must be at least 2 characters long"):l.length<9?alert("Password must be at least 9 characters or more"):(r(c_(a,u,l)),v(!1),w(!0),o(""),h(""),c(""),f("")):alert("Please enter a valid email ending with @uniq.edu.iq")},onCancel:()=>{v(!1)}}),y&&(0,mt.jsx)(A_,{message:"New student Added successfully",onClose:()=>w(!1)})]})},ux=()=>{const{currentUser:e,addingStaff:n}=Be((e=>e.user)),r=Xe(),[i,s]=(0,t.useState)(!0),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[d,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(""),[y,w]=(0,t.useState)(!0),[b,_]=(0,t.useState)(!1),[x,E]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[C,T]=(0,t.useState)(!1);return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{s(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(i?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Add New Teacher"}),(0,mt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),_(!0)},children:[(0,mt.jsx)("label",{children:"Email:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"email",value:a,onChange:e=>o(e.target.value),required:!0}),(0,mt.jsx)("label",{children:"Name:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"text",value:l,onChange:e=>c(e.target.value),required:!0}),(0,mt.jsx)("label",{children:"Scientific Title:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"text",value:u,onChange:e=>h(e.target.value),required:!0}),(0,mt.jsx)("label",{children:"Department:"}),(0,mt.jsxs)("select",{style:{width:"100%"},id:"department",name:"department",value:d,onChange:e=>f(e.target.value),required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Select department"}),(0,mt.jsx)("option",{value:"SE",children:"SE"}),(0,mt.jsx)("option",{value:"NT",children:"NT"}),(0,mt.jsx)("option",{value:"IT",children:"IT"})]}),(0,mt.jsx)("label",{children:"Password:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"password",value:p,onChange:e=>m(e.target.value),required:!0}),(0,mt.jsx)("label",{children:"Confirm Password:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"password",value:g,onChange:e=>{v(e.target.value),w(e.target.value===p)},required:!0}),!y&&(0,mt.jsx)("p",{style:{color:"red"},children:"Passwords do not match"}),(0,mt.jsx)("button",{type:"submit",disabled:n||!y,children:n?"Adding...":"Add Teacher"}),S&&(0,mt.jsx)("p",{style:{color:"green"},children:"Teacher added successfully!"}),C&&(0,mt.jsx)("p",{style:{color:"red"},children:"Error adding new teacher"})]})]})}),b&&(0,mt.jsx)(j_,{message:"Are you sure you want to Add new Teacher?",onConfirm:e=>{if(e.preventDefault(),p!==g)return void w(!1);if(/^[\w-]+(\.[\w-]+)*@uniq\.edu\.iq$/.test(a))if(l.length<2)alert("Name must be at least 2 characters long");else if(p.length<9)alert("Password must be at least 9 characters or more");else try{r(u_(a,l,u,d,p)),_(!1),E(!0),o(""),c(""),h(""),f(""),m(""),v("")}catch(t){console.error("Error adding new teacher:",t),_(!1),T(!0)}else alert("Please enter a valid email ending with @uniq.edu.iq")},onCancel:()=>{_(!1)}}),x&&(0,mt.jsx)(A_,{message:"New teacher Added successfully",onClose:()=>E(!1)})]})},hx=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!0),u=Z(),h=e=>{r(e)};(0,t.useEffect)((()=>{(async()=>{try{const e=Ky(sy(Jb,"Events"),Qy("type","==","Workshop")),t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));s(t)}catch(e){console.error("Error fetching Workshops:",e)}})(),c(!1)}),[]);const d=i.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())));return l?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:h}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:h}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Manage Workshop"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search workshops",value:a,onChange:e=>o(e.target.value)}),(0,mt.jsx)("div",{className:"presentation-container",children:d.map((e=>(0,mt.jsxs)("div",{className:"presentation-rectangle",onClick:()=>{u("/Events/ManageEvents/ManageWorkShop/EditEvent/".concat(e.id))},children:[e.image&&(0,mt.jsx)("img",{src:e.image,alt:"Workshop"}),(0,mt.jsx)("p",{className:"presentation-title",children:e.title}),(0,mt.jsxs)("p",{children:["Date: ",e.date]})]},e.id)))})]})})]})},dx=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!0),u=Z(),h=e=>{r(e)};(0,t.useEffect)((()=>{(async()=>{try{const e=Ky(sy(Jb,"Events"),Qy("type","==","Other")),t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));s(t)}catch(e){console.error("Error fetching OtherEvents:",e)}})(),c(!1)}),[]);const d=i.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())));return l?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:h}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:h}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Manage Other Events"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search other events",value:a,onChange:e=>o(e.target.value)}),(0,mt.jsx)("div",{className:"presentation-container",children:d.map((e=>(0,mt.jsxs)("div",{className:"presentation-rectangle",onClick:()=>{u("/Events/ManageEvents/ManageOtherEvent/EditEvent/".concat(e.id))},children:[e.image&&(0,mt.jsx)("img",{src:e.image,alt:"Presentation"}),(0,mt.jsx)("p",{className:"presentation-title",children:e.title}),(0,mt.jsxs)("p",{children:["Date: ",e.date]})]},e.id)))})]})})]})},fx=e=>{let{children:n}=e;const{currentUser:r}=Be((e=>e.user)),[i,s]=(0,t.useState)(!0),[a,o]=(0,t.useState)(!1),l=Z();return(0,t.useEffect)((()=>{(async()=>{if(r){const e=ay(Jb,"student",r.uid);(await aw(e)).exists()&&o(!0),s(!1)}})()}),[r]),i?(0,mt.jsx)(v_,{}):a?n:(l("/"),null)},px=[{title:"Student Events",icon:(0,mt.jsx)(lt,{}),link:"/Student/Events"},{title:"Feedback",icon:(0,mt.jsx)(ft,{}),link:"/FeedbackList"},{title:"Calendar",icon:(0,mt.jsx)(S_,{}),link:"/Calendar"},{title:"My Events",icon:(0,mt.jsx)(ct,{}),link:"/MyEvents"}],mx=()=>{const{currentUser:e}=Be((e=>e.user)),n=Xe(),[r,i]=(0,t.useState)(null),[s,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),c=Z();(0,t.useEffect)((()=>{e&&(async()=>{try{const t=ay(Jb,"student",e.uid),n=await aw(t);if(n.exists()){const e=n.data();i(e.image)}}catch(t){console.error("Error fetching user image:",t)}})()}),[e]);return(0,t.useEffect)((()=>{const e=px.find((e=>e.link===window.location.pathname));l(e?e.title:"")}),[window.location.pathname]),(0,mt.jsxs)("div",{className:"TopBar",children:[(0,mt.jsx)("div",{className:"TopBarEmail",children:(0,mt.jsx)("img",{className:"Top-Bar-Logo",onClick:()=>c("/Student/Events"),src:d_})}),(0,mt.jsx)("h5",{className:"User-email",children:e&&e.email}),(0,mt.jsxs)("div",{className:"dropdown",children:[(0,mt.jsx)("img",{src:r,alt:"User",className:"userImage",onClick:()=>{a(!s)}}),s&&(0,mt.jsxs)("div",{className:"dropdown-content",children:[(0,mt.jsx)("button",{className:"logoutButton",onClick:()=>{c("/StudentProfile")},children:"Profile"}),(0,mt.jsx)("button",{className:"logoutButton",onClick:()=>{e&&(n(a_()),window.location.reload())},children:"Logout"})]})]})]})};const gx=function(e){let{onToggleMinimized:n}=e;const[r,i]=(0,t.useState)(!0),s=Z();return(0,mt.jsx)("div",{className:"SideBarComponent ".concat(r?"minimized":""),children:(0,mt.jsxs)("div",{className:"SideBar",children:[(0,mt.jsx)("div",{className:"toggleButton",onClick:()=>{i(!r),n(!r)},children:r?(0,mt.jsx)(ut,{}):(0,mt.jsx)(ht,{})}),(0,mt.jsx)("ul",{className:"SideBarList",children:px.map(((e,t)=>(0,mt.jsxs)("li",{className:"row",id:window.location.pathname===e.link?"active":"",onClick:()=>{return t=e.link,void s(t);var t},title:e.title,children:[(0,mt.jsx)("div",{className:"icon",children:e.icon}),(0,mt.jsx)("div",{className:"title",children:e.title})]},t)))})]})})},vx=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[d,f]=(0,t.useState)(!0),p=Z();(0,t.useEffect)((()=>{(async()=>{try{let e=sy(Jb,"Events");e=Ky(e,Qy("status","==","open")),""!==a&&(e=Ky(e,Qy("type","==",a))),""!==l&&(e=Ky(e,Qy("Online","==",l)));const t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));t.sort(((e,t)=>{const n=new Date(e.date).getTime();return new Date(t.date).getTime()-n})),s(t),f(!1)}catch(e){console.error("Error fetching OtherEvents:",e)}})()}),[a,l]);const m=i.filter((e=>e.title.toLowerCase().includes(u.toLowerCase())));return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(mx,{}),(0,mt.jsx)(gx,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Current Events"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search by title",value:u,onChange:e=>{h(e.target.value)}}),(0,mt.jsxs)("select",{value:a,onChange:e=>o(e.target.value),children:[(0,mt.jsx)("option",{value:"",children:"All Types"}),(0,mt.jsx)("option",{value:"Seminar",children:"Seminar"}),(0,mt.jsx)("option",{value:"Presentation",children:"Presentation"}),(0,mt.jsx)("option",{value:"Workshop",children:"Workshop"}),(0,mt.jsx)("option",{value:"Other",children:"Other"})]}),(0,mt.jsxs)("select",{value:l,onChange:e=>c(e.target.value),children:[(0,mt.jsx)("option",{value:"",children:"Event Status"}),(0,mt.jsx)("option",{value:"yes",children:"Online"}),(0,mt.jsx)("option",{value:"no",children:"Offline"}),(0,mt.jsx)("option",{value:"both",children:"Both"})]}),d?(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})}):(0,mt.jsx)("div",{className:"presentation-container",children:m.map((e=>(0,mt.jsxs)("div",{className:"presentation-rectangle",onClick:()=>{p("/Student/Events/register/".concat(e.id))},children:[e.image&&(0,mt.jsx)("img",{src:e.image,alt:"Presentation"}),(0,mt.jsx)("p",{className:"presentation-title",children:e.title}),(0,mt.jsxs)("p",{children:["Date: ",e.date]})]},e.id)))})]})})]})};class yx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const wx={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},bx=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},_x=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await fetch(wx.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),s=new yx(r.status,i);if(r.ok)return s;throw s},xx=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Ex=e=>e.webdriver||!e.languages||0===e.languages.length,Sx=()=>new yx(451,"Unavailable For Headless Browser"),kx=(e,t)=>{if((e=>{var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=(r=t,i=e.watchVariable,r instanceof FormData?r.get(i):r[i]);var r,i;return"string"===typeof n&&e.list.includes(n)},Cx=()=>new yx(403,"Forbidden"),Tx=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a string"})(t.throttle,t.id);const r=t.id||e,i=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return i>0||(await n.set(r,Date.now().toString()),!1)},Nx=()=>new yx(429,"Too Many Requests"),Ix=async(e,t,n,r)=>{const i=bx(r),s=i.publicKey||wx.publicKey,a=i.blockHeadless||wx.blockHeadless,o=wx.storageProvider||i.storageProvider,l={...wx.blockList,...i.blockList},c={...wx.limitRate,...i.limitRate};if(a&&Ex(navigator))return Promise.reject(Sx());if(xx(s,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&kx(l,n))return Promise.reject(Cx());if(await Tx(location.pathname,c,o))return Promise.reject(Nx());const u={lib_version:"4.3.3",user_id:s,service_id:e,template_id:t,template_params:n};return _x("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})},jx=()=>{const{currentUser:e}=Be((e=>e.user)),n=Xe(),[r,i]=(0,t.useState)(!0),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!1),{id:f}=ee(),p=(new Date).toISOString().split("T")[0];(0,t.useEffect)((()=>{const t=fw(ay(Jb,"Events",f),(t=>{if(t.exists()){const n=t.data();a(n);const r=n.participate?n.participate.length:0,i=n.seats-r;a((e=>({...e,remainingSeats:i>=0?i:0}))),n.participate&&n.participate.some((t=>t.uid===e.uid))&&l(!0)}else console.error("Event details not found")}));return()=>t()}),[f,e.uid]);const m=()=>{u(!1)},g=()=>{const t={to_UserEmail:e.email,eventTitle:s.title,eventDate:s.date,eventTime:s.time,Link:s.link};Ix("service_oywqbyq","template_r4cda4s",t,"Lgp_Rh_rBI6z6Ozbi").then((e=>{console.log("Email sent successfully:",e)})).catch((e=>{console.error("Error sending email:",e)}))},v=s&&p>s.enddate;return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(mx,{}),(0,mt.jsx)(gx,{onToggleMinimized:e=>{i(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(r?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Register for Event"}),s?(0,mt.jsxs)(mt.Fragment,{children:[s.image&&(0,mt.jsx)("img",{className:"EventImage",src:s.image,alt:"Presentation"}),o&&s.link&&""!==s.link.trim()?(0,mt.jsx)(ix,{onClick:()=>{window.open(s.link,"_blank")},className:"StudentEventQrCode",alt:"Download the QR code",value:"".concat(s.link),width:200,height:200}):(0,mt.jsx)("br",{}),(0,mt.jsxs)("div",{className:"event-details",children:[(0,mt.jsx)("h3",{className:"event-title",children:s.title}),(0,mt.jsxs)("div",{className:"event-details-1",children:[(0,mt.jsxs)("p",{children:["\xa0\xa0",(0,mt.jsx)("strong",{children:"Date: "}),s.date," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Time: "}),s.time," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Available Seats:"})," ",s.seats," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Presenter: "}),s.presenters&&s.presenters.length>0?s.presenters.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(", "):"None"," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Venue:"})," ",""===s.venue?"none":s.venue," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Faculty:"})," ",s.Faculty," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Remaining Seats:"})," ",s.remainingSeats," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Is event online:"})," ","both"===s.Online?"Online and Offline":s.Online," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Description:"})," ",s.description," \xa0\xa0"]})]}),(0,mt.jsx)("br",{}),(0,mt.jsxs)("p",{style:{color:"red"},children:["Please be aware that the event will no longer be available to register after: ",s.enddate," 11:59 PM"]}),o&&s.link&&""!==s.link.trim()?(0,mt.jsx)("p",{style:{color:"#e4b500"},children:"If you can't scan the Qr Code, please click on the QR Code"}):(0,mt.jsx)("br",{}),(0,mt.jsx)("br",{}),o?(0,mt.jsx)("button",{disabled:!0,children:"You are already registered for this event."}):0===s.remainingSeats?(0,mt.jsx)("button",{disabled:!0,children:"No remaining seats"}):v?(0,mt.jsx)("button",{disabled:!0,children:"The event date has passed"}):(0,mt.jsx)("button",{onClick:()=>{u(!0)},disabled:o||"close"===s.status,children:"Register"})]})]}):(0,mt.jsx)("p",{children:"Loading event details..."})]})}),c&&(0,mt.jsx)(j_,{message:"Are you sure you want to register for this event?",onConfirm:s.remainingSeats>0?async()=>{try{ay(Jb,"Events",f);s.remainingSeats>0?(n(((e,t)=>async n=>{n({type:"REGISTER_EVENT_REQUEST"});try{const r=ay(Jb,"Events",e);await uw(r,{participate:gw({email:t.email,uid:t.uid})}),n({type:"REGISTER_EVENT_SUCCESS"})}catch(r){n((e=>({type:"REGISTER_EVENT_FAILURE",payload:e}))(r.message))}})(f,e)),g(),console.log("Registration successful"),l(!0),u(!1),d(!0)):m()}catch(t){console.error("Error registering for event:",t)}}:m,onCancel:m}),h&&(0,mt.jsx)(A_,{message:"You have registered successfully.",onClose:()=>d(!1)})]})},Ax=()=>{const{currentUser:e}=Be((e=>e.user)),{id:n}=(Xe(),ee()),[r,i]=(0,t.useState)(!0),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{try{const e=ay(Jb,"Events",n),t=await aw(e);if(t.exists()){const e=t.data(),n=e.participate||[],r=e.present||[],i=n.filter((e=>!r.includes(e))),s=n.map((async e=>{const t=ay(Jb,"student",e.uid),n=await aw(t);if(n.exists())return{id:e.uid,present:r.includes(e.uid),absent:i.includes(e.uid),...n.data()}}));l(e);const o=await Promise.all(s);a(o.filter((e=>e))),u(!1)}else console.error("Event not found"),u(!1)}catch(e){console.error("Error fetching event data:",e),u(!1)}})()}),[n]);const h=async(e,t,r)=>{try{const i=ay(Jb,"Events",n),o=await aw(i);if(o.exists()){const n=o.data();let i=s.map((n=>n.id===e?t?{...n,[r]:!0,["present"===r?"absent":"present"]:!1}:{...n,[r]:!1}:n));await d(e,t,n,r),a(i)}}catch(i){console.error("Error updating attendance:",i)}},d=async(e,t,r,i)=>{try{const s=ay(Jb,"Events",n),{present:a,absent:o}=r;let l=a,c=o;t?"present"===i?(l=gw(e),c=vw(e)):(c=gw(e),l=vw(e)):"present"===i?l=vw(e):c=vw(e),await uw(s,{present:l,absent:c})}catch(s){console.error("Error updating attendance in Firestore:",s)}};return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{i(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(r?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Student Record Attendance"}),c?(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})}):(0,mt.jsxs)(mt.Fragment,{children:["   ",(0,mt.jsxs)("h3",{className:"event-title",children:["Event title: ",o.title]}),(0,mt.jsx)("div",{className:"RecordAttendanceContainer",children:(0,mt.jsx)("ul",{children:s.map((e=>(0,mt.jsxs)("li",{className:"AttendList",children:[(0,mt.jsx)("img",{src:e.image,alt:"User"}),(0,mt.jsxs)("p",{children:["Email: ",e.email]}),(0,mt.jsxs)("p",{children:["Name: ",e.name]}),(0,mt.jsx)("p",{children:(0,mt.jsxs)("label",{className:"checkbox",children:["Present: \xa0",(0,mt.jsx)("input",{type:"checkbox",onChange:t=>h(e.id,t.target.checked,"present"),checked:e.present})]})}),(0,mt.jsx)("p",{children:(0,mt.jsxs)("label",{className:"checkbox",children:["Absent: \xa0\xa0",(0,mt.jsx)("input",{type:"checkbox",onChange:t=>h(e.id,t.target.checked,"absent"),checked:e.absent})]})})]},e.id)))})})]})]})})]})},Ox=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!0),u=Z(),h=e=>{r(e)};(0,t.useEffect)((()=>{(async()=>{try{const e=Ky(sy(Jb,"Events")),t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));s(t)}catch(e){console.error("Error fetching events:",e)}})(),c(!1)}),[]);const d=i.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())));return l?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:h}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:h}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Student Attendance"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search events",value:a,onChange:e=>o(e.target.value)}),(0,mt.jsx)("div",{className:"presentation-container",children:d.map((e=>(0,mt.jsxs)("div",{className:"presentation-rectangle",onClick:()=>{u("/Events/AttendanceType/Student/".concat(e.id))},children:[e.image&&(0,mt.jsx)("img",{src:e.image,alt:"Event"}),(0,mt.jsx)("p",{className:"presentation-title",children:e.title}),(0,mt.jsxs)("p",{children:["Date: ",e.date]})]},e.id)))})]})})]})},Dx=()=>{const{currentUser:e}=Be((e=>e.user)),n=Xe(),[r,i]=(0,t.useState)(!0),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(0),[m,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)(!1),[w,b]=(0,t.useState)(!1),[_,x]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{try{const t=ay(Jb,"student",e.uid),n=await aw(t);if(n.exists()){const e=n.data();a(e),g(!1)}else console.error("User data not found")}catch(t){console.error("Error fetching user data:",t)}})()}),[e.uid]);const E=e=>{const t=(new Date).getTime()+e.name,n=Hb(Kb(Zb,"student/ProfileImages/"+t),e);d(!0),n.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done"),p(t)}),(e=>{console.error("Error uploading file:",e),d(!1)}),(()=>{Wb(n.snapshot.ref).then((e=>{a((t=>({...t,image:e}))),u(!0),d(!1)}))}))};return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(mx,{}),(0,mt.jsx)(gx,{onToggleMinimized:e=>{i(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsx)("div",{className:"content".concat(r?"minimized":""),children:m?(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})}):(0,mt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b(!0)},children:[(0,mt.jsx)("h2",{children:"Edit Profile"}),s.image&&(0,mt.jsx)("img",{className:"ProfileImage",src:s.image,alt:"User"}),(0,mt.jsx)("label",{children:"Name:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"text",name:"name",value:s.name,onChange:e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n})))}}),(0,mt.jsx)("label",{children:"Image:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=t.type;"image/jpeg"===e||"image/png"===e||"image/gif"===e?(l(t),E(t)):alert("Only JPG, PNG, and GIF file types are allowed.")}}}),(0,mt.jsx)("button",{type:"submit",disabled:h||v,children:v?"Updating...":"Update Profile"}),0!==f&&(0,mt.jsxs)("p",{children:["Upload Progress: ",f,"%"]})]})})}),w&&(0,mt.jsx)(j_,{message:"Are you sure you want to add this event?",onConfirm:async t=>{t.preventDefault(),y(!0);try{n(((e,t)=>async n=>{n({type:At});try{const r=ay(Jb,"student",e);await uw(r,t),n({type:Ot})}catch(r){n({type:Dt,payload:r.message})}})(e.uid,s)),console.log("User data updated successfully"),b(!1),x(!0)}catch(r){console.error("Error updating user data:",r),b(!1)}setTimeout((()=>{y(!1)}),1500)},onCancel:()=>{b(!1)}}),_&&(0,mt.jsx)(A_,{message:"Updated successfully",onClose:()=>x(!1)})]})},Rx=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!0),u=e=>{r(e)};(0,t.useEffect)((()=>{(async()=>{try{const e=sy(Jb,"feedback");let t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));t.sort(((e,t)=>new Date(t.date)-new Date(e.date))),s(t)}catch(e){console.error("Error fetching feedback:",e)}})(),c(!1)}),[]);const h=i.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())));return l?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(mx,{}),(0,mt.jsx)(gx,{onToggleMinimized:u}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(mx,{}),(0,mt.jsx)(gx,{onToggleMinimized:u}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h1",{children:"Manage Feedback"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search by title",value:a,onChange:e=>{o(e.target.value)}}),(0,mt.jsx)("div",{className:"feedback-container",children:h.map(((e,t)=>(0,mt.jsx)(ke,{to:"/FeedbackList/GiveFeedback/".concat(e.id),className:"feedback-link",children:(0,mt.jsxs)("div",{className:"feedback-item",children:[(0,mt.jsx)("img",{src:e.image}),(0,mt.jsx)("p",{className:"feedback-title",children:e.title})]})},t)))})]})})]})},Px=e=>{let{match:n}=e;const{currentUser:r}=Be((e=>e.user)),[i,s]=(Xe(),(0,t.useState)(!0)),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)([]),[u,h]=(0,t.useState)(!1),[d,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),{id:g}=ee(),v=(new Date).toISOString().split("T")[0],[y,w]=(0,t.useState)(!0),b=e=>{s(e)};(0,t.useEffect)((()=>{(async()=>{try{const e=ay(Jb,"feedback",g),t=await aw(e);if(t.exists()){const e=t.data();if(o(e),e.FeedbackAnswer){-1!==e.FeedbackAnswer.findIndex((e=>e.uid===r.uid))&&h(!0)}const n=e.questions.map((()=>""));c(n)}else console.error("Feedback not found")}catch(e){console.error("Error fetching feedback:",e)}})(),w(!1)}),[g,r.uid]);const _=(e,t)=>{const n=[...l];n[e]=t.target.value,c(n)},x=a&&a.enddate<v;return y?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(mx,{}),(0,mt.jsx)(gx,{onToggleMinimized:b}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(mx,{}),(0,mt.jsx)(gx,{onToggleMinimized:b}),(0,mt.jsx)("div",{className:"content".concat(i?"minimized":""),children:a?(0,mt.jsxs)("div",{children:[(0,mt.jsx)("img",{className:"EventImage",src:a.image}),(0,mt.jsxs)("div",{className:"event-details",children:[(0,mt.jsx)("h1",{className:"event-title",children:a.title}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Date:"})," ",a.date]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Description:"})," ",a.content]}),(0,mt.jsx)("br",{}),u?(0,mt.jsx)("button",{style:{width:"100%"},disabled:!0,children:"You have already answered this feedback."}):(0,mt.jsxs)("form",{onSubmit:e=>{e.preventDefault();for(let t=0;t<a.questions.length;t++)if("multipleChoice"===a.questionTypes[t]){const e=l[t];if(!e||e<1||e>5)return void alert("Please select a rating from 1 to 5 for each Rating question.")}else{const e=l[t];if(!e||e.length<2)return void alert("Q&A questions must have at least 2 characters.")}f(!0)},children:[a.questions.map(((e,t)=>(0,mt.jsxs)("div",{className:"GivefeedbackForm",children:[(0,mt.jsxs)("p",{children:[(0,mt.jsxs)("strong",{children:["Qustions ",t+1,":"]})," ",e," ",(a.questionTypes[t],"")]}),"multipleChoice"===a.questionTypes[t]?(0,mt.jsxs)("select",{className:"feedback-select",value:l[t],onChange:e=>_(t,e),required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Select rating (1-5)"}),[1,2,3,4,5].map((e=>(0,mt.jsx)("option",{value:e,children:e},e)))]}):(0,mt.jsx)("input",{className:"FeebackInput",type:"text",value:l[t],onChange:e=>_(t,e),placeholder:"Your answer",required:!0})]},t))),(0,mt.jsxs)("p",{style:{color:"red"},children:["Please be aware that the feedback will no longer be available to answer after: ",a.enddate," 11:59 PM"]}),(0,mt.jsx)("br",{}),(0,mt.jsx)("button",{disabled:x,type:"submit",children:"Submit"})]})]})]}):(0,mt.jsx)("p",{children:"Loading..."})}),d&&(0,mt.jsx)(j_,{message:"Are you sure you want to submit this feedback?",onConfirm:async e=>{if(e.preventDefault(),a.enddate<v)alert("The feedback submission deadline has passed.");else try{const e=ay(Jb,"feedback",g);await uw(e,{FeedbackAnswer:gw({uid:r.uid,answers:l,questions:a.questions,questionTypes:a.questionTypes})}),console.log("Feedback submitted successfully"),h(!0),f(!1),m(!0)}catch(t){console.error("Error submitting feedback:",t)}},onCancel:()=>{f(!1)}}),p&&(0,mt.jsx)(A_,{message:"Feedback submitedd successfully",onClose:()=>m(!1)})]})},Lx=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!0),u=e=>{r(e)};(0,t.useEffect)((()=>{(async()=>{try{const e=sy(Jb,"feedback"),t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));s(t)}catch(e){console.error("Error fetching feedback:",e)}})(),c(!1)}),[]);const h=i.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())));return l?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:u}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:u}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h1",{children:"Feedbacks"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search feedback",value:a,onChange:e=>o(e.target.value)}),(0,mt.jsx)("div",{className:"feedback-container",children:h.map(((e,t)=>(0,mt.jsx)(ke,{to:"/FeedBack/FeedbackAnswerList/FeedbackUserList/".concat(e.id),className:"feedback-link",children:(0,mt.jsxs)("div",{className:"feedback-item",children:[(0,mt.jsx)("img",{src:e.image}),(0,mt.jsx)("p",{className:"feedback-title",children:e.title})]})},t)))})]})})]})},Mx=e=>e>=4?"good":e>=2.5&&e<4?"meh":"bad",Ux=e=>e>=75?"good":e>=50?"meh":"bad",Fx=e=>{let{questionData:t}=e;return t&&0!==t.length?(0,mt.jsxs)("div",{children:["AVG of Rating Questions.",(0,mt.jsx)("br",{}),(0,mt.jsx)("div",{className:"bar-chart",children:t.map(((e,t)=>{let{questionNumber:n,averageRating:r}=e;const i=Mx(r),s=(r/5*100).toFixed(1),a=Ux(s);return(0,mt.jsxs)("div",{className:"rating ".concat(i),children:[(0,mt.jsxs)("div",{className:"circle",children:[(0,mt.jsx)("div",{className:"bar",style:{"--percentage":s+"%"}}),(0,mt.jsx)("div",{className:"fill ".concat(a)}),(0,mt.jsxs)("div",{className:"percentage",children:[s,"%"]})]}),(0,mt.jsxs)("small",{children:["Question: ",parseInt(n)+1]})]},t)}))})]}):(0,mt.jsx)("div",{})},Bx=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!0),{id:u}=ee();(0,t.useEffect)((()=>{(async()=>{try{const e=ay(Jb,"feedback",u),t=await aw(e);if(t.exists()){const e=t.data();if(e.FeedbackAnswer){o(e.title);const t=await Promise.all(e.FeedbackAnswer.map((async e=>{const t=ay(Jb,"student",e.uid),n=await aw(t);if(n.exists())return{...e,userData:n.data()};console.error("User not found:",e.uid)})));s(t.filter((e=>e)))}}else console.error("Feedback not found")}catch(e){console.error("Error fetching user answers:",e)}finally{c(!1)}})()}),[u]);return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h1",{children:"Feedback User List"}),l?(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})}):(0,mt.jsxs)(mt.Fragment,{children:[" ",(0,mt.jsxs)("h1",{className:"event-title",children:["Title: ",a]}),(0,mt.jsx)("div",{className:"user-answers-container",children:i.length>0?i.map(((e,t)=>(0,mt.jsxs)("div",{className:"user-answer",children:[(0,mt.jsx)("img",{className:"UserFeedbackImage",src:e.userData.image,alt:"User"}),(0,mt.jsxs)("p",{style:{fontWeight:"bold"},children:["Name: ",e.userData.email]}),e.answers&&e.questions&&e.answers.map(((t,n)=>(0,mt.jsxs)("div",{className:"question-answer",children:[(0,mt.jsxs)("p",{children:["Question ",n+1,": ",e.questions[n]]}),(0,mt.jsxs)("p",{children:["Answer ",n+1,": ",t]})]},n)))]},t))):(0,mt.jsx)("p",{children:"No answer yet"})})]}),(0,mt.jsx)("br",{}),(0,mt.jsx)("br",{}),(0,mt.jsx)("div",{className:"bar-chart-container",children:(0,mt.jsx)(Fx,{questionData:(()=>{const e=[],t={},n=[];i.forEach((e=>{e.answers&&e.questionTypes&&e.answers.forEach(((n,r)=>{if("multipleChoice"===e.questionTypes[r]){const e=r.toString();t[e]||(t[e]={total:0,count:0}),t[e].total+=parseInt(n,10),t[e].count++}}))}));for(const r in t){const i=t[r].total/t[r].count;e.push(i),n.push({questionNumber:r,averageRating:i})}return n})()})})]})]})},zx=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),l=e=>{r(e)};return(0,t.useEffect)((()=>{e&&e.uid?(async()=>{try{console.log("Fetching events...");const t=sy(Jb,"Events"),n=(await lw(t)).docs.map((e=>({id:e.id,...e.data()}))),r=n.filter((t=>Array.isArray(t.participate)&&t.participate.some((t=>t.uid===e.uid))));r.sort(((e,t)=>{const n=new Date(e.date).getTime();return new Date(t.date).getTime()-n})),console.log("Fetched events:",r),s(r)}catch(t){console.error("Error fetching events:",t)}})():console.log("User UID not available."),o(!1)}),[e]),a?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(mx,{}),(0,mt.jsx)(gx,{onToggleMinimized:l}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(mx,{}),(0,mt.jsx)(gx,{onToggleMinimized:l}),(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h1",{children:"Registered Events"}),0===i.length?(0,mt.jsx)("p",{children:"You did not participate in any event yet."}):(0,mt.jsx)("div",{className:"presentation-container",children:i.map((e=>(0,mt.jsxs)("div",{className:"My-presentation-rectangle",children:[e.image&&(0,mt.jsx)("img",{src:e.image,alt:"Presentation"}),(0,mt.jsx)("p",{className:"presentation-title",children:e.title}),(0,mt.jsxs)("p",{children:["Date: ",e.date]})]},e.id)))})]})]})},Vx=()=>{const e=Xe(),[n,r]=(0,t.useState)(""),[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(!1);return(0,mt.jsx)("div",{className:"login-container",children:(0,mt.jsxs)("div",{id:"login-form",children:[(0,mt.jsx)("h2",{children:"Forget Password"}),(0,mt.jsxs)("form",{className:"form-signin",onSubmit:async t=>{t.preventDefault();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))return s("Please enter a valid email address."),void o(!0);if(!n.endsWith("@uniq.edu.iq"))return s("Please enter a valid UNIQ email address ending with @uniq.edu.iq."),void o(!0);try{e(h_(n)),s("Password reset email sent. Please check your email."),o(!1)}catch(a){s("Error sending password reset email. Please try again."),o(!0),console.error("Error sending password reset email:",a)}},children:[(0,mt.jsxs)("label",{children:["Email:",(0,mt.jsx)("input",{type:"email",value:n,onChange:e=>{r(e.target.value),o(!1)},required:!0})]}),(0,mt.jsx)("button",{type:"submit",children:"Reset Password"})]}),i&&(0,mt.jsx)("p",{className:a?"error":"",children:i}),(0,mt.jsx)("div",{className:"forgot-password",children:(0,mt.jsx)("a",{style:{marginLeft:"5%"},href:"/",children:"Go Back"})})]})})},qx=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),i=Z();return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsx)("div",{className:"content".concat(n?"minimized":""),children:(0,mt.jsxs)("div",{className:"container",children:[(0,mt.jsxs)("div",{className:"rectangle olive",onClick:()=>{i("/Events/AttendanceType/Student")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Student Attendance "})]}),(0,mt.jsxs)("div",{className:"rectangle blue",onClick:()=>{i("/Events/AttendanceType/Lecturer")},children:[(0,mt.jsx)("div",{className:"color-box"}),(0,mt.jsx)("div",{className:"text",children:"Lecturer Attendance"})]})]})})})]})},Hx=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),u=Z(),[h,d]=(0,t.useState)(!0),f=e=>{r(e)};(0,t.useEffect)((()=>{(async()=>{try{let e=Ky(sy(Jb,"Events"));l&&(e=Ky(sy(Jb,"Events"),Qy("Faculty","==",l)));const t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));s(t)}catch(e){console.error("Error fetching events:",e)}})(),d(!1)}),[l]);const p=i.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())));return h?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:f}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:f}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Lecturer Attendance"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search events",value:a,onChange:e=>o(e.target.value)}),(0,mt.jsxs)("select",{value:l,onChange:e=>c(e.target.value),children:[(0,mt.jsx)("option",{value:"",children:"All Faculty"}),(0,mt.jsx)("option",{value:"Faculty of Dentistry",children:"Faculty of Dentistry"}),(0,mt.jsx)("option",{value:"Faculty of Pharmacy",children:"Faculty of Pharmacy"}),(0,mt.jsx)("option",{value:"Faculty of Engineering & Computer Science",children:"Faculty of Engineering & Computer Science"}),(0,mt.jsx)("option",{value:"Faculty of Health Sciences",children:"Faculty of Health Sciences"}),(0,mt.jsx)("option",{value:"Faculty of Management and Social Sciences",children:"Faculty of Management and Social Sciences"})]}),(0,mt.jsx)("div",{className:"presentation-container",children:p.map((e=>(0,mt.jsxs)("div",{className:"presentation-rectangle",onClick:()=>{u("/Events/AttendanceType/Lecturer/".concat(e.id))},children:[e.image&&(0,mt.jsx)("img",{src:e.image,alt:"Event"}),(0,mt.jsx)("p",{className:"presentation-title",children:e.title}),(0,mt.jsxs)("p",{children:["Date: ",e.date]})]},e.id)))})]})})]})},Wx=()=>{const{currentUser:e}=Be((e=>e.user)),{id:n}=(Xe(),ee()),[r,i]=(0,t.useState)(!0),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[h,d]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{try{const e=sy(Jb,"teacher"),t=(await lw(e)).docs.map((e=>e.id)),r=ay(Jb,"Events",n);await uw(r,{Lparticipate:t});const i=await aw(r);if(i.exists()){const e=i.data(),t=e.Lparticipate||[],n=e.presenting||[],r=e.attending||[],s=t.map((async e=>{const t=ay(Jb,"teacher",e),i=await aw(t);if(i.exists()){const t=i.data();return{id:e,presenting:n.includes(e),attending:r.includes(e),...t}}}));l(e);const o=await Promise.all(s);a(o.filter((e=>e))),u(!1)}else console.error("Event not found"),u(!1)}catch(e){console.error("Error fetching event data:",e),u(!1)}})()}),[n]),(0,t.useEffect)((()=>{(async()=>{try{let e=sy(Jb,"teacher");h&&(e=Ky(e,Qy("department","==",h)));const t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));a(t),u(!1)}catch(e){console.error("Error fetching teachers by department:",e),u(!1)}})()}),[h]);const f=async(e,t,r)=>{try{const i=ay(Jb,"Events",n),o=await aw(i);if(o.exists()){const n=o.data();let i=s.map((n=>n.id===e?t?{...n,[r]:!0,["presenting"===r?"attending":"presenting"]:!1}:{...n,[r]:!1}:n));await p(e,t,n,r),a(i)}}catch(i){console.error("Error updating attendance:",i)}},p=async(e,t,r,i)=>{try{const s=ay(Jb,"Events",n),{presenting:a,attending:o}=r;let l=a,c=o;t?"presenting"===i?(l=gw(e),c=vw(e)):(c=gw(e),l=vw(e)):"presenting"===i?l=vw(e):c=vw(e),await uw(s,{presenting:l,attending:c})}catch(s){console.error("Error updating attendance in Firestore:",s)}};return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{i(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(r?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Lecturer Record Attendance"}),(0,mt.jsx)("br",{}),(0,mt.jsxs)("select",{value:null===h?"":h,onChange:e=>d(e.target.value),children:[(0,mt.jsx)("option",{value:"",children:"All Department"}),(0,mt.jsx)("option",{value:"SE",children:"SE"}),(0,mt.jsx)("option",{value:"NT",children:"NT"}),(0,mt.jsx)("option",{value:"IT",children:"IT"})]}),c?(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})}):(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsxs)("h3",{className:"event-title",children:["Event title: ",o.title]}),(0,mt.jsx)("div",{className:"RecordAttendanceContainer",children:(0,mt.jsx)("ul",{children:s.map((e=>(0,mt.jsxs)("li",{className:"AttendList",children:[(0,mt.jsx)("img",{src:e.image,alt:"User"}),(0,mt.jsxs)("p",{children:["Email: ",e.email]}),(0,mt.jsxs)("p",{children:["Name: ",e.name]}),(0,mt.jsx)("p",{children:(0,mt.jsxs)("label",{className:"checkbox",children:["Presenting: \xa0",(0,mt.jsx)("input",{type:"checkbox",onChange:t=>f(e.id,t.target.checked,"presenting"),checked:e.presenting})]})}),(0,mt.jsx)("p",{children:(0,mt.jsxs)("label",{className:"checkbox",children:["Attending: \xa0\xa0",(0,mt.jsx)("input",{type:"checkbox",onChange:t=>f(e.id,t.target.checked,"attending"),checked:e.attending})]})})]},e.id)))})})]})]})})]})};var Kx=n(1942);function Gx(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Gx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Qx=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Gx(e))&&(r&&(r+=" "),r+=t);return r};var Yx=n(1712);function Xx(e){return JSON.stringify(e)}function $x(e){return"string"===typeof e}function Jx(e,t,n){return n.indexOf(e)===t}function Zx(e){return-1===e.indexOf(",")?e:e.split(",")}function eE(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return eE(void 0===t?"":t)}if(-1!==e.indexOf("@")){var n=e.split("@")[0];return eE(void 0===n?"":n)}if(-1===e.indexOf("-")||(r=e).toLowerCase()!==r)return e;var r,i=e.split("-"),s=i[0],a=i[1],o=void 0===a?"":a;return"".concat(s,"-").concat(o.toUpperCase())}var tE=Yx((function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=void 0===n||n,i=t.fallbackLocale,s=void 0===i?"en-US":i,a=[];if("undefined"!==typeof navigator){for(var o=[],l=0,c=navigator.languages||[];l<c.length;l++){var u=c[l];o=o.concat(Zx(u))}var h=navigator.language,d=h?Zx(h):h;a=a.concat(o,d)}return r&&a.push(s),a.filter($x).map(eE).filter(Jx)}),Xx);var nE=Yx((function(e){return tE(e)[0]||null}),Xx);const rE=nE;function iE(e,t,n){return function(r,i){void 0===i&&(i=n);var s=e(r)+i;return t(s)}}function sE(e){return function(t){return new Date(e(t).getTime()-1)}}function aE(e,t){return function(n){return[e(n),t(n)]}}function oE(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function lE(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function cE(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function uE(e){var t=oE(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var hE=iE(oE,uE,-100),dE=iE(oE,uE,100),fE=sE(dE),pE=iE(oE,fE,-100),mE=(iE(oE,fE,100),aE(uE,fE));function gE(e){var t=oE(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var vE=iE(oE,gE,-10),yE=iE(oE,gE,10),wE=sE(yE),bE=iE(oE,wE,-10),_E=(iE(oE,wE,10),aE(gE,wE));function xE(e){var t=oE(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var EE=iE(oE,xE,-1),SE=iE(oE,xE,1),kE=sE(SE),CE=iE(oE,kE,-1),TE=(iE(oE,kE,1),aE(xE,kE));function NE(e,t){return function(n,r){void 0===r&&(r=t);var i=oE(n),s=lE(n)+r,a=new Date;return a.setFullYear(i,s,1),a.setHours(0,0,0,0),e(a)}}function IE(e){var t=oE(e),n=lE(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var jE=NE(IE,-1),AE=NE(IE,1),OE=sE(AE),DE=NE(OE,-1),RE=(NE(OE,1),aE(IE,OE));function PE(e,t){return function(n,r){void 0===r&&(r=t);var i=oE(n),s=lE(n),a=cE(n)+r,o=new Date;return o.setFullYear(i,s,a),o.setHours(0,0,0,0),e(o)}}function LE(e){var t=oE(e),n=lE(e),r=cE(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}PE(LE,-1);var ME,UE=sE(PE(LE,1)),FE=(PE(UE,-1),PE(UE,1),aE(LE,UE));function BE(e){return cE(OE(e))}var zE={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},VE={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},qE=((ME={})[zE.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],ME[zE.HEBREW]=["he","he-IL"],ME[zE.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],ME),HE=[0,1,2,3,4,5,6],WE=new Map;function KE(e){return function(t,n){return function(e){return function(t,n){var r=t||rE();WE.has(r)||WE.set(r,new Map);var i=WE.get(r);return i.has(e)||i.set(e,new Intl.DateTimeFormat(r||void 0,e).format),i.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}KE({day:"numeric",month:"numeric",year:"numeric"});var GE=KE({day:"numeric"}),QE=KE({day:"numeric",month:"long",year:"numeric"}),YE=KE({month:"long"}),XE=KE({month:"long",year:"numeric"}),$E=KE({weekday:"short"}),JE=KE({weekday:"long"}),ZE=KE({year:"numeric"}),eS=HE[0],tS=HE[5],nS=HE[6];function rS(e,t){void 0===t&&(t=zE.ISO_8601);var n=e.getDay();switch(t){case zE.ISO_8601:return(n+6)%7;case zE.ISLAMIC:return(n+1)%7;case zE.HEBREW:case zE.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function iS(e,t){void 0===t&&(t=zE.ISO_8601);var n=oE(e),r=lE(e),i=e.getDate()-rS(e,t);return new Date(n,r,i)}function sS(e,t){switch(e){case"century":return uE(t);case"decade":return gE(t);case"year":return xE(t);case"month":return IE(t);case"day":return LE(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function aS(e,t){switch(e){case"century":return dE(t);case"decade":return yE(t);case"year":return SE(t);case"month":return AE(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function oS(e,t){switch(e){case"century":return fE(t);case"decade":return wE(t);case"year":return kE(t);case"month":return OE(t);case"day":return UE(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function lS(e,t){switch(e){case"century":return mE(t);case"decade":return _E(t);case"year":return TE(t);case"month":return RE(t);case"day":return FE(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function cS(e,t,n){return void 0===t&&(t=ZE),n.map((function(n){return t(e,n)})).join(" \u2013 ")}function uS(e,t,n){return cS(e,t,_E(n))}function hS(e,t){void 0===t&&(t=zE.ISO_8601);var n=e.getDay();switch(t){case zE.ISLAMIC:case zE.HEBREW:return n===tS||n===nS;case zE.ISO_8601:case zE.GREGORY:return n===nS||n===eS;default:throw new Error("Unsupported calendar type.")}}var dS="react-calendar__navigation";function fS(e){var n=e.activeStartDate,r=e.drillUp,i=e.formatMonthYear,s=void 0===i?XE:i,a=e.formatYear,o=void 0===a?ZE:a,l=e.locale,c=e.maxDate,u=e.minDate,h=e.navigationAriaLabel,d=void 0===h?"":h,f=e.navigationAriaLive,p=e.navigationLabel,m=e.next2AriaLabel,g=void 0===m?"":m,v=e.next2Label,y=void 0===v?"\xbb":v,w=e.nextAriaLabel,b=void 0===w?"":w,_=e.nextLabel,x=void 0===_?"\u203a":_,E=e.prev2AriaLabel,S=void 0===E?"":E,k=e.prev2Label,C=void 0===k?"\xab":k,T=e.prevAriaLabel,N=void 0===T?"":T,I=e.prevLabel,j=void 0===I?"\u2039":I,A=e.setActiveStartDate,O=e.showDoubleView,D=e.view,R=e.views.indexOf(D)>0,P="century"!==D,L=function(e,t){switch(e){case"century":return hE(t);case"decade":return vE(t);case"year":return EE(t);case"month":return jE(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n),M=P?function(e,t){switch(e){case"decade":return vE(t,-100);case"year":return EE(t,-10);case"month":return jE(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n):void 0,U=aS(D,n),F=P?function(e,t){switch(e){case"decade":return yE(t,100);case"year":return SE(t,10);case"month":return AE(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n):void 0,B=function(){if(L.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return pE(t);case"decade":return bE(t);case"year":return CE(t);case"month":return DE(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n);return u&&u>=e}(),z=P&&function(){if(M.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return bE(t,-100);case"year":return CE(t,-10);case"month":return DE(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n);return u&&u>=e}(),V=c&&c<U,q=P&&c&&c<F;function H(e){var t=function(){switch(D){case"century":return function(e,t,n){return cS(e,t,mE(n))}(l,o,e);case"decade":return uS(l,o,e);case"year":return o(l,e);case"month":return s(l,e);default:throw new Error("Invalid view: ".concat(D,"."))}}();return p?p({date:e,label:t,locale:l||nE()||void 0,view:D}):t}return t.createElement("div",{className:dS},null!==C&&P?t.createElement("button",{"aria-label":S,className:"".concat(dS,"__arrow ").concat(dS,"__prev2-button"),disabled:z,onClick:function(){A(M,"prev2")},type:"button"},C):null,null!==j&&t.createElement("button",{"aria-label":N,className:"".concat(dS,"__arrow ").concat(dS,"__prev-button"),disabled:B,onClick:function(){A(L,"prev")},type:"button"},j),function(){var e="".concat(dS,"__label");return t.createElement("button",{"aria-label":d,"aria-live":f,className:e,disabled:!R,onClick:r,style:{flexGrow:1},type:"button"},t.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from")},H(n)),O?t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(e,"__divider")}," \u2013 "),t.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to")},H(U))):null)}(),null!==x&&t.createElement("button",{"aria-label":b,className:"".concat(dS,"__arrow ").concat(dS,"__next-button"),disabled:V,onClick:function(){A(U,"next")},type:"button"},x),null!==y&&P?t.createElement("button",{"aria-label":g,className:"".concat(dS,"__arrow ").concat(dS,"__next2-button"),disabled:q,onClick:function(){A(F,"next2")},type:"button"},y):null)}var pS=function(){return pS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pS.apply(this,arguments)},mS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function gS(e){return"".concat(e,"%")}function vS(e){var n=e.children,r=e.className,i=e.count,s=e.direction,a=e.offset,o=e.style,l=e.wrap,c=mS(e,["children","className","count","direction","offset","style","wrap"]);return t.createElement("div",pS({className:r,style:pS({display:"flex",flexDirection:s,flexWrap:l?"wrap":"nowrap"},o)},c),t.Children.map(n,(function(e,n){var r=a&&0===n?gS(100*a/i):null;return t.cloneElement(e,pS(pS({},e.props),{style:{flexBasis:gS(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:r,marginInlineStart:r,marginInlineEnd:0}}))})))}var yS,wS=n(2241);function bS(e,t){return t[0]<=e&&t[1]>=e}function _S(e,t){return bS(e[0],t)||bS(e[1],t)}function xS(e,t,n){var r=[];if(_S(t,e)){r.push(n);var i=bS(e[0],t),s=bS(e[1],t);i&&r.push("".concat(n,"Start")),s&&r.push("".concat(n,"End")),i&&s&&r.push("".concat(n,"BothEnds"))}return r}function ES(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",s=[i];if(!n)return s;var a=new Date,o=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return lS(t,n)}();if(bS(a,o)&&s.push("".concat(i,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return s;var l,c,u=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return lS(n,t)}();c=o,(l=u)[0]<=c[0]&&l[1]>=c[1]?s.push("".concat(i,"--active")):_S(u,o)&&s.push("".concat(i,"--hasActive"));var h=xS(u,o,"".concat(i,"--range"));s.push.apply(s,h);var d=Array.isArray(t)?t:[t];if(r&&1===d.length){var f=xS(r>u[0]?[u[0],r]:[r,u[0]],o,"".concat(i,"--hover"));s.push.apply(s,f)}return s}var SS=((yS={})[VE.ARABIC]=zE.ISLAMIC,yS[VE.HEBREW]=zE.HEBREW,yS[VE.ISO_8601]=zE.ISO_8601,yS[VE.US]=zE.GREGORY,yS);var kS=!1;function CS(e){if(function(e){return void 0!==e&&e in VE}(e)){var t=SS[e];return wS(kS,'Specifying calendarType="'.concat(e,'" is deprecated. Use calendarType="').concat(t,'" instead.')),kS=!0,t}return e}function TS(e){for(var n=e.className,r=e.count,i=void 0===r?3:r,s=e.dateTransform,a=e.dateType,o=e.end,l=e.hover,c=e.offset,u=e.renderTile,h=e.start,d=e.step,f=void 0===d?1:d,p=e.value,m=e.valueType,g=[],v=h;v<=o;v+=f){var y=s(v);g.push(u({classes:ES({date:y,dateType:a,hover:l,value:p,valueType:m}),date:y}))}return t.createElement(vS,{className:n,count:i,offset:c,wrap:!0},g)}function NS(e){var n=e.activeStartDate,r=e.children,i=e.classes,s=e.date,a=e.formatAbbr,o=e.locale,l=e.maxDate,c=e.maxDateTransform,u=e.minDate,h=e.minDateTransform,d=e.onClick,f=e.onMouseOver,p=e.style,m=e.tileClassName,g=e.tileContent,v=e.tileDisabled,y=e.view,w=(0,t.useMemo)((function(){return"function"===typeof m?m({activeStartDate:n,date:s,view:y}):m}),[n,s,m,y]),b=(0,t.useMemo)((function(){return"function"===typeof g?g({activeStartDate:n,date:s,view:y}):g}),[n,s,g,y]);return t.createElement("button",{className:Qx(i,w),disabled:u&&h(u)>s||l&&c(l)<s||v&&v({activeStartDate:n,date:s,view:y}),onClick:d?function(e){return d(s,e)}:void 0,onFocus:f?function(){return f(s)}:void 0,onMouseOver:f?function(){return f(s)}:void 0,style:p,type:"button"},a?t.createElement("abbr",{"aria-label":a(o,s)},r):r,b)}var IS=function(){return IS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},IS.apply(this,arguments)},jS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},AS="react-calendar__century-view__decades__decade";function OS(e){var n=e.classes,r=void 0===n?[]:n,i=e.currentCentury,s=e.formatYear,a=void 0===s?ZE:s,o=jS(e,["classes","currentCentury","formatYear"]),l=o.date,c=o.locale,u=[];return r&&u.push.apply(u,r),AS&&u.push(AS),uE(l).getFullYear()!==i&&u.push("".concat(AS,"--neighboringCentury")),t.createElement(NS,IS({},o,{classes:u,maxDateTransform:wE,minDateTransform:gE,view:"century"}),uS(c,a,l))}var DS=function(){return DS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},DS.apply(this,arguments)},RS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function PS(e){var n=e.activeStartDate,r=e.hover,i=e.showNeighboringCentury,s=e.value,a=e.valueType,o=RS(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=oE(uE(n)),c=l+(i?119:99);return t.createElement(TS,{className:"react-calendar__century-view__decades",dateTransform:gE,dateType:"decade",end:c,hover:r,renderTile:function(e){var r=e.date,i=RS(e,["date"]);return t.createElement(OS,DS({key:r.getTime()},o,i,{activeStartDate:n,currentCentury:l,date:r}))},start:l,step:10,value:s,valueType:a})}var LS=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},MS=Object.values(zE),US=Object.values(VE),FS=["century","decade","year","month"],BS=Kx.oneOf(LS(LS([],MS,!0),US,!0)),zS=Kx.oneOfType([Kx.string,Kx.arrayOf(Kx.string)]),VS=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.maxDate;return i&&r>i?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},qS=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.minDate;return i&&r<i?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},HS=Kx.oneOfType([Kx.func,Kx.exact({current:Kx.any})]),WS=Kx.arrayOf(Kx.oneOfType([Kx.instanceOf(Date),Kx.oneOf([null])]).isRequired),KS=Kx.oneOfType([Kx.instanceOf(Date),Kx.oneOf([null]),WS]),GS=(Kx.arrayOf(Kx.oneOf(FS)),function(e,t,n){var r=e[t];return void 0===r||"string"===typeof r&&-1!==FS.indexOf(r)?null:new Error("Invalid prop `".concat(t,"` of value `").concat(r,"` supplied to `").concat(n,"`, expected one of [").concat(FS.map((function(e){return'"'.concat(e,'"')})).join(", "),"]."))});GS.isRequired=function(e,t,n,r,i){var s=e[t];return s?GS(e,t,n):new Error("The prop `".concat(t,"` is marked as required in `").concat(n,"`, but its value is `").concat(s,"`."))};var QS={activeStartDate:Kx.instanceOf(Date).isRequired,hover:Kx.instanceOf(Date),locale:Kx.string,maxDate:qS,minDate:VS,onClick:Kx.func,onMouseOver:Kx.func,tileClassName:Kx.oneOfType([Kx.func,zS]),tileContent:Kx.oneOfType([Kx.func,Kx.node]),value:KS,valueType:Kx.oneOf(["century","decade","year","month","day"]).isRequired},YS=(Kx.instanceOf(Date).isRequired,Kx.arrayOf(Kx.string.isRequired).isRequired,Kx.instanceOf(Date).isRequired,Kx.string,Kx.func,Kx.func,Kx.objectOf(Kx.oneOfType([Kx.string,Kx.number])),Kx.oneOfType([Kx.func,zS]),Kx.oneOfType([Kx.func,Kx.node]),Kx.func,function(){return YS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},YS.apply(this,arguments)}),XS=function(e){return t.createElement("div",{className:"react-calendar__century-view"},t.createElement(PS,YS({},e)))};XS.propTypes=YS(YS({},QS),{showNeighboringCentury:Kx.bool});const $S=XS;var JS=function(){return JS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},JS.apply(this,arguments)},ZS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ek="react-calendar__decade-view__years__year";function tk(e){var n=e.classes,r=void 0===n?[]:n,i=e.currentDecade,s=e.formatYear,a=void 0===s?ZE:s,o=ZS(e,["classes","currentDecade","formatYear"]),l=o.date,c=o.locale,u=[];return r&&u.push.apply(u,r),ek&&u.push(ek),gE(l).getFullYear()!==i&&u.push("".concat(ek,"--neighboringDecade")),t.createElement(NS,JS({},o,{classes:u,maxDateTransform:kE,minDateTransform:xE,view:"decade"}),a(c,l))}var nk=function(){return nk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nk.apply(this,arguments)},rk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ik(e){var n=e.activeStartDate,r=e.hover,i=e.showNeighboringDecade,s=e.value,a=e.valueType,o=rk(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=oE(gE(n)),c=l+(i?11:9);return t.createElement(TS,{className:"react-calendar__decade-view__years",dateTransform:xE,dateType:"year",end:c,hover:r,renderTile:function(e){var r=e.date,i=rk(e,["date"]);return t.createElement(tk,nk({key:r.getTime()},o,i,{activeStartDate:n,currentDecade:l,date:r}))},start:l,value:s,valueType:a})}var sk=function(){return sk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sk.apply(this,arguments)},ak=function(e){return t.createElement("div",{className:"react-calendar__decade-view"},t.createElement(ik,sk({},e)))};ak.propTypes=sk(sk({},QS),{showNeighboringDecade:Kx.bool});const ok=ak;var lk=function(){return lk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lk.apply(this,arguments)},ck=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},uk=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},hk="react-calendar__year-view__months__month";function dk(e){var n=e.classes,r=void 0===n?[]:n,i=e.formatMonth,s=void 0===i?YE:i,a=e.formatMonthYear,o=void 0===a?XE:a,l=ck(e,["classes","formatMonth","formatMonthYear"]),c=l.date,u=l.locale;return t.createElement(NS,lk({},l,{classes:uk(uk([],r,!0),[hk],!1),formatAbbr:o,maxDateTransform:OE,minDateTransform:IE,view:"year"}),s(u,c))}var fk=function(){return fk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fk.apply(this,arguments)},pk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function mk(e){var n=e.activeStartDate,r=e.hover,i=e.value,s=e.valueType,a=pk(e,["activeStartDate","hover","value","valueType"]),o=oE(n);return t.createElement(TS,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(o,e,1),IE(t)},dateType:"month",end:11,hover:r,renderTile:function(e){var r=e.date,i=pk(e,["date"]);return t.createElement(dk,fk({key:r.getTime()},a,i,{activeStartDate:n,date:r}))},start:0,value:i,valueType:s})}var gk=function(){return gk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gk.apply(this,arguments)},vk=function(e){return t.createElement("div",{className:"react-calendar__year-view"},t.createElement(mk,gk({},e)))};vk.propTypes=gk({},QS);const yk=vk;var wk=function(){return wk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wk.apply(this,arguments)},bk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_k="react-calendar__month-view__days__day";function xk(e){var n=e.calendarType,r=e.classes,i=void 0===r?[]:r,s=e.currentMonthIndex,a=e.formatDay,o=void 0===a?GE:a,l=e.formatLongDate,c=void 0===l?QE:l,u=bk(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),h=CS(n),d=u.date,f=u.locale,p=[];return i&&p.push.apply(p,i),_k&&p.push(_k),hS(d,h)&&p.push("".concat(_k,"--weekend")),d.getMonth()!==s&&p.push("".concat(_k,"--neighboringMonth")),t.createElement(NS,wk({},u,{classes:p,formatAbbr:c,maxDateTransform:UE,minDateTransform:LE,view:"month"}),o(f,d))}var Ek=function(){return Ek=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ek.apply(this,arguments)},Sk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function kk(e){var n=e.activeStartDate,r=e.calendarType,i=e.hover,s=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,o=e.value,l=e.valueType,c=Sk(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=CS(r),h=oE(n),d=lE(n),f=s||a,p=rS(n,u),m=f?0:p,g=1+(f?-p:0),v=function(){if(s)return g+42-1;var e=BE(n);if(a){var t=new Date;return t.setFullYear(h,d,e),t.setHours(0,0,0,0),e+(7-rS(t,u)-1)}return e}();return t.createElement(TS,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(h,d,e),LE(t)},dateType:"day",hover:i,end:v,renderTile:function(e){var i=e.date,s=Sk(e,["date"]);return t.createElement(xk,Ek({key:i.getTime()},c,s,{activeStartDate:n,calendarType:r,currentMonthIndex:d,date:i}))},offset:m,start:g,value:o,valueType:l})}var Ck="react-calendar__month-view__weekdays",Tk="".concat(Ck,"__weekday");function Nk(e){for(var n,r=e.calendarType,i=e.formatShortWeekday,s=void 0===i?$E:i,a=e.formatWeekday,o=void 0===a?JE:a,l=e.locale,c=e.onMouseLeave,u=CS(r),h=IE(new Date),d=oE(h),f=lE(h),p=[],m=1;m<=7;m+=1){var g=new Date(d,f,m-rS(h,u)),v=o(l,g);p.push(t.createElement("div",{key:m,className:Qx(Tk,(n=g,n.getDay()===(new Date).getDay()&&"".concat(Tk,"--current")),hS(g,u)&&"".concat(Tk,"--weekend"))},t.createElement("abbr",{"aria-label":v,title:v},s(l,g).replace(".",""))))}return t.createElement(vS,{className:Ck,count:7,onFocus:c,onMouseOver:c},p)}var Ik=function(){return Ik=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ik.apply(this,arguments)},jk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ak="react-calendar__tile";function Ok(e){var n=e.onClickWeekNumber,r=e.weekNumber,i=t.createElement("span",null,r);if(n){var s=e.date,a=e.onClickWeekNumber,o=e.weekNumber,l=jk(e,["date","onClickWeekNumber","weekNumber"]);return t.createElement("button",Ik({},l,{className:Ak,onClick:function(e){return a(o,s,e)},type:"button"}),i)}e.date,e.onClickWeekNumber,e.weekNumber,l=jk(e,["date","onClickWeekNumber","weekNumber"]);return t.createElement("div",Ik({},l,{className:Ak}),i)}function Dk(e){var n=e.activeStartDate,r=e.calendarType,i=e.onClickWeekNumber,s=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=CS(r),l=function(){if(a)return 6;var e=BE(n)-(7-rS(n,o));return 1+Math.ceil(e/7)}(),c=function(){for(var e=oE(n),t=lE(n),r=cE(n),i=[],s=0;s<l;s+=1)i.push(iS(new Date(e,t,r+7*s),o));return i}(),u=c.map((function(e){return function(e,t){void 0===t&&(t=zE.ISO_8601);var n,r=t===zE.GREGORY?zE.GREGORY:zE.ISO_8601,i=iS(e,t),s=oE(e)+1;do{n=iS(new Date(s,0,r===zE.ISO_8601?4:1),t),s-=1}while(e<n);return Math.round((i.getTime()-n.getTime())/6048e5)+1}(e,o)}));return t.createElement(vS,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},u.map((function(e,n){var r=c[n];if(!r)throw new Error("date is not defined");return t.createElement(Ok,{key:e,date:r,onClickWeekNumber:i,weekNumber:e})})))}var Rk=function(){return Rk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rk.apply(this,arguments)},Pk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var Lk=function(e){var n=e.activeStartDate,r=e.locale,i=e.onMouseLeave,s=e.showFixedNumberOfWeeks,a=e.calendarType,o=void 0===a?function(e){if(e)for(var t=0,n=Object.entries(qE);t<n.length;t++){var r=n[t],i=r[0];if(r[1].includes(e))return i}return zE.ISO_8601}(r):a,l=e.formatShortWeekday,c=e.formatWeekday,u=e.onClickWeekNumber,h=e.showWeekNumbers,d=Pk(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var f="react-calendar__month-view";return t.createElement("div",{className:Qx(f,h?"".concat(f,"--weekNumbers"):"")},t.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},h?t.createElement(Dk,{activeStartDate:n,calendarType:o,onClickWeekNumber:u,onMouseLeave:i,showFixedNumberOfWeeks:s}):null,t.createElement("div",{style:{flexGrow:1,width:"100%"}},t.createElement(Nk,{calendarType:o,formatShortWeekday:l,formatWeekday:c,locale:r,onMouseLeave:i}),t.createElement(kk,Rk({calendarType:o},d)))))};Lk.propTypes=Rk(Rk({},QS),{calendarType:BS,formatDay:Kx.func,formatLongDate:Kx.func,formatShortWeekday:Kx.func,formatWeekday:Kx.func,onClickWeekNumber:Kx.func,onMouseLeave:Kx.func,showFixedNumberOfWeeks:Kx.bool,showNeighboringMonth:Kx.bool,showWeekNumbers:Kx.bool});const Mk=Lk;var Uk=function(){return Uk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Uk.apply(this,arguments)},Fk="react-calendar",Bk=["century","decade","year","month"],zk=["decade","year","month","day"],Vk=new Date;Vk.setFullYear(1,0,1),Vk.setHours(0,0,0,0);var qk=new Date(864e13);function Hk(e){return e instanceof Date?e:new Date(e)}function Wk(e,t){return Bk.slice(Bk.indexOf(e),Bk.indexOf(t)+1)}function Kk(e,t,n){return e&&function(e,t,n){return-1!==Wk(t,n).indexOf(e)}(e,t,n)?e:n}function Gk(e){var t=Bk.indexOf(e);return zk[t]}function Qk(e,t){var n=e.value,r=e.minDate,i=e.maxDate,s=e.maxDetail,a=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Hk(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!a)return null;var o=Gk(s);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return sS(o,a);case 1:return oS(o,a);default:throw new Error("Invalid index value: ".concat(t))}}(),r,i)}var Yk=function(e){return Qk(e,0)},Xk=function(e){return Qk(e,1)},$k=function(e){return[Yk,Xk].map((function(t){return t(e)}))};function Jk(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,s=e.value;return sS(Kk(e.view,i,n),Yk({value:s,minDate:r,maxDate:t,maxDetail:n})||new Date)}function Zk(e){return e&&(!Array.isArray(e)||1===e.length)}function eC(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var tC,nC=(0,t.forwardRef)((function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,a=e.className,o=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,u=e.formatDay,h=e.formatLongDate,d=e.formatMonth,f=e.formatMonthYear,p=e.formatShortWeekday,m=e.formatWeekday,g=e.formatYear,v=e.goToRangeStartOnSelect,y=void 0===v||v,w=e.inputRef,b=e.locale,_=e.maxDate,x=void 0===_?qk:_,E=e.maxDetail,S=void 0===E?"month":E,k=e.minDate,C=void 0===k?Vk:k,T=e.minDetail,N=void 0===T?"century":T,I=e.navigationAriaLabel,j=e.navigationAriaLive,A=e.navigationLabel,O=e.next2AriaLabel,D=e.next2Label,R=e.nextAriaLabel,P=e.nextLabel,L=e.onActiveStartDateChange,M=e.onChange,U=e.onClickDay,F=e.onClickDecade,B=e.onClickMonth,z=e.onClickWeekNumber,V=e.onClickYear,q=e.onDrillDown,H=e.onDrillUp,W=e.onViewChange,K=e.prev2AriaLabel,G=e.prev2Label,Q=e.prevAriaLabel,Y=e.prevLabel,X=e.returnValue,$=void 0===X?"start":X,J=e.selectRange,Z=e.showDoubleView,ee=e.showFixedNumberOfWeeks,te=e.showNavigation,ne=void 0===te||te,re=e.showNeighboringCentury,ie=e.showNeighboringDecade,se=e.showNeighboringMonth,ae=void 0===se||se,oe=e.showWeekNumbers,le=e.tileClassName,ce=e.tileContent,ue=e.tileDisabled,he=e.value,de=e.view,fe=(0,t.useState)(o),pe=fe[0],me=fe[1],ge=(0,t.useState)(null),ve=ge[0],ye=ge[1],we=(0,t.useState)(Array.isArray(l)?l.map((function(e){return null!==e?Hk(e):null})):null!==l&&void 0!==l?Hk(l):null),be=we[0],_e=we[1],xe=(0,t.useState)(c),Ee=xe[0],Se=xe[1],ke=r||pe||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,s=e.maxDate,a=e.maxDetail,o=e.minDate,l=e.minDetail,c=e.value,u=e.view,h=Kk(u,l,a),d=t||n;return d?sS(h,d):Jk({maxDate:s,maxDetail:a,minDate:o,minDetail:l,value:c||r,view:u||i})}({activeStartDate:r,defaultActiveStartDate:o,defaultValue:l,defaultView:c,maxDate:x,maxDetail:S,minDate:C,minDetail:N,value:he,view:de}),Ce=function(){var e=J&&Zk(be)?be:void 0!==he?he:be;return e?Array.isArray(e)?e.map((function(e){return null!==e?Hk(e):null})):null!==e?Hk(e):null:null}(),Te=Gk(S),Ne=Kk(de||Ee,N,S),Ie=Wk(N,S),je=J?ve:null,Ae=Ie.indexOf(Ne)<Ie.length-1,Oe=Ie.indexOf(Ne)>0,De=(0,t.useCallback)((function(e){return function(){switch($){case"start":return Yk;case"end":return Xk;case"range":return $k;default:throw new Error("Invalid returnValue.")}}()({maxDate:x,maxDetail:S,minDate:C,value:e})}),[x,S,C,$]),Re=(0,t.useCallback)((function(e,t){me(e);var n={action:t,activeStartDate:e,value:Ce,view:Ne};L&&!eC(ke,e)&&L(n)}),[ke,L,Ce,Ne]),Pe=(0,t.useCallback)((function(e,t){var n=function(){switch(Ne){case"century":return F;case"decade":return V;case"year":return B;case"month":return U;default:throw new Error("Invalid view: ".concat(Ne,"."))}}();n&&n(e,t)}),[U,F,B,V,Ne]),Le=(0,t.useCallback)((function(e,t){if(Ae){Pe(e,t);var n=Ie[Ie.indexOf(Ne)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");me(e),Se(n);var r={action:"drillDown",activeStartDate:e,value:Ce,view:n};L&&!eC(ke,e)&&L(r),W&&Ne!==n&&W(r),q&&q(r)}}),[ke,Ae,L,Pe,q,W,Ce,Ne,Ie]),Me=(0,t.useCallback)((function(){if(Oe){var e=Ie[Ie.indexOf(Ne)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=sS(e,ke);me(t),Se(e);var n={action:"drillUp",activeStartDate:t,value:Ce,view:e};L&&!eC(ke,t)&&L(n),W&&Ne!==e&&W(n),H&&H(n)}}),[ke,Oe,L,H,W,Ce,Ne,Ie]),Ue=(0,t.useCallback)((function(e,t){var n=Ce;Pe(e,t);var r,s=J&&!Zk(n);if(J)if(s)r=sS(Te,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");r=function(e,t,n){var r=[t,n].sort((function(e,t){return e.getTime()-t.getTime()}));return[sS(e,r[0]),oS(e,r[1])]}(Te,n,e)}else r=De(e);var a=!J||s||y?Jk({maxDate:x,maxDetail:S,minDate:C,minDetail:N,value:r,view:Ne}):null;t.persist(),me(a),_e(r);var o={action:"onChange",activeStartDate:a,value:r,view:Ne};if(L&&!eC(ke,a)&&L(o),M)if(J)if(Zk(r)){if(i){if(Array.isArray(r))throw new Error("value must not be an array");M([r||null,null],t)}}else M(r||null,t);else M(r||null,t)}),[ke,i,De,y,x,S,C,N,L,M,Pe,J,Ce,Te,Ne]);function Fe(e){ye(e)}function Be(){ye(null)}function ze(e){var n={activeStartDate:e?aS(Ne,ke):sS(Ne,ke),hover:je,locale:b,maxDate:x,minDate:C,onClick:Ae?Le:Ue,onMouseOver:J?Fe:void 0,tileClassName:le,tileContent:ce,tileDisabled:ue,value:Ce,valueType:Te};switch(Ne){case"century":return t.createElement($S,Uk({formatYear:g,showNeighboringCentury:re},n));case"decade":return t.createElement(ok,Uk({formatYear:g,showNeighboringDecade:ie},n));case"year":return t.createElement(yk,Uk({formatMonth:d,formatMonthYear:f},n));case"month":return t.createElement(Mk,Uk({calendarType:s,formatDay:u,formatLongDate:h,formatShortWeekday:p,formatWeekday:m,onClickWeekNumber:z,onMouseLeave:J?Be:void 0,showFixedNumberOfWeeks:"undefined"!==typeof ee?ee:Z,showNeighboringMonth:ae,showWeekNumbers:oe},n));default:throw new Error("Invalid view: ".concat(Ne,"."))}}(0,t.useImperativeHandle)(n,(function(){return{activeStartDate:ke,drillDown:Le,drillUp:Me,onChange:Ue,setActiveStartDate:Re,value:Ce,view:Ne}}),[ke,Le,Me,Ue,Re,Ce,Ne]);var Ve=Array.isArray(Ce)?Ce:[Ce];return t.createElement("div",{className:Qx(Fk,J&&1===Ve.length&&"".concat(Fk,"--selectRange"),Z&&"".concat(Fk,"--doubleView"),a),ref:w},ne?t.createElement(fS,{activeStartDate:ke,drillUp:Me,formatMonthYear:f,formatYear:g,locale:b,maxDate:x,minDate:C,navigationAriaLabel:I,navigationAriaLive:j,navigationLabel:A,next2AriaLabel:O,next2Label:D,nextAriaLabel:R,nextLabel:P,prev2AriaLabel:K,prev2Label:G,prevAriaLabel:Q,prevLabel:Y,setActiveStartDate:Re,showDoubleView:Z,view:Ne,views:Ie}):null,t.createElement("div",{className:"".concat(Fk,"__viewContainer"),onBlur:J?Be:void 0,onMouseLeave:J?Be:void 0},ze(),Z?ze(!0):null))})),rC=Kx.instanceOf(Date),iC=Kx.oneOfType([Kx.string,Kx.instanceOf(Date)]),sC=Kx.oneOfType([iC,(tC=iC,Kx.arrayOf(tC))]);nC.propTypes={activeStartDate:rC,allowPartialRange:Kx.bool,calendarType:BS,className:zS,defaultActiveStartDate:rC,defaultValue:sC,defaultView:GS,formatDay:Kx.func,formatLongDate:Kx.func,formatMonth:Kx.func,formatMonthYear:Kx.func,formatShortWeekday:Kx.func,formatWeekday:Kx.func,formatYear:Kx.func,goToRangeStartOnSelect:Kx.bool,inputRef:HS,locale:Kx.string,maxDate:qS,maxDetail:Kx.oneOf(Bk),minDate:VS,minDetail:Kx.oneOf(Bk),navigationAriaLabel:Kx.string,navigationAriaLive:Kx.oneOf(["off","polite","assertive"]),navigationLabel:Kx.func,next2AriaLabel:Kx.string,next2Label:Kx.node,nextAriaLabel:Kx.string,nextLabel:Kx.node,onActiveStartDateChange:Kx.func,onChange:Kx.func,onClickDay:Kx.func,onClickDecade:Kx.func,onClickMonth:Kx.func,onClickWeekNumber:Kx.func,onClickYear:Kx.func,onDrillDown:Kx.func,onDrillUp:Kx.func,onViewChange:Kx.func,prev2AriaLabel:Kx.string,prev2Label:Kx.node,prevAriaLabel:Kx.string,prevLabel:Kx.node,returnValue:Kx.oneOf(["start","end","range"]),selectRange:Kx.bool,showDoubleView:Kx.bool,showFixedNumberOfWeeks:Kx.bool,showNavigation:Kx.bool,showNeighboringCentury:Kx.bool,showNeighboringDecade:Kx.bool,showNeighboringMonth:Kx.bool,showWeekNumbers:Kx.bool,tileClassName:Kx.oneOfType([Kx.func,zS]),tileContent:Kx.oneOfType([Kx.func,Kx.node]),tileDisabled:Kx.func,value:sC,view:GS};const aC=nC,oC=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{try{const e=sy(Jb,"Events"),t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));s(t)}catch(e){console.error("Error fetching events:",e)}})()}),[]),(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(mx,{}),(0,mt.jsx)(gx,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Calendar"}),(0,mt.jsx)("style",{children:"\n            .calendar-container {\n              display: flex;\n              justify-content: center;\n            }\n\n            .calendar-wrapper {\n              width: 100%;\n              height: 80vh;\n            }\n            button {\n              padding: 10px 20px;\n              background-color: #007bff;\n              color: white;\n              border: none;\n              border-radius: 5px;\n              cursor: pointer;\n          }\n\n            .react-calendar{\n              width: 100%;\n              height: 80vh;\n              background-color: #343434;\n              color: white;\n            }\n            .react-calendar__navigation button {\n              min-width: 44px;\n              background: rgba(49, 63, 98, 0.866);\n          }\n          a{\n            color: #CCFFCC;\n          }\n          .react-calendar__month-view__days__day--neighboringMonth, .react-calendar__decade-view__years__year--neighboringDecade, .react-calendar__century-view__decades__decade--neighboringCentury {\n            color: #757575 !important;\n        }\n        .react-calendar__month-view__days__day--weekend {\n          color: white;\n      }\n      .react-calendar__tile:enabled:hover {\n        background-color: rgb(64,64,64);\n    }\n    .react-calendar__navigation button:enabled:hover, .react-calendar__navigation button:enabled:focus {\n        background-color: rgba(49, 80, 120, 0.866);\n    }\n    .react-calendar__tile--active:enabled:focus, .react-calendar__tile--active:enabled:hover {\n      background: #1087ff !important;\n  }\n .react-calendar__tile:enabled:focus {\n    background-color: rgb(69, 69, 60);\n}\n\n\n\n\n    @media (max-width: 768px) {\n        .calendar-wrapper {\n          width: 100%;\n          height: 50vh;\n          font-size: 0.8em;\n        }\n        .react-calendar{\n            width: 100%;\n            height: 50vh;\n            font-size: 0.8em;\n          }\n      }\n      @media (max-width: 568px) {\n        .calendar-wrapper {\n          width: 100%;\n          height: 40vh;\n          font-size: 0.8em;\n        }\n        .react-calendar{\n            width: 100%;\n            height: 40vh;\n            font-size: 0.8em;\n          }\n      }\n          \n          "}),(0,mt.jsx)("div",{className:"calendar-container",children:(0,mt.jsx)("div",{className:"calendar-wrapper",children:(0,mt.jsx)(aC,{onChange:e=>console.log(e),value:new Date,tileContent:e=>{let{date:t}=e;const n=new Date(t),r=new Date(n);r.setDate(r.getDate()+1);const s=r.toISOString().slice(0,10),a=i.filter((e=>e.date===s&&"close"!==e.status));return(0,mt.jsx)("div",{children:a.map((e=>(0,mt.jsx)("p",{children:(0,mt.jsx)(ke,{to:"https://fyp2-app-525c3.web.app/Student/Events/register/".concat(e.id),children:e.title})},e.id)))})}})})})]})]})},lC=()=>{const{currentUser:e}=Be((e=>e.user)),n=Xe(),[r,i]=(0,t.useState)(!0),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(0),[m,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)(!1),[w,b]=(0,t.useState)(!1),[_,x]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{try{const t=ay(Jb,"teacher",e.uid),n=await aw(t);if(n.exists()){const e=n.data();a(e),g(!1)}else console.error("User data not found")}catch(t){console.error("Error fetching user data:",t)}})()}),[e.uid]);const E=e=>{const t=(new Date).getTime()+e.name,n=Hb(Kb(Zb,"teachers/ProfileImages/"+t),e);d(!0),n.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done"),p(t)}),(e=>{console.error("Error uploading file:",e),d(!1)}),(()=>{Wb(n.snapshot.ref).then((e=>{a((t=>({...t,image:e}))),u(!0),d(!1)}))}))};return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(T_,{}),(0,mt.jsx)(N_,{onToggleMinimized:e=>{i(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsx)("div",{className:"content".concat(r?"minimized":""),children:m?(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})}):(0,mt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b(!0)},children:[(0,mt.jsx)("h2",{children:"Edit Profile"}),s.image&&(0,mt.jsx)("img",{className:"ProfileImage",src:s.image,alt:"User"}),(0,mt.jsx)("label",{children:"Name:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"text",name:"name",value:s.name,onChange:e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n})))}}),(0,mt.jsx)("label",{children:"Image:"}),(0,mt.jsx)("input",{className:"AddNewUser",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=t.type;"image/jpeg"===e||"image/png"===e||"image/gif"===e?(l(t),E(t)):alert("Only JPG, PNG, and GIF file types are allowed.")}}}),(0,mt.jsx)("button",{type:"submit",disabled:h||v,children:v?"Updating...":"Update Profile"}),0!==f&&(0,mt.jsxs)("p",{children:["Upload Progress: ",f,"%"]})]})})}),w&&(0,mt.jsx)(j_,{message:"Are you sure you want to add this event?",onConfirm:async t=>{t.preventDefault(),y(!0);try{n(((e,t)=>async n=>{n({type:At});try{const r=ay(Jb,"teacher",e);await uw(r,t),n({type:Ot})}catch(r){n({type:Dt,payload:r.message})}})(e.uid,s)),console.log("User data updated successfully"),b(!1),x(!0)}catch(r){console.error("Error updating user data:",r),b(!1)}setTimeout((()=>{y(!1)}),1500)},onCancel:()=>{b(!1)}}),_&&(0,mt.jsx)(A_,{message:"Updated successfully",onClose:()=>x(!1)})]})},cC=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{try{const e=sy(Jb,"Events"),t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));s(t)}catch(e){console.error("Error fetching events:",e)}})()}),[]),(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(T_,{}),(0,mt.jsx)(N_,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Calendar"}),(0,mt.jsx)("style",{children:"\n            .calendar-container {\n              display: flex;\n              justify-content: center;\n            }\n\n            .calendar-wrapper {\n              width: 100%;\n              height: 80vh;\n            }\n            button {\n              padding: 10px 20px;\n              background-color: #007bff;\n              color: white;\n              border: none;\n              border-radius: 5px;\n              cursor: pointer;\n          }\n\n            .react-calendar{\n              width: 100%;\n              height: 80vh;\n              background-color: #343434;\n              color: white;\n            }\n            .react-calendar__navigation button {\n              min-width: 44px;\n              background: rgba(49, 63, 98, 0.866);\n          }\n          a{\n            color: #CCFFCC;\n          }\n          .react-calendar__month-view__days__day--neighboringMonth, .react-calendar__decade-view__years__year--neighboringDecade, .react-calendar__century-view__decades__decade--neighboringCentury {\n            color: #757575 !important;\n        }\n        .react-calendar__month-view__days__day--weekend {\n          color: white;\n      }\n      .react-calendar__tile:enabled:hover {\n        background-color: rgb(64,64,64);\n    }\n    .react-calendar__navigation button:enabled:hover, .react-calendar__navigation button:enabled:focus {\n        background-color: rgba(49, 80, 120, 0.866);\n    }\n    .react-calendar__tile--active:enabled:focus, .react-calendar__tile--active:enabled:hover {\n      background: #1087ff !important;\n  }\n .react-calendar__tile:enabled:focus {\n    background-color: rgb(69, 69, 60);\n}\n\n\n\n\n    @media (max-width: 768px) {\n        .calendar-wrapper {\n          width: 100%;\n          height: 50vh;\n          font-size: 0.8em;\n        }\n        .react-calendar{\n            width: 100%;\n            height: 50vh;\n            font-size: 0.8em;\n          }\n      }\n      @media (max-width: 568px) {\n        .calendar-wrapper {\n          width: 100%;\n          height: 40vh;\n          font-size: 0.8em;\n        }\n        .react-calendar{\n            width: 100%;\n            height: 40vh;\n            font-size: 0.8em;\n          }\n      }\n          \n          "}),(0,mt.jsx)("div",{className:"calendar-container",children:(0,mt.jsx)("div",{className:"calendar-wrapper",children:(0,mt.jsx)(aC,{onChange:e=>console.log(e),value:new Date,tileContent:e=>{let{date:t}=e;const n=new Date(t),r=new Date(n);r.setDate(r.getDate()+1);const s=r.toISOString().slice(0,10),a=i.filter((e=>e.date===s&&"close"!==e.status));return(0,mt.jsx)("div",{children:a.map((e=>(0,mt.jsx)("p",{children:(0,mt.jsx)(ke,{to:"https://fyp2-app-525c3.web.app/LecturerEvent/EventDetails/".concat(e.id),children:e.title})},e.id)))})}})})})]})]})},uC=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)(null),[a,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),{id:u}=ee(),h=(new Date).toISOString().split("T")[0];(0,t.useEffect)((()=>{const t=fw(ay(Jb,"Events",u),(t=>{if(t.exists()){const n=t.data();s(n);const r=n.participate?n.participate.length:0,i=n.seats-r;s((e=>({...e,remainingSeats:i>=0?i:0}))),n.participate&&n.participate.some((t=>t.uid===e.uid))&&o(!0)}else console.error("Event details not found")}));return()=>t()}),[u,e.uid]);const d=()=>{c(!1)},f=()=>{e.email,i.title,i.date,i.time,i.link};i&&i.enddate;return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(T_,{}),(0,mt.jsx)(N_,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Register for Event"}),i?(0,mt.jsxs)(mt.Fragment,{children:[i.image&&(0,mt.jsx)("img",{className:"EventImage",src:i.image,alt:"Presentation"}),i.link&&""!==i.link.trim()?(0,mt.jsx)(ix,{onClick:()=>{window.open(i.link,"_blank")},className:"StudentEventQrCode",alt:"Download the QR code",value:"".concat(i.link),width:200,height:200}):(0,mt.jsx)("br",{}),(0,mt.jsxs)("div",{className:"event-details",children:[(0,mt.jsx)("h3",{className:"event-title",children:i.title}),(0,mt.jsxs)("div",{className:"event-details-1",children:[(0,mt.jsxs)("p",{children:["\xa0\xa0",(0,mt.jsx)("strong",{children:"Date:"})," ",i.date," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Time:"})," ",i.time," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Available Seats:"})," ",i.seats," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Presenter:"})," ",i.presenters&&i.presenters.length>0?i.presenters.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(", "):"None"," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Venue:"})," ",""===i.venue?"none":i.venue," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Faculty:"})," ",i.Faculty," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Remaining Seats:"})," ",i.remainingSeats," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Is event online:"})," ","both"===i.Online?"Online and Offline":i.Online," \xa0\xa0"]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Description:"})," ",i.description," \xa0\xa0"]})]}),(0,mt.jsx)("br",{}),i.link&&""!==i.link.trim()?(0,mt.jsx)("p",{style:{color:"#e4b500"},children:"If you can't scan the Qr Code, please click on the QR Code"}):(0,mt.jsx)("br",{})]})]}):(0,mt.jsx)("p",{children:"Loading event details..."})]})}),l&&(0,mt.jsx)(j_,{message:"Are you sure you want to register for this event?",onConfirm:i.remainingSeats>0?async()=>{try{const t=ay(Jb,"Events",u);i.remainingSeats>0?(await uw(t,{participate:gw({email:e.email,uid:e.uid})}),f(),console.log("Registration successful"),o(!0),c(!1)):d()}catch(t){console.error("Error registering for event:",t)}}:d,onCancel:d})]})};function hC(e){return at({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{strokeWidth:"2",d:"M15 19H2V1h16v4m0 0a5 5 0 110 10 5 5 0 010-10zm-3 9v8l3-2 3 2v-8M5 8h6m-6 3h5m-5 3h2M5 5h2"},child:[]}]})(e)}const dC=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)(null),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[u,h]=(0,t.useState)(0),[d,f]=(0,t.useState)(0),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[y,w]=(0,t.useState)(!1),[b,_]=(0,t.useState)(""),[x,E]=(0,t.useState)(""),[S,k]=(0,t.useState)(!1),[C,T]=(0,t.useState)(!1),[N,I]=(0,t.useState)(null),[j,A]=(0,t.useState)(!1),[O,D]=(0,t.useState)(!1),[R,P]=(0,t.useState)(null),[L,M]=(0,t.useState)(!1),[U,F]=(0,t.useState)(!1),[B,z]=(0,t.useState)(!1),[V,q]=(0,t.useState)(!1);Z();(0,t.useEffect)((()=>{(async()=>{try{const t=ay(Jb,"teacher",e.uid),n=await aw(t);if(n.exists()){const e=n.data();s(e),o(!1),e.briefing&&_(e.briefing)}else c("User data not found")}catch(l){c("Error fetching user data"),console.error("Error fetching user data:",l)}})();(async()=>{try{const t=Ky(sy(Jb,"Events"),Qy("presenting","array-contains",e.uid)),n=await lw(t);h(n.size);const r=n.docs.map((e=>e.data().title));m(r)}catch(l){console.error("Error fetching presenting events:",l)}})();(async()=>{try{const t=Ky(sy(Jb,"Events"),Qy("attending","array-contains",e.uid)),n=await lw(t);f(n.size);const r=n.docs.map((e=>e.data().title));v(r)}catch(l){console.error("Error fetching attending events:",l)}})()}),[e.uid]);return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(T_,{}),(0,mt.jsx)(N_,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[a?(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})}):l?(0,mt.jsx)("p",{children:l}):(0,mt.jsxs)("div",{className:"Portfolio",children:[(0,mt.jsx)("img",{className:"Portfolio-image",src:i.image,alt:"User"}),(0,mt.jsxs)("div",{className:"Portfolio-container",children:[(0,mt.jsx)("h2",{className:"Portfolio-Name",children:i.name}),(0,mt.jsxs)("h2",{children:["Briefing: ",i.briefing||"No briefing available"]}),(0,mt.jsxs)("div",{className:"Portfolio-details",children:[(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Email:"}),"  ",i.email]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Department: "})," ",i.department]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Scientific Title:"})," ",i.scientifictitle]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Presenting Events:"})," ",u]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Attending Events:"})," ",d]})]}),i.certificates&&(0,mt.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mt.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"98%"},children:i.certificates&&(0,mt.jsx)("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:"20px",justifyContent:"space-evenly",width:"98%",backgroundColor:"#a9d2cb",borderRadius:"10px",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.1)"},children:i.certificates.map(((e,t)=>(0,mt.jsxs)("div",{style:{width:"30%",margin:"10px",textAlign:"center"},children:[(0,mt.jsx)(hC,{style:{fontSize:"3em",cursor:"pointer"},onClick:()=>window.open(e,"_blank")}),(0,mt.jsx)("br",{}),(0,mt.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"black",wordWrap:"break-word"},children:"Certificate ".concat(t+1)}),(0,mt.jsx)("br",{}),(0,mt.jsx)("button",{onClick:()=>{P(t),M(!0)},className:"DeleteCertificate",style:{marginTop:"5px"},children:"Delete"})]},t)))})})}),(0,mt.jsxs)("div",{className:"Button-container",children:[(0,mt.jsx)("button",{onClick:()=>{w(!0)},className:"ShowEvents",children:"Show Events"}),(0,mt.jsx)("button",{onClick:()=>{k(!0)},className:"Brefing",children:"Add Briefing"}),(0,mt.jsx)("button",{onClick:()=>{T(!0)},className:"Certificates",children:"Add Certificate"})]}),(0,mt.jsx)("br",{})]})]}),y&&(0,mt.jsx)("div",{className:"Popup",children:(0,mt.jsxs)("div",{className:"Popup-content",children:[(0,mt.jsx)("span",{className:"Close-btn",onClick:()=>{w(!1)},children:"\xd7"}),(0,mt.jsxs)("div",{className:"events-container",children:[(0,mt.jsxs)("div",{className:"events-column",children:[(0,mt.jsx)("h2",{children:"Presenting Events"}),(0,mt.jsx)("ul",{children:p.map((e=>(0,mt.jsx)("li",{children:e},e)))})]}),(0,mt.jsxs)("div",{className:"events-column",children:[(0,mt.jsx)("h2",{children:"Attending Events"}),(0,mt.jsx)("ul",{children:g.map((e=>(0,mt.jsx)("li",{children:e},e)))})]})]})]})}),S&&(0,mt.jsx)("div",{className:"Popup",children:(0,mt.jsxs)("div",{className:"Popup-content",children:[(0,mt.jsx)("span",{className:"Close-btn",onClick:()=>{k(!1)},children:"\xd7"}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h2",{children:"Add Briefing"}),(0,mt.jsx)("textarea",{value:b,onChange:e=>{_(e.target.value)},style:{width:"90%"}}),x&&(0,mt.jsx)("p",{className:"error",children:x}),(0,mt.jsx)("button",{onClick:e=>{e.preventDefault(),A(!0)},children:"Add"})]})]})}),C&&(0,mt.jsx)("div",{className:"Popup",children:(0,mt.jsxs)("div",{className:"Popup-content",children:[(0,mt.jsx)("span",{className:"Close-btn",onClick:()=>{T(!1)},children:"\xd7"}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h2",{children:"Add Certificate"}),(0,mt.jsx)("input",{type:"file",accept:".png, .jpg, .pdf",onChange:e=>{const t=e.target.files[0];I(t)}}),(0,mt.jsx)("button",{onClick:e=>{e.preventDefault(),D(!0)},disabled:V,children:"Upload"})]})]})})]}),L&&(0,mt.jsx)(j_,{message:"Are you sure you want to delete this certificate?",onConfirm:()=>(async t=>{try{const n=ay(Jb,"teacher",e.uid),r=await aw(n);if(r.exists()){const e=r.data().certificates||[];e.splice(t,1),await uw(n,{certificates:e}),s((t=>({...t,certificates:e}))),P(null),M(!1),F(!0)}else console.error("User data not found")}catch(l){console.error("Error deleting certificate:",l)}})(R),onCancel:()=>M(!1)}),j&&(0,mt.jsx)(j_,{message:"Are you sure you want to Add this briefing?",onConfirm:async()=>{if(""!==b.trim())try{const t=ay(Jb,"teacher",e.uid);await uw(t,{briefing:b}),s((e=>({...e,briefing:b}))),A(!1),k(!1),z(!0)}catch(l){console.error("Error updating briefing:",l),E("Error adding briefing. Please try again.")}else E("Please enter a briefing.")},onCancel:()=>{A(!1)}}),O&&(0,mt.jsx)(j_,{message:"Are you sure you want to Add this Certificate?",onConfirm:async()=>{try{if(!N||V)return;q(!0);const t=N.name.split(".").pop(),n=Hb(Kb(Gb(),"teachers/certificates/".concat(e.uid,"_").concat(Date.now(),".").concat(t)),N),r=await n,i=await Wb(r.ref),a=ay(Jb,"teacher",e.uid),o=await aw(a);if(o.exists()){const e=o.data().certificates||[];e.push(i),await uw(a,{certificates:e}),s((t=>({...t,certificates:e}))),I(null),T(!1)}else console.error("User data not found");q(!1),D(!1),z(!0)}catch(l){q(!1),console.error("Error uploading certificate:",l)}},onCancel:()=>D(!1)}),U&&(0,mt.jsx)(R_,{message:"",onOk:()=>F(!1)}),B&&(0,mt.jsx)(A_,{message:"Add Successfully",onClose:()=>z(!1)})]})},fC=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)(null),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[u,h]=(0,t.useState)(0),[d,f]=(0,t.useState)(0),[p,m]=(0,t.useState)([]),[g,v]=(0,t.useState)([]),[y,w]=(0,t.useState)(!1),{id:b}=ee();(0,t.useEffect)((()=>{(async()=>{try{const e=ay(Jb,"teacher",b),t=await aw(e);if(t.exists()){const e=t.data();s(e),o(!1)}else c("User data not found")}catch(l){c("Error fetching user data"),console.error("Error fetching user data:",l)}})();(async()=>{try{const e=Ky(sy(Jb,"Events"),Qy("presenting","array-contains",b)),t=await lw(e);h(t.size);const n=t.docs.map((e=>e.data().title));m(n)}catch(l){console.error("Error fetching presenting events:",l)}})();(async()=>{try{const e=Ky(sy(Jb,"Events"),Qy("attending","array-contains",b)),t=await lw(e);f(t.size);const n=t.docs.map((e=>e.data().title));v(n)}catch(l){console.error("Error fetching attending events:",l)}})()}),[b]);return(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:e=>{r(e)}}),(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[a?(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})}):l?(0,mt.jsx)("p",{children:l}):(0,mt.jsxs)("div",{className:"Portfolio",children:[(0,mt.jsx)("img",{className:"Portfolio-image",src:i.image,alt:"User"}),(0,mt.jsxs)("div",{className:"Portfolio-container",children:[(0,mt.jsx)("h2",{className:"Portfolio-Name",children:i.name}),(0,mt.jsxs)("h2",{children:["Briefing: ",i.briefing]}),(0,mt.jsxs)("div",{className:"Portfolio-details",children:[(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Email:"})," ",i.email]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Department:"})," ",i.department]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Scientific Title: "}),i.scientifictitle]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Presenting Events: "}),u]}),(0,mt.jsxs)("p",{children:[(0,mt.jsx)("strong",{children:"Attending Events:"})," ",d]})]}),i.certificates&&(0,mt.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,mt.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"98%"},children:i.certificates&&(0,mt.jsx)("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:"20px",justifyContent:"space-evenly",width:"98%",backgroundColor:"#a9d2cb",borderRadius:"10px",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.1)"},children:i.certificates.map(((e,t)=>(0,mt.jsxs)("div",{style:{width:"30%",margin:"10px",textAlign:"center"},children:[(0,mt.jsx)(hC,{style:{fontSize:"3em",cursor:"pointer"},onClick:()=>window.open(e,"_blank")}),(0,mt.jsx)("br",{}),(0,mt.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"black",wordWrap:"break-word"},children:"Certificate ".concat(t+1)})]},t)))})})}),(0,mt.jsx)("div",{className:"Button-container",children:(0,mt.jsx)("button",{onClick:()=>{w(!0)},className:"ShowEvents",children:"Show Events"})}),(0,mt.jsx)("br",{})]})]}),y&&(0,mt.jsx)("div",{className:"Popup",children:(0,mt.jsxs)("div",{className:"Popup-content",children:[(0,mt.jsx)("span",{className:"Close-btn",onClick:()=>{w(!1)},children:"\xd7"}),(0,mt.jsxs)("div",{className:"events-container",children:[(0,mt.jsxs)("div",{className:"events-column",children:[(0,mt.jsx)("h2",{children:"Presenting Events"}),(0,mt.jsx)("ul",{children:p.map((e=>(0,mt.jsx)("li",{children:e},e)))})]}),(0,mt.jsxs)("div",{className:"events-column",children:[(0,mt.jsx)("h2",{children:"Attending Events"}),(0,mt.jsx)("ul",{children:g.map((e=>(0,mt.jsx)("li",{children:e},e)))})]})]})]})})]})]})},pC=()=>{const{currentUser:e}=Be((e=>e.user)),[n,r]=(Xe(),(0,t.useState)(!0)),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!0),u=Z(),h=e=>{r(e)};(0,t.useEffect)((()=>{(async()=>{try{const e=Ky(sy(Jb,"Events"),Qy("type","==","Seminar")),t=(await lw(e)).docs.map((e=>({id:e.id,...e.data()})));s(t)}catch(e){console.error("Error fetching presentations:",e)}})(),c(!1)}),[]);const d=i.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())));return l?(0,mt.jsxs)(mt.Fragment,{children:["  ",(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:h}),(0,mt.jsx)("div",{className:"spinner-container",children:(0,mt.jsx)("div",{className:"spinner"})})]}):(0,mt.jsxs)("div",{className:"App",children:[(0,mt.jsx)(f_,{}),(0,mt.jsx)(vt,{onToggleMinimized:h}),(0,mt.jsx)("div",{children:(0,mt.jsxs)("div",{className:"content".concat(n?"minimized":""),children:[(0,mt.jsx)("h2",{children:"Manage Presentations"}),(0,mt.jsx)("input",{type:"text",placeholder:"Search presentations",value:a,onChange:e=>o(e.target.value)}),(0,mt.jsx)("div",{className:"presentation-container",children:d.map((e=>(0,mt.jsxs)("div",{className:"presentation-rectangle",onClick:()=>{u("/Events/ManageEvents/ManageSeminar/EditEvent/".concat(e.id))},children:[e.image&&(0,mt.jsx)("img",{src:e.image,alt:"Presentation"}),(0,mt.jsx)("p",{className:"presentation-title",children:e.title}),(0,mt.jsxs)("p",{children:["Date: ",e.date]})]},e.id)))})]})})]})};const mC=function(){const e=Xe();return(0,t.useEffect)((()=>{$b.onAuthStateChanged((t=>{e(o_())}))}),[e]),(0,mt.jsx)(xe,{children:(0,mt.jsxs)(ge,{children:[(0,mt.jsx)(pe,{path:"/Events",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(w_,{})})}),(0,mt.jsx)(pe,{path:"/Events/AddNewEvents",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(P_,{})})}),(0,mt.jsx)(pe,{path:"/Events/ManageEvents",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(L_,{})})}),(0,mt.jsx)(pe,{path:"/Events/ManageEvents/ManagePresentation",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(M_,{})})}),(0,mt.jsx)(pe,{path:"/Events/ManageEvents/ManageWorkShop",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(hx,{})})}),(0,mt.jsx)(pe,{path:"/Events/ManageEvents/ManageOtherEvent",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(dx,{})})}),(0,mt.jsx)(pe,{path:"/Events/ManageEvents/ManageSeminar",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(pC,{})})}),(0,mt.jsx)(pe,{path:"/Events/AttendanceType",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(qx,{})})}),(0,mt.jsx)(pe,{path:"/Events/AttendanceType/Student",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(Ox,{})})}),(0,mt.jsx)(pe,{path:"/Events/AttendanceType/Lecturer",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(Hx,{})})}),(0,mt.jsx)(pe,{path:"/Events/AttendanceType/Student/:id",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(Ax,{})})}),(0,mt.jsx)(pe,{path:"/Events/AttendanceType/Lecturer/:id",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(Wx,{})})}),(0,mt.jsx)(pe,{path:"/Events/ManageEvents/ManagePresentation/EditEvent/:id",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(sx,{})})}),(0,mt.jsx)(pe,{path:"/Events/ManageEvents/ManageWorkShop/EditEvent/:id",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(sx,{})})}),(0,mt.jsx)(pe,{path:"/Events/ManageEvents/ManageOtherEvent/EditEvent/:id",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(sx,{})})}),(0,mt.jsx)(pe,{path:"/Events/ManageEvents/ManageSeminar/EditEvent/:id",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(sx,{})})}),(0,mt.jsx)(pe,{path:"/Users",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(x_,{})})}),(0,mt.jsx)(pe,{path:"/Users/AddNewStaff",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(D_,{})})}),(0,mt.jsx)(pe,{path:"/Users/AddNewStudent",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(cx,{})})}),(0,mt.jsx)(pe,{path:"/Users/AddNewTeacher",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(ux,{})})}),(0,mt.jsx)(pe,{path:"/FeedBack",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(E_,{})})}),(0,mt.jsx)(pe,{path:"/FeedBack/AddFeedback",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(ax,{})})}),(0,mt.jsx)(pe,{path:"/FeedBack/ManageFeedBack",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(ox,{})})}),(0,mt.jsx)(pe,{path:"/FeedBack/FeedbackAnswerList",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(Lx,{})})}),(0,mt.jsx)(pe,{path:"/FeedBack/FeedbackAnswerList/FeedbackUserList/:id",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(Bx,{})})}),(0,mt.jsx)(pe,{path:"/FeedBack/ManageFeedBack/EditFeedback/:id",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(lx,{})})}),(0,mt.jsx)(pe,{path:"/EvaluatePortfolio",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(p_,{})})}),(0,mt.jsx)(pe,{path:"/EvaluatePortfolio/LecturerPortfolio/:id",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(fC,{})})}),(0,mt.jsx)(pe,{path:"/StaffProfile",element:(0,mt.jsx)(y_,{children:(0,mt.jsx)(O_,{})})}),(0,mt.jsx)(pe,{path:"/",element:(0,mt.jsx)(g_,{})}),(0,mt.jsx)(pe,{path:"/LecturerEvent",element:(0,mt.jsx)(b_,{children:(0,mt.jsx)(I_,{})})}),(0,mt.jsx)(pe,{path:"/LecturerProfile",element:(0,mt.jsx)(b_,{children:(0,mt.jsx)(lC,{})})}),(0,mt.jsx)(pe,{path:"/EventCalendar",element:(0,mt.jsx)(b_,{children:(0,mt.jsx)(cC,{})})}),(0,mt.jsx)(pe,{path:"/LecturerEvent/EventDetails/:id",element:(0,mt.jsx)(b_,{children:(0,mt.jsx)(uC,{})})}),(0,mt.jsx)(pe,{path:"/Portfolio",element:(0,mt.jsx)(b_,{children:(0,mt.jsx)(dC,{})})}),(0,mt.jsx)(pe,{path:"/Student/Events",element:(0,mt.jsx)(fx,{children:(0,mt.jsx)(vx,{})})}),(0,mt.jsx)(pe,{path:"/StudentProfile",element:(0,mt.jsx)(fx,{children:(0,mt.jsx)(Dx,{})})}),(0,mt.jsx)(pe,{path:"/FeedbackList",element:(0,mt.jsx)(fx,{children:(0,mt.jsx)(Rx,{})})}),(0,mt.jsx)(pe,{path:"/FeedbackList/GiveFeedback/:id",element:(0,mt.jsx)(fx,{children:(0,mt.jsx)(Px,{})})}),(0,mt.jsx)(pe,{path:"/Student/Events/register/:id",element:(0,mt.jsx)(fx,{children:(0,mt.jsx)(jx,{})})}),(0,mt.jsx)(pe,{path:"/MyEvents",element:(0,mt.jsx)(fx,{children:(0,mt.jsx)(zx,{})})}),(0,mt.jsx)(pe,{path:"/Calendar",element:(0,mt.jsx)(fx,{children:(0,mt.jsx)(oC,{})})}),(0,mt.jsx)(pe,{path:"/notFound",element:(0,mt.jsx)(__,{})}),(0,mt.jsx)(pe,{path:"/*",element:(0,mt.jsx)(__,{})}),(0,mt.jsx)(pe,{path:"/ForgetPassword",element:(0,mt.jsx)(Vx,{})})]})})},gC=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,8206)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};function vC(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var yC=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),wC=()=>Math.random().toString(36).substring(7).split("").join("."),bC={INIT:"@@redux/INIT".concat(wC()),REPLACE:"@@redux/REPLACE".concat(wC()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(wC())};function _C(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function xC(e,t,n){if("function"!==typeof e)throw new Error(vC(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(vC(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(vC(1));return n(xC)(e,t)}let r=e,i=t,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach(((e,t)=>{a.set(t,e)})))}function u(){if(l)throw new Error(vC(3));return i}function h(e){if("function"!==typeof e)throw new Error(vC(4));if(l)throw new Error(vC(5));let t=!0;c();const n=o++;return a.set(n,e),function(){if(t){if(l)throw new Error(vC(6));t=!1,c(),a.delete(n),s=null}}}function d(e){if(!_C(e))throw new Error(vC(7));if("undefined"===typeof e.type)throw new Error(vC(8));if("string"!==typeof e.type)throw new Error(vC(17));if(l)throw new Error(vC(9));try{l=!0,i=r(i,e)}finally{l=!1}return(s=a).forEach((e=>{e()})),e}d({type:bC.INIT});return{dispatch:d,subscribe:h,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(vC(10));r=e,d({type:bC.REPLACE})},[yC]:function(){const e=h;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(vC(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[yC](){return this}}}}}n(1034);function EC(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var SC=EC();const kC={loading:!1,currentUser:i_(localStorage.getItem("user"))||null,error:null,addingStaff:!1,addingEvent:!1},CC=function(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:bC.INIT}))throw new Error(vC(12));if("undefined"===typeof n(void 0,{type:bC.PROBE_UNKNOWN_ACTION()}))throw new Error(vC(13))}))}(n)}catch(NC){i=NC}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let s=!1;const a={};for(let i=0;i<r.length;i++){const o=r[i],l=n[o],c=e[o],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(vC(14))}a[o]=u,s=s||u!==c}return s=s||r.length!==Object.keys(e).length,s?a:e}}({user:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case At:return{...e,loading:!0};case Ot:return{...e,loading:!1};case Dt:return{...e,loading:!1,error:t.payload};case"ADD_STUDENT_START":case Nt:case kt:return{...e,addingStaff:!0};case Ct:case It:case"ADD_STUDENT_SUCCESS":return{...e,addingStaff:!1};case Tt:case"ADD_STUDENT_FAIL":case jt:return{...e,addingStaff:!1,error:t.payload};case"ADD_EVENT_START":return{...e,addingEvent:!0};case"ADD_EVENT_SUCCESS":return{...e,addingEvent:!1};case"ADD_EVENT_FAIL":return{...e,addingEvent:!1,error:t.payload};case yt:case _t:return{...e,loading:!0};case xt:return{...e,currentUser:null};case St:case wt:return{...e,loading:!1,currentUser:t.payload};case bt:case Et:return{...e,loading:!1,error:t.payload};case"CLEAR_ERROR":return{...e,error:null};default:return e}}});const TC=xC(CC,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(vC(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},o=t.map((e=>e(a)));return s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}(...o)(i.dispatch),{...i,dispatch:s}}}(...[SC]));i.createRoot(document.getElementById("root")).render((0,mt.jsx)(t.StrictMode,{children:(0,mt.jsx)(We,{store:TC,children:(0,mt.jsx)(mC,{})})})),gC()})()})();